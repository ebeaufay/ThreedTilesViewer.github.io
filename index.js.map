{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/three/build/three.module.js","webpack:///./node_modules/three/examples/jsm/controls/FirstPersonControls.js","webpack:///./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack:///./node_modules/three/examples/jsm/libs/stats.module.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/Renderer.js","webpack:///./src/cache/cache.js","webpack:///./src/geometry/obb.js","webpack:///./src/index.js","webpack:///./src/loader/Loader.js","webpack:///./src/tile/tile.js","webpack:///./src/tileset.js"],"names":["normalizeArray","parts","allowAboveRoot","up","i","length","last","splice","unshift","exports","resolve","resolvedPath","resolvedAbsolute","arguments","path","process","cwd","TypeError","charAt","filter","split","p","join","normalize","isAbsolute","trailingSlash","substr","paths","Array","prototype","slice","call","index","relative","from","to","trim","arr","start","end","fromParts","toParts","Math","min","samePartsLength","outputParts","push","concat","sep","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","f","extname","startDot","startPart","preDotState","xs","res","str","len","module","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","args","Item","array","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","chdir","dir","umask","runtime","Op","Object","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","reject","record","result","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","keys","object","reverse","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","EventDispatcher","listener","_listeners","indexOf","listenerArray","event","target","l","_lut","_seed","DEG2RAD","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","MathUtils","freeze","Vector2","scalar","v","w","addVectors","subVectors","multiplyScalar","elements","minVal","maxVal","divideScalar","round","sqrt","angle","atan2","distanceToSquared","dx","dy","alpha","v1","v2","offset","attribute","getX","getY","center","isVector2","Matrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","matrix","fromArray","isMatrix3","_canvas","ImageUtils","image","test","src","HTMLCanvasElement","canvas","document","createElementNS","width","height","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","setUvTransform","copy","source","meta","isRootObject","textures","output","metadata","images","url","isArray","isDataTexture","serializeImage","dispatchEvent","uv","applyMatrix3","isTexture","HTMLImageElement","ImageBitmap","getDataURL","data","Vector4","z","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","isVector4","WebGLRenderTarget","options","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","dispose","clone","isWebGLRenderTarget","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","dot","Number","EPSILON","step","angleTo","slerp","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","callback","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","sqrSin","tDir","isQuaternion","Vector3","multiplyVectors","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","isVector3","Box3","Infinity","minX","minY","minZ","maxX","maxY","maxZ","count","points","makeEmpty","il","expandByPoint","size","halfSize","_vector$b","add","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box$3","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","clampedPoint","getSize","_points","setFromPoints","equals","isBox3","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","position","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","isMatrix4","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","onRotationChange","onQuaternionChange","_onChange","defineProperties","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","updateMatrix","premultiply","decompose","multiply","rotateOnAxis","distance","translateOnAxis","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","isObject3D","remove","id","getObjectByProperty","child","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","skeletons","JSON","stringify","toArray","isInstancedMesh","instanceMatrix","toJSON","instanceColor","serialize","library","element","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","recursive","parse","_vector1","_vector2$1","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","negate","line","delta","startSign","endSign","intersectsPlane","optionalNormalMatrix","getNormalMatrix","referencePoint","coplanarPoint","isPlane","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","u","p3","materialId","Material","fog","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","toneMapped","assign","isMaterial","onBuild","onBeforeCompile","customProgramCacheKey","setValues","newValue","flatShading","currentValue","isColor","isRoot","color","getHex","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","setColorName","toLowerCase","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","hue","saturation","lightness","getHSL","color1","color2","normalized","NAMES","MeshBasicMaterial","isMeshBasicMaterial","_vector$9","_vector2","BufferAttribute","itemSize","usage","updateRange","onUploadCallback","index1","index2","colors","vectors","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","isBufferAttribute","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","arrayMax","TYPED_ARRAYS","getTypedArray","buffer","_id","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","materialIndex","needsUpdate","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","makeTranslation","makeScale","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","jl","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","positionAttribute","getAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","isBufferGeometry","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","addGroup","hasMorphAttributes","attributeArray","setIndex","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersectsBox","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","face","isGeometry","checkIntersection","intersect","intersectTriangle","morphInfluences","influence","boneTransform","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","merge","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","isShaderMaterial","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","enabled","offsetX","offsetY","skew","getFilmWidth","makePerspective","isPerspectiveCamera","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","_needsFlipEnvMap","isCubeTexture","WebGLCubeRenderTarget","dummy","isInteger","shader","tEquirect","mesh","currentMinFilter","stencil","clear","DataTexture","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","isInterleavedBufferAttribute","deleteBuffer","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transmission","transmissionMap","WebGLBackground","cubemaps","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","isScene","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","toneMapping","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","fromEquirectangularTexture","addEventListener","onTextureDispose","removeEventListener","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphInfluencesSum","hasAttribute","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","buffergeometry","hasEventListener","onInstancedMeshDispose","instancedMesh","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getMaxBones","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","isFogExp2","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","_maxTextureSize","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","xrFramebuffer","currentBoundFramebuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","bindXRFramebuffer","framebuffer","bindFramebuffer","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","log2","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","uploadTexture","setTextureCube","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","pixelStorei","convert","glInternalFormat","mipmap","isDepthTexture","isCompressedTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isRenderTarget3D","createFramebuffer","glTextureType","isTexture3D","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","cameras","isArrayCamera","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","transform","inputjoint","jointPose","getJointPose","jointName","joint","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","onSessionEvent","onSessionEnd","disconnect","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","onInputSourcesChange","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","material2","getProgram","window","setFromProjectionMatrix","projectObject","opaqueObjects","transparentObjects","renderObjects","onAfterRender","isLOD","intersectsSprite","isImmediateRenderObject","camera2","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","texSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","arrayBuffers","_uuid","ib","setUsage","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","levels","addLevel","getObjectForDistance","raycast","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","calculateInverses","skinWeight","manhattanLength","setXYZW","skinIndex","weight","getComponent","boneIndex","boneInverses","Bone","isBone","_offsetMatrix","_identityMatrix","Skeleton","inverse","bone","json","boneInverse","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","raycastTimes","instanceId","getMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","lineDistances","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","CircleGeometry","segments","thetaStart","thetaLength","vertex","segment","CylinderGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","computeVertexNormals","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","sum","ShapeUtils","contour","pts","holes","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","isClockWise","hl","ahole","triangulateShape","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","binormals","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","LatheGeometry","phiStart","phiLength","inverseSegments","base","n1","OctahedronGeometry","ParametricGeometry","func","slices","stacks","EPS","pu","pv","sliceCount","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TextGeometry","text","font","isFont","generateShapes","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","closed","frames","P","generateBufferData","generateSegment","generateIndices","getPointAt","WireframeGeometry","edge","edges","o","ol","edge1","edge2","Geometries","BoxBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","ParametricBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TextBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","ior","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","getInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","morphTarget","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loading","FileLoader","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","open","callbacks","overrideMimeType","header","setRequestHeader","send","AnimationLoader","setPath","setWithCredentials","CompressedTextureLoader","setResponseType","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","CubeTextureLoader","urls","setCrossOrigin","DataTextureLoader","texData","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","lengths","getLengths","cacheArcLengths","current","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","t2","pt1","pt2","getTangent","mat","getTangentAt","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","isEllipseCurve","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","intPoint","isCatmullRomCurve3","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","startPoint","endPoint","getLength","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","getPoints","fromJSON","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","lastPoint","Shape","holesPts","getPointsHoles","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","makeOrthographic","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","coeff","shBasis","isSphericalHarmonics3","LightProbe","MaterialLoader","getTexture","shading","LoaderUtils","TextDecoder","decode","fromCharCode","escape","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","arrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","extractUrlBase","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","geometryShapes","bufferGeometryLoader","details","setTextures","loadImage","deserializeImage","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","objectAnimations","bind","setResourcePath","ImageBitmapLoader","createImageBitmap","fetch","fetchOptions","credentials","headers","blob","colorSpaceConversion","imageBitmap","isImageBitmapLoader","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","createPaths","toShapes","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","resolvedProperty","propertyIndex","targetObject","dest","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","root","isAnimationObjectGroup","matches","results","lastDot","getBoneByName","searchNodeSubtree","childNode","subTreeNode","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","coords","unproject","intersectObject","ascSort","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","ImmediateRenderObject","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","rotateY","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","_floatView","_int32View","DataUtils","val","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","backgroundMaterial","backgroundBox","_flatCamera","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","convertLinearToRGBE","maxComponent","fExp","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","originalAutoClear","useSolidColor","convertSRGBToLinear","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","outputSize","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","_getEncodings","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","isMultiMaterial","PointCloud","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","fromPoints","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","setRotationFromQuaternion","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateX","rotateZ","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","prototypenormal","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","getChildByName","getObjectByName","renderDepth","getWorldRotation","applyMatrix","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","setFocalLength","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","clearGroups","computeOffsets","removeAttribute","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","initMaterial","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","setBuffer","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","attach","LensFlare","revision","__THREE__","_lookDirection","_spherical","FirstPersonControls","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","mouseDragOn","autoSpeedFactor","mouseX","mouseY","moveForward","moveBackward","moveLeft","moveRight","viewHalfX","viewHalfY","lat","lon","handleResize","innerWidth","innerHeight","offsetWidth","offsetHeight","onMouseDown","button","onMouseUp","onMouseMove","pageX","pageY","offsetLeft","offsetTop","onKeyDown","moveUp","moveDown","onKeyUp","targetPosition","heightDelta","actualMoveSpeed","translateY","actualLookSpeed","verticalLookRatio","contextmenu","_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown","_onKeyUp","controls","setFromVector3","_changeEvent","_startEvent","_endEvent","OrbitControls","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","listenToKeyEvents","saveState","STATE","NONE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","pointerType","mouseAction","ctrlKey","metaKey","shiftKey","passive","MapControls","Stats","createElement","cssText","showPanel","addPanel","panel","appendChild","dom","beginTime","fpsPanel","Panel","msPanel","memPanel","begin","usedJSHeapSize","jsHeapSizeLimit","fg","bg","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","textBaseline","fillStyle","fillRect","fillText","globalAlpha","maxValue","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFMeshoptCompression","_onError","gltf","content","plugins","magic","decodeText","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","asset","GLTFParser","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","_addNodeRef","lightIndex","dependency","lightDefs","lightDef","lightNode","innerConeAngle","outerConeAngle","createUniqueName","_loadLight","_getNodeRef","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","transmissionFactor","transmissionTexture","textureIndex","textureDef","loadTextureImage","isSupported","textureLoader","uri","handler","detectSupport","Image","onload","onerror","bufferView","bufferViews","extensionDef","getDependency","decoder","supported","ready","byteOffset","byteLength","byteStride","decodeGltfBuffer","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","body","headerView","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","texCoord","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","m1","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","targets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","meshDef","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","getNormalizedComponentScale","associations","primitiveCache","meshCache","cameraCache","lightCache","nodeNamesUsed","navigator","userAgent","_invokeAll","_markDefs","beforeRoot","getDependencies","dependencies","scenes","afterRoot","skinDefs","skins","meshDefs","meshes","skinLength","skin","ref","loadScene","loadNode","_invokeOne","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","colorType","getUint8","createObjectURL","revokeObjectURL","samplers","sampler","mapName","mapDef","gltfReference","extendTexture","useVertexTangents","useVertexColors","useFlatShading","useMorphTargets","useMorphNormals","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","getMaterialType","extendParams","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","createMaterial","originalName","sanitizedName","sanitizeNodeName","primitives","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","promise","geometryPromise","meshIndex","loadGeometries","normalizeSkinWeights","toTrianglesDrawMode","assignFinalMaterial","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","meshPromise","createNodeMesh","createNodeAttachment","sceneIndex","sceneDef","nodeIds","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","computeBounds","boxScale","maxDisplacement","expandByVector","assignAttributeAccessor","gltfAttributeName","numberOfTriangles","newIndices","newGeometry","webpackPolyfill","deprecate","Renderer","supportsExtension","clock","THREE","querySelector","onWindowResize","dpr","signal","checkSize","OBB","e1","e2","e3","halfDepth","matrixToOBBCoordinateSystem","transformedPoint","inFrustum","getElementById","dirLight","tileset","Tileset","aMesh","setLoadOutsideView","setInterval","setRotation","require","gltfLoader","meshCallback","endsWith","ok","statusText","parseB3DM","parseTileset","rootPath","tile","Tile","assert","geometricError","setGeometricError","setContent","boundingVolume","setVolume","region","setRefine","refine","addChild","dataView","featureTableJSONByteLength","featureTableBinaryByteLength","batchTableJSONByteLength","batchTableBinaryByteLength","featureTableStart","batchTableStart","glbStart","glbBytes","gltfBuffer","model","loaderFunction","volume","getTilesInView","errorCoefficient","loadAroundView","getContent","getGeometricError","getRefine","getVolume","setChildren","getChildren","tilePromises","distToVolume","distanceToVolume","flat","geometricErrorMultiplier","rootTile","currentlyRenderedTiles","futureActionOnTiles","tilesetCamera","tilesetCameraHelper","setGeometricErrorMultiplier","setLoadAroundView","deleteFromCurrentScene","setScene","setCamera","projScreenMatrix","tiles","newTilesContent","toDelete","includes","contentRequests","abort","AbortController","aborted","setScale","applyNow","applyMovement","move","applyMatrixAll"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * @license\n * Copyright 2010-2021 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '128';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector2.prototype.isVector2 = true;\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nMatrix3.prototype.isMatrix3 = true;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.image = image;\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype.isTexture = true;\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector4.prototype.isVector4 = true;\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper();\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.image = {};\n\t\tthis.texture.image.width = width;\n\t\tthis.texture.image.height = height;\n\t\tthis.texture.image.depth = 1;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t}\n\n\tsetTexture( texture ) {\n\n\t\ttexture.image = {\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\tdepth: this.depth\n\t\t};\n\n\t\tthis.texture = texture;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.samples = 4;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n}\n\nWebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box$3 );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$3.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$3, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$3 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox3.prototype.isBox3 = true;\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order, update ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.prototype.isEuler = true;\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = new /*@__PURE__*/ Vector3();\nconst _q1 = new /*@__PURE__*/ Quaternion();\nconst _m1$1 = new /*@__PURE__*/ Matrix4();\nconst _target = new /*@__PURE__*/ Vector3();\n\nconst _position$3 = new /*@__PURE__*/ Vector3();\nconst _scale$2 = new /*@__PURE__*/ Vector3();\nconst _quaternion$2 = new /*@__PURE__*/ Quaternion();\n\nconst _xAxis = new /*@__PURE__*/ Vector3( 1, 0, 0 );\nconst _yAxis = new /*@__PURE__*/ Vector3( 0, 1, 0 );\nconst _zAxis = new /*@__PURE__*/ Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender() {}\n\tonAfterRender() {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast() {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype.isObject3D = true;\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2$1.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nPlane.prototype.isPlane = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.alphaToCoverage = false;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBuild: function ( /* shaderobject, renderer */ ) {},\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nColor.prototype.isColor = true;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nconst _vector$9 = new /*@__PURE__*/ Vector3();\nconst _vector2 = new /*@__PURE__*/ Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2.fromBufferAttribute( this, i );\n\t\t\t\t_vector2.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2.x, _vector2.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\nBufferAttribute.prototype.isBufferAttribute = true;\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nlet _id = 0;\n\nconst _m1 = new /*@__PURE__*/ Matrix4();\nconst _obj = new /*@__PURE__*/ Object3D();\nconst _offset = new /*@__PURE__*/ Vector3();\nconst _box$1 = new /*@__PURE__*/ Box3();\nconst _boxMorphTargets = new /*@__PURE__*/ Box3();\nconst _vector$8 = new /*@__PURE__*/ Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _id ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeFaceNormals() {\n\n\t\t// backwards compatibility\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( attributes.tangent === undefined ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = attributes.tangent.array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nBufferGeometry.prototype.isBufferGeometry = true;\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n}\n\nMesh.prototype.isMesh = true;\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh && material.skinning ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.skinning = false; // set to use skinning attribute streams\n\t\tthis.morphTargets = false; // set to use morph targets\n\t\tthis.morphNormals = false; // set to use morph normals\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.skinning = source.skinning;\n\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nCamera.prototype.isCamera = true;\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nPerspectiveCamera.prototype.isPerspectiveCamera = true;\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\tformat = format !== undefined ? format : RGBFormat;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\t// Why CubeTexture._needsFlipEnvMap is necessary:\n\t\t//\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n\t\t// when using WebGLCubeRenderTarget.texture as a cube texture.\n\n\t\tthis._needsFlipEnvMap = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nCubeTexture.prototype.isCubeTexture = true;\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options, dummy ) {\n\n\t\tif ( Number.isInteger( options ) ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\t\toptions = dummy;\n\n\t\t}\n\n\t\tsuper( size, size, options );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.texture._needsFlipEnvMap = false;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.format = RGBAFormat; // see #18859\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nclass DataTexture extends Texture {\n\n\tconstructor( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\nvar transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmissionmap_fragment: transmissionmap_fragment,\n\ttransmissionmap_pars_fragment: transmissionmap_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( name === 'instanceColor' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\nclass DataTexture2DArray extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nclass DataTexture3D extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t'precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor',\n\t\t'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV',\n\t\t'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap', 'objectSpaceNormalMap', 'tangentSpaceNormalMap', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap', 'displacementMap', 'specularMap',\n\t\t'roughnessMap', 'metalnessMap', 'gradientMap',\n\t\t'alphaMap', 'combine', 'vertexColors', 'vertexAlphas', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2',\n\t\t'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning',\n\t\t'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'premultipliedAlpha',\n\t\t'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights',\n\t\t'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows',\n\t\t'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights',\n\t\t'alphaTest', 'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering',\n\t\t'sheen', 'transmissionMap'\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( map && map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map && map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t} else {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmissionMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights() {\n\n\t\tlights.setup( lightsArray );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\n\t\tlet customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tlet useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t}\n\n\t\t\tlet useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet xrFramebuffer = null;\n\tlet currentBoundFramebuffers = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst currentScissor = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\tconst currentViewport = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindXRFramebuffer( framebuffer ) {\n\n\t\tif ( framebuffer !== xrFramebuffer ) {\n\n\t\t\tgl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\txrFramebuffer = framebuffer;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( framebuffer === null && xrFramebuffer !== null ) framebuffer = xrFramebuffer; // use active XR framebuffer if available\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\txrFramebuffer = null;\n\t\tcurrentBoundFramebuffers = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tbindXRFramebuffer: bindXRFramebuffer,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\ttextureProperties.__maxMipLevel = Math.log2( Math.max( width, height ) );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst glFormat = utils.convert( texture.format );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t} else {\n\n\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\tconst glType = utils.convert( texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\ttextureProperties.__version = texture.version;\n\n\t\tinfo.memory.textures ++;\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && texture.format === RGBFormat && ( texture.type === FloatType || texture.type === HalfFloatType ) ) {\n\n\t\t\ttexture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( isRenderTarget3D ) {\n\n\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\n\t\t\t\t\tglTextureType = isTexture3D ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nArrayCamera.prototype.isArrayCamera = true;\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nGroup.prototype.isGroup = true;\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\t\tconst state = renderer.state;\n\n\t\tlet session = null;\n\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\n\t\tlet pose = null;\n\n\t\tconst controllers = [];\n\t\tconst inputSourcesMap = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\t\tcontroller.disconnect( inputSource );\n\n\t\t\t} );\n\n\t\t\tinputSourcesMap.clear();\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\tstate.bindXRFramebuffer( null );\n\t\t\trenderer.setRenderTarget( renderer.getRenderTarget() );\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn referenceSpace;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tconst layerInit = {\n\t\t\t\t\tantialias: attributes.antialias,\n\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t};\n\n\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t// Assign inputSources to available controllers\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t\t}\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.getCamera = function ( camera ) {\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\t\t\t\tconst baseLayer = session.renderState.baseLayer;\n\n\t\t\t\tstate.bindXRFramebuffer( baseLayer.framebuffer );\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\t\t\t\t\tconst viewport = baseLayer.getViewport( view );\n\n\t\t\t\t\tconst camera = cameras[ i ];\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst controller = controllers[ i ];\n\t\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transmission.value = material.transmission;\n\n\t\tif ( material.transmissionMap ) {\n\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getClearColor() now requires a Color as an argument' );\n\n\t\t\ttarget = new Color();\n\n\t\t}\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tlet renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights();\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLightsView( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tconst bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isDataTexture3D || texture.isDataTexture2DArray ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\t\tconst glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst { width, height, data } = srcTexture.image;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isDataTexture3D ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataTexture2DArray ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\t_gl.pixelStorei( 3314, width );\n\t\t_gl.pixelStorei( 32878, height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\t_gl.texSubImage3D(\n\t\t\tglTarget,\n\t\t\tlevel,\n\t\t\tposition.x,\n\t\t\tposition.y,\n\t\t\tposition.z,\n\t\t\tsourceBox.max.x - sourceBox.min.x + 1,\n\t\t\tsourceBox.max.y - sourceBox.min.y + 1,\n\t\t\tsourceBox.max.z - sourceBox.min.z + 1,\n\t\t\tglFormat,\n\t\t\tglType,\n\t\t\tdata\n\t\t);\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nFog.prototype.isFog = true;\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nScene.prototype.isScene = true;\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new InterleavedBuffer( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nInterleavedBuffer.prototype.isInterleavedBuffer = true;\n\nconst _vector$6 = new /*@__PURE__*/ Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized ) {\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nInterleavedBufferAttribute.prototype.isInterleavedBufferAttribute = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSprite.prototype.isSprite = true;\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nSkinnedMesh.prototype.isSkinnedMesh = true;\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nBone.prototype.isBone = true;\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new BufferAttribute( new Float32Array( this.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nInstancedMesh.prototype.isInstancedMesh = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nLine.prototype.isLine = true;\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineSegments.prototype.isLineSegments = true;\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nLineLoop.prototype.isLineLoop = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nPoints.prototype.isPoints = true;\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.format = format !== undefined ? format : RGBFormat;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nVideoTexture.prototype.isVideoTexture = true;\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nCanvasTexture.prototype.isCanvasTexture = true;\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps\t= false;\n\n\t}\n\n\n}\n\nDepthTexture.prototype.isDepthTexture = true;\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices, indices, radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (±1, ±1, ±1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, ±1/φ, ±φ)\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (±1/φ, ±φ, 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (±φ, 0, ±1/φ)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nconst _v0 = new Vector3();\nconst _v1$1 = new Vector3();\nconst _normal = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry, thresholdAngle ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst precisionPoints = 4;\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\tconst indexAttr = geometry.getIndex();\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\tconst indexArr = [ 0, 0, 0 ];\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\tconst hashes = new Array( 3 );\n\n\t\tconst edgeData = {};\n\t\tconst vertices = [];\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\tif ( indexAttr ) {\n\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t} else {\n\n\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t}\n\n\t\t\tconst { a, b, c } = _triangle;\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t// create hashes for the edge from the vertices\n\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t// skip degenerate triangles\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// iterate over every edge\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\tfor ( const key in edgeData ) {\n\n\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points, segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices and uvs\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// generate normals\n\n\t\tthis.computeVertexNormals();\n\n\t\t// if the geometry is closed, we need to average the normals along the seam.\n\t\t// because the corresponding vertices are identical (but still have different UVs).\n\n\t\tif ( phiLength === Math.PI * 2 ) {\n\n\t\t\tconst normals = this.attributes.normal.array;\n\t\t\tconst n1 = new Vector3();\n\t\t\tconst n2 = new Vector3();\n\t\t\tconst n = new Vector3();\n\n\t\t\t// this is the buffer offset for the last line of vertices\n\n\t\t\tconst base = segments * points.length * 3;\n\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t\t// select the normal of the vertex in the first line\n\n\t\t\t\tn1.x = normals[ j + 0 ];\n\t\t\t\tn1.y = normals[ j + 1 ];\n\t\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t\t// select the normal of the vertex in the last line\n\n\t\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t\t// average normals\n\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t\t// assign the new values to both normals\n\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nclass ParametricGeometry extends BufferGeometry {\n\n\tconstructor( func, slices, stacks ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ParametricGeometry';\n\n\t\tthis.parameters = {\n\t\t\tfunc: func,\n\t\t\tslices: slices,\n\t\t\tstacks: stacks\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tconst EPS = 0.00001;\n\n\t\tconst normal = new Vector3();\n\n\t\tconst p0 = new Vector3(), p1 = new Vector3();\n\t\tconst pu = new Vector3(), pv = new Vector3();\n\n\t\tif ( func.length < 3 ) {\n\n\t\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t\t}\n\n\t\t// generate vertices, normals and uvs\n\n\t\tconst sliceCount = slices + 1;\n\n\t\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\t\tconst v = i / stacks;\n\n\t\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\t\tconst u = j / slices;\n\n\t\t\t\t// vertex\n\n\t\t\t\tfunc( u, v, p0 );\n\t\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t\t// normal\n\n\t\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, v );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\t\tconst a = i * sliceCount + j;\n\t\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t\t// faces one and two\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 8, heightSegments = 6, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path, tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\n\t\t// helper variables\n\n\t\tconst edge = [ 0, 0 ], edges = {};\n\n\t\tconst vertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst indices = geometry.index;\n\t\t\tlet groups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor ( let i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tconst edge1 = indices.getX( i + j );\n\t\t\t\t\t\tconst edge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( const key in edges ) {\n\n\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\n\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\treturn this;\n\n\t}\n\n}\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.vertexTangents = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.vertexTangents = source.vertexTangents;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *  ior: <float>,\n *\n *  sheen: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> )\n * }\n */\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoat = 0.0;\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\t\tObject.defineProperty( this, 'ior', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( 1 + 0.4 * this.reflectivity ) / ( 1 - 0.4 * this.reflectivity );\n\n\t\t\t},\n\t\t\tset: function ( ior ) {\n\n\t\t\t\tthis.reflectivity = clamp( 2.5 * ( ior - 1 ) / ( ior + 1 ), 0, 1 );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.sheen = null; // null will disable sheen bsdf\n\n\t\tthis.transmission = 0.0;\n\t\tthis.transmissionMap = null;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.reflectivity = source.reflectivity;\n\n\t\tif ( source.sheen ) {\n\n\t\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\n\t\t} else {\n\n\t\t\tthis.sheen = null;\n\n\t\t}\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n// ALIAS DEFINITIONS\n\nInterpolant.prototype.beforeStart_ = Interpolant.prototype.copySampleValue_;\nInterpolant.prototype.afterEnd_ = Interpolant.prototype.copySampleValue_;\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineCurve.prototype.isLineCurve = true;\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve3';\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nSplineCurve.prototype.isSplineCurve = true;\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLight.prototype.isLight = true;\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nHemisphereLight.prototype.isHemisphereLight = true;\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLightShadow.prototype.isSpotLightShadow = true;\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLight.prototype.isSpotLight = true;\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nPointLightShadow.prototype.isPointLightShadow = true;\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointLight.prototype.isPointLight = true;\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nOrthographicCamera.prototype.isOrthographicCamera = true;\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t}\n\n}\n\nDirectionalLightShadow.prototype.isDirectionalLightShadow = true;\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nDirectionalLight.prototype.isDirectionalLight = true;\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nAmbientLight.prototype.isAmbientLight = true;\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\nRectAreaLight.prototype.isRectAreaLight = true;\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nSphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLightProbe.prototype.isLightProbe = true;\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferGeometry.prototype.isInstancedBufferGeometry = true;\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute ) {\n\n\t\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\t\tmeshPerAttribute = normalized;\n\n\t\t\tnormalized = false;\n\n\t\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t\t}\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON()\t{\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferAttribute.prototype.isInstancedBufferAttribute = true;\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ] instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\t\tlet geometryShapes;\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\n\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\timages[ image.uuid ] = deserializedImage;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tlet texture;\n\t\t\t\tconst image = images[ data.image ];\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( image );\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture( image.data, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new BufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nImageBitmapLoader.prototype.isImageBitmapLoader = true;\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nFont.prototype.isFont = true;\n\nclass FontLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n}\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nHemisphereLightProbe.prototype.isHemisphereLightProbe = true;\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nAmbientLightProbe.prototype.isAmbientLightProbe = true;\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nAnimationObjectGroup.prototype.isAnimationObjectGroup = true;\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nAnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array( 1 );\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nInstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer = true;\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nGLBufferAttribute.prototype.isGLBufferAttribute = true;\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera && camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera && camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = false, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = false, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox2.prototype.isBox2 = true;\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass ImmediateRenderObject extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.material = material;\n\t\tthis.render = function ( /* renderCallback */ ) {};\n\n\t\tthis.hasPositions = false;\n\t\tthis.hasNormals = false;\n\t\tthis.hasColors = false;\n\t\tthis.hasUvs = false;\n\n\t\tthis.positionArray = null;\n\t\tthis.normalArray = null;\n\t\tthis.colorArray = null;\n\t\tthis.uvArray = null;\n\n\t\tthis.count = 0;\n\n\t}\n\n}\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkeletonHelper';\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2', colorFrustum );\n\t\taddLine( 'n2', 'n4', colorFrustum );\n\t\taddLine( 'n4', 'n3', colorFrustum );\n\t\taddLine( 'n3', 'n1', colorFrustum );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2', colorFrustum );\n\t\taddLine( 'f2', 'f4', colorFrustum );\n\t\taddLine( 'f4', 'f3', colorFrustum );\n\t\taddLine( 'f3', 'f1', colorFrustum );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1', colorFrustum );\n\t\taddLine( 'n2', 'f2', colorFrustum );\n\t\taddLine( 'n3', 'f3', colorFrustum );\n\t\taddLine( 'n4', 'f4', colorFrustum );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1', colorCone );\n\t\taddLine( 'p', 'n2', colorCone );\n\t\taddLine( 'p', 'n3', colorCone );\n\t\taddLine( 'p', 'n4', colorCone );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2', colorUp );\n\t\taddLine( 'u2', 'u3', colorUp );\n\t\taddLine( 'u3', 'u1', colorUp );\n\n\t\t// target\n\n\t\taddLine( 'c', 't', colorTarget );\n\t\taddLine( 'p', 'c', colorCross );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2', colorCross );\n\t\taddLine( 'cn3', 'cn4', colorCross );\n\n\t\taddLine( 'cf1', 'cf2', colorCross );\n\t\taddLine( 'cf3', 'cf4', colorCross );\n\n\t\tfunction addLine( a, b, color ) {\n\n\t\t\taddPoint( a, color );\n\t\t\taddPoint( b, color );\n\n\t\t}\n\n\t\tfunction addPoint( id, color ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nconst _floatView = new Float32Array( 1 );\nconst _int32View = new Int32Array( _floatView.buffer );\n\nclass DataUtils {\n\n\t// Converts float32 to float16 (stored as uint16 value).\n\n\tstatic toHalfFloat( val ) {\n\n\t\t// Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\n\n\t\t/* This method is faster than the OpenEXR implementation (very often\n\t\t* used, eg. in Ogre), with the additional benefit of rounding, inspired\n\t\t* by James Tursa?s half-precision code. */\n\n\t\t_floatView[ 0 ] = val;\n\t\tconst x = _int32View[ 0 ];\n\n\t\tlet bits = ( x >> 16 ) & 0x8000; /* Get the sign */\n\t\tlet m = ( x >> 12 ) & 0x07ff; /* Keep one extra bit for rounding */\n\t\tconst e = ( x >> 23 ) & 0xff; /* Using int is faster here */\n\n\t\t/* If zero, or denormal, or exponent underflows too much for a denormal\n\t\t\t* half, return signed zero. */\n\t\tif ( e < 103 ) return bits;\n\n\t\t/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\n\t\tif ( e > 142 ) {\n\n\t\t\tbits |= 0x7c00;\n\t\t\t/* If exponent was 0xff and one mantissa bit was set, it means NaN,\n\t\t\t\t\t\t* not Inf, so make sure we set one mantissa bit too. */\n\t\t\tbits |= ( ( e == 255 ) ? 0 : 1 ) && ( x & 0x007fffff );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\t/* If exponent underflows but not too much, return a denormal */\n\t\tif ( e < 113 ) {\n\n\t\t\tm |= 0x0800;\n\t\t\t/* Extra rounding may overflow and set mantissa to 0 and exponent\n\t\t\t\t* to 1, which is OK. */\n\t\t\tbits |= ( m >> ( 114 - e ) ) + ( ( m >> ( 113 - e ) ) & 1 );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\tbits |= ( ( e - 112 ) << 10 ) | ( m >> 1 );\n\t\t/* Extra rounding. An overflow will set mantissa to 0 and increment\n\t\t\t* the exponent, which is OK. */\n\t\tbits += m & 1;\n\t\treturn bits;\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst backgroundMaterial = new MeshBasicMaterial( {\n\tside: BackSide,\n\tdepthWrite: false,\n\tdepthTest: false,\n} );\nconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nfunction convertLinearToRGBE( color ) {\n\n\tconst maxComponent = Math.max( color.r, color.g, color.b );\n\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\tcolor.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\n\tconst alpha = ( fExp + 128.0 ) / 255.0;\n\treturn alpha;\n\n}\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\t\tthis._equirectShader = null;\n\t\tthis._cubemapShader = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t// private interface\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\t\trenderer.autoClear = false;\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background ).convertSRGBToLinear();\n\t\t\t\tscene.background = null;\n\n\t\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor ).convertSRGBToLinear();\n\n\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.autoClear = originalAutoClear;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn /* glsl */`\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials = [] ) {\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nPath.prototype.fromPoints = function ( points ) {\n\n\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\treturn this.setFromPoints( points );\n\n};\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nLoader.prototype.extractUrlBase = function ( url ) {\n\n\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\treturn LoaderUtils.extractUrlBase( url );\n\n};\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nBox2.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox2.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox2.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox2.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nBox3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox3.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox3.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox3.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\nBox3.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nSphere.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\n//\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\n//\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\n//\n\nMatrix3.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix3.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\treturn vector.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\treturn attribute.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nMatrix4.prototype.extractPosition = function ( m ) {\n\n\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\treturn this.copyPosition( m );\n\n};\n\nMatrix4.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix4.prototype.getPosition = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n};\n\nMatrix4.prototype.setRotationFromQuaternion = function ( q ) {\n\n\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\treturn this.makeRotationFromQuaternion( q );\n\n};\n\nMatrix4.prototype.multiplyToArray = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n};\n\nMatrix4.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector4 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateAxis = function ( v ) {\n\n\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\tv.transformDirection( this );\n\n};\n\nMatrix4.prototype.crossVector = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.translate = function () {\n\n\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateX = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateY = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateZ = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateByAxis = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n};\n\nMatrix4.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\treturn attribute.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.makeFrustum = function ( left, right, bottom, top, near, far ) {\n\n\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n};\n\nMatrix4.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\n//\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nQuaternion.prototype.inverse = function ( ) {\n\n\tconsole.warn( 'THREE.Quaternion: .inverse() has been renamed to invert().' );\n\treturn this.invert();\n\n};\n\n//\n\nRay.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nRay.prototype.isIntersectionPlane = function ( plane ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\treturn this.intersectsPlane( plane );\n\n};\n\nRay.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\n//\n\nTriangle.prototype.area = function () {\n\n\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\treturn this.getArea();\n\n};\n\nTriangle.prototype.barycoordFromPoint = function ( point, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn this.getBarycoord( point, target );\n\n};\n\nTriangle.prototype.midpoint = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\treturn this.getMidpoint( target );\n\n};\n\nTriangle.prototypenormal = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn this.getNormal( target );\n\n};\n\nTriangle.prototype.plane = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\treturn this.getPlane( target );\n\n};\n\nTriangle.barycoordFromPoint = function ( point, a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n};\n\nTriangle.normal = function ( a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn Triangle.getNormal( a, b, c, target );\n\n};\n\n//\n\nShape.prototype.extractAllPoints = function ( divisions ) {\n\n\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\treturn this.extractPoints( divisions );\n\n};\n\nShape.prototype.extrude = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\treturn new ExtrudeGeometry( this, options );\n\n};\n\nShape.prototype.makeGeometry = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\treturn new ShapeGeometry( this, options );\n\n};\n\n//\n\nVector2.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector2.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector2.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector3.prototype.setEulerFromRotationMatrix = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n};\n\nVector3.prototype.setEulerFromQuaternion = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n};\n\nVector3.prototype.getPositionFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\treturn this.setFromMatrixPosition( m );\n\n};\n\nVector3.prototype.getScaleFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\treturn this.setFromMatrixScale( m );\n\n};\n\nVector3.prototype.getColumnFromMatrix = function ( index, matrix ) {\n\n\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\treturn this.setFromMatrixColumn( matrix, index );\n\n};\n\nVector3.prototype.applyProjection = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\treturn this.applyMatrix4( m );\n\n};\n\nVector3.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector3.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector3.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector4.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector4.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nObject3D.prototype.getChildByName = function ( name ) {\n\n\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\treturn this.getObjectByName( name );\n\n};\n\nObject3D.prototype.renderDepth = function () {\n\n\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n};\n\nObject3D.prototype.translate = function ( distance, axis ) {\n\n\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\treturn this.translateOnAxis( axis, distance );\n\n};\n\nObject3D.prototype.getWorldRotation = function () {\n\n\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n};\n\nObject3D.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nMesh.prototype.setDrawMode = function () {\n\n\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n};\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( 'THREE.PerspectiveCamera.setLens is deprecated. ' +\n\t\t\t'Use .setFocalLength and .filmGauge for a photographic setup.' );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nBufferAttribute.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nBufferAttribute.prototype.copyIndicesArray = function ( /* indices */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n},\n\nBufferAttribute.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nBufferGeometry.prototype.addIndex = function ( index ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\tthis.setIndex( index );\n\n};\n\nBufferGeometry.prototype.addAttribute = function ( name, attribute ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t}\n\n\tif ( name === 'index' ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\tthis.setIndex( attribute );\n\n\t\treturn this;\n\n\t}\n\n\treturn this.setAttribute( name, attribute );\n\n};\n\nBufferGeometry.prototype.addDrawCall = function ( start, count, indexOffset ) {\n\n\tif ( indexOffset !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t}\n\n\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\tthis.addGroup( start, count );\n\n};\n\nBufferGeometry.prototype.clearDrawCalls = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\tthis.clearGroups();\n\n};\n\nBufferGeometry.prototype.computeOffsets = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n};\n\nBufferGeometry.prototype.removeAttribute = function ( name ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\treturn this.deleteAttribute( name );\n\n};\n\nBufferGeometry.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nInterleavedBuffer.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nInterleavedBuffer.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nExtrudeGeometry.prototype.getArrays = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .getArrays() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShapeList = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShapeList() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShape = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShape() has been removed.' );\n\n};\n\n//\n\nScene.prototype.dispose = function () {\n\n\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\n\n};\n\n//\n\nUniform.prototype.onUpdate = function () {\n\n\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\treturn this;\n\n};\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nWebGLRenderer.prototype.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\tthis.setRenderTarget( renderTarget );\n\tthis.clear( color, depth, stencil );\n\n};\n\nWebGLRenderer.prototype.animate = function ( callback ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\tthis.setAnimationLoop( callback );\n\n};\n\nWebGLRenderer.prototype.getCurrentRenderTarget = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\treturn this.getRenderTarget();\n\n};\n\nWebGLRenderer.prototype.getMaxAnisotropy = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\treturn this.capabilities.getMaxAnisotropy();\n\n};\n\nWebGLRenderer.prototype.getPrecision = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\treturn this.capabilities.precision;\n\n};\n\nWebGLRenderer.prototype.resetGLState = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\treturn this.state.reset();\n\n};\n\nWebGLRenderer.prototype.supportsFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_float' );\n\n};\n\nWebGLRenderer.prototype.supportsHalfFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_half_float' );\n\n};\n\nWebGLRenderer.prototype.supportsStandardDerivatives = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTextureS3TC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTexturePVRTC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n};\n\nWebGLRenderer.prototype.supportsBlendMinMax = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n};\n\nWebGLRenderer.prototype.supportsVertexTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\treturn this.capabilities.vertexTextures;\n\n};\n\nWebGLRenderer.prototype.supportsInstancedArrays = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n};\n\nWebGLRenderer.prototype.enableScissorTest = function ( boolean ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\tthis.setScissorTest( boolean );\n\n};\n\nWebGLRenderer.prototype.initMaterial = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPrePlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPostPlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.updateShadowMap = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setFaceCulling = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.allocTextureUnit = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture2D = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTextureCube = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.getActiveMipMapLevel = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\treturn this.getActiveMipmapLevel();\n\n};\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tconst scope = this;\n\tconst audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nconst SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxGeometry as BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleGeometry as CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeGeometry as ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderGeometry as CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronGeometry as DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeGeometry as ExtrudeBufferGeometry, ExtrudeGeometry, FaceColors, FileLoader, FlatShading, Float16BufferAttribute, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GammaEncoding, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronGeometry as IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheGeometry as LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronGeometry as OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricGeometry as ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneGeometry as PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronGeometry as PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingGeometry as RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeGeometry as ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereGeometry as SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronGeometry as TetrahedronBufferGeometry, TetrahedronGeometry, TextGeometry as TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusGeometry as TorusBufferGeometry, TorusGeometry, TorusKnotGeometry as TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeGeometry as TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGL1Renderer, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","import {\n\tMathUtils,\n\tSpherical,\n\tVector3\n} from 'three';\n\nconst _lookDirection = new Vector3();\nconst _spherical = new Spherical();\nconst _target = new Vector3();\n\nclass FirstPersonControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\n\t\t// API\n\n\t\tthis.enabled = true;\n\n\t\tthis.movementSpeed = 1.0;\n\t\tthis.lookSpeed = 0.005;\n\n\t\tthis.lookVertical = true;\n\t\tthis.autoForward = false;\n\n\t\tthis.activeLook = true;\n\n\t\tthis.heightSpeed = false;\n\t\tthis.heightCoef = 1.0;\n\t\tthis.heightMin = 0.0;\n\t\tthis.heightMax = 1.0;\n\n\t\tthis.constrainVertical = false;\n\t\tthis.verticalMin = 0;\n\t\tthis.verticalMax = Math.PI;\n\n\t\tthis.mouseDragOn = false;\n\n\t\t// internals\n\n\t\tthis.autoSpeedFactor = 0.0;\n\n\t\tthis.mouseX = 0;\n\t\tthis.mouseY = 0;\n\n\t\tthis.moveForward = false;\n\t\tthis.moveBackward = false;\n\t\tthis.moveLeft = false;\n\t\tthis.moveRight = false;\n\n\t\tthis.viewHalfX = 0;\n\t\tthis.viewHalfY = 0;\n\n\t\t// private variables\n\n\t\tlet lat = 0;\n\t\tlet lon = 0;\n\n\t\t//\n\n\t\tthis.handleResize = function () {\n\n\t\t\tif ( this.domElement === document ) {\n\n\t\t\t\tthis.viewHalfX = window.innerWidth / 2;\n\t\t\t\tthis.viewHalfY = window.innerHeight / 2;\n\n\t\t\t} else {\n\n\t\t\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\n\t\t\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.onMouseDown = function ( event ) {\n\n\t\t\tif ( this.domElement !== document ) {\n\n\t\t\t\tthis.domElement.focus();\n\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( this.activeLook ) {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveForward = true; break;\n\t\t\t\t\tcase 2: this.moveBackward = true; break;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.mouseDragOn = true;\n\n\t\t};\n\n\t\tthis.onMouseUp = function ( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( this.activeLook ) {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveForward = false; break;\n\t\t\t\t\tcase 2: this.moveBackward = false; break;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.mouseDragOn = false;\n\n\t\t};\n\n\t\tthis.onMouseMove = function ( event ) {\n\n\t\t\tif ( this.domElement === document ) {\n\n\t\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\n\t\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\n\n\t\t\t} else {\n\n\t\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\n\t\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.onKeyDown = function ( event ) {\n\n\t\t\t//event.preventDefault();\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\tcase 'KeyW': this.moveForward = true; break;\n\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\tcase 'KeyA': this.moveLeft = true; break;\n\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\tcase 'KeyS': this.moveBackward = true; break;\n\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\tcase 'KeyD': this.moveRight = true; break;\n\n\t\t\t\tcase 'KeyR': this.moveUp = true; break;\n\t\t\t\tcase 'KeyF': this.moveDown = true; break;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.onKeyUp = function ( event ) {\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\tcase 'KeyW': this.moveForward = false; break;\n\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\tcase 'KeyA': this.moveLeft = false; break;\n\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\tcase 'KeyS': this.moveBackward = false; break;\n\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\tcase 'KeyD': this.moveRight = false; break;\n\n\t\t\t\tcase 'KeyR': this.moveUp = false; break;\n\t\t\t\tcase 'KeyF': this.moveDown = false; break;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.lookAt = function ( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\t_target.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\t_target.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tthis.object.lookAt( _target );\n\n\t\t\tsetOrientation( this );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\tconst targetPosition = new Vector3();\n\n\t\t\treturn function update( delta ) {\n\n\t\t\t\tif ( this.enabled === false ) return;\n\n\t\t\t\tif ( this.heightSpeed ) {\n\n\t\t\t\t\tconst y = MathUtils.clamp( this.object.position.y, this.heightMin, this.heightMax );\n\t\t\t\t\tconst heightDelta = y - this.heightMin;\n\n\t\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.autoSpeedFactor = 0.0;\n\n\t\t\t\t}\n\n\t\t\t\tconst actualMoveSpeed = delta * this.movementSpeed;\n\n\t\t\t\tif ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\n\t\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\n\n\t\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\n\t\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\n\n\t\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\n\t\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\n\n\t\t\t\tlet actualLookSpeed = delta * this.lookSpeed;\n\n\t\t\t\tif ( ! this.activeLook ) {\n\n\t\t\t\t\tactualLookSpeed = 0;\n\n\t\t\t\t}\n\n\t\t\t\tlet verticalLookRatio = 1;\n\n\t\t\t\tif ( this.constrainVertical ) {\n\n\t\t\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\n\n\t\t\t\t}\n\n\t\t\t\tlon -= this.mouseX * actualLookSpeed;\n\t\t\t\tif ( this.lookVertical ) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\n\n\t\t\t\tlat = Math.max( - 85, Math.min( 85, lat ) );\n\n\t\t\t\tlet phi = MathUtils.degToRad( 90 - lat );\n\t\t\t\tconst theta = MathUtils.degToRad( lon );\n\n\t\t\t\tif ( this.constrainVertical ) {\n\n\t\t\t\t\tphi = MathUtils.mapLinear( phi, 0, Math.PI, this.verticalMin, this.verticalMax );\n\n\t\t\t\t}\n\n\t\t\t\tconst position = this.object.position;\n\n\t\t\t\ttargetPosition.setFromSphericalCoords( 1, phi, theta ).add( position );\n\n\t\t\t\tthis.object.lookAt( targetPosition );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', _onMouseDown );\n\t\t\tthis.domElement.removeEventListener( 'mousemove', _onMouseMove );\n\t\t\tthis.domElement.removeEventListener( 'mouseup', _onMouseUp );\n\n\t\t\twindow.removeEventListener( 'keydown', _onKeyDown );\n\t\t\twindow.removeEventListener( 'keyup', _onKeyUp );\n\n\t\t};\n\n\t\tconst _onMouseMove = this.onMouseMove.bind( this );\n\t\tconst _onMouseDown = this.onMouseDown.bind( this );\n\t\tconst _onMouseUp = this.onMouseUp.bind( this );\n\t\tconst _onKeyDown = this.onKeyDown.bind( this );\n\t\tconst _onKeyUp = this.onKeyUp.bind( this );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\t\tthis.domElement.addEventListener( 'mousemove', _onMouseMove );\n\t\tthis.domElement.addEventListener( 'mousedown', _onMouseDown );\n\t\tthis.domElement.addEventListener( 'mouseup', _onMouseUp );\n\n\t\twindow.addEventListener( 'keydown', _onKeyDown );\n\t\twindow.addEventListener( 'keyup', _onKeyUp );\n\n\t\tfunction setOrientation( controls ) {\n\n\t\t\tconst quaternion = controls.object.quaternion;\n\n\t\t\t_lookDirection.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\t\t\t_spherical.setFromVector3( _lookDirection );\n\n\t\t\tlat = 90 - MathUtils.radToDeg( _spherical.phi );\n\t\t\tlon = MathUtils.radToDeg( _spherical.theta );\n\n\t\t}\n\n\t\tthis.handleResize();\n\n\t\tsetOrientation( this );\n\n\t}\n\n}\n\nfunction contextmenu( event ) {\n\n\tevent.preventDefault();\n\n}\n\nexport { FirstPersonControls };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart );\n\t\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd );\n\t\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove );\n\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly( event ) {\n\n\t\t\tconst dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tconst dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tconst dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tonMouseDown( event );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO touch\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tonMouseMove( event );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO touch\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tonMouseUp( event );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO touch\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\t// Prevent the browser from scrolling.\n\t\t\tevent.preventDefault();\n\n\t\t\t// Manually set the focus since calling preventDefault above\n\t\t\t// prevents the browser from setting it automatically.\n\n\t\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleMouseUp( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault(); // prevent scrolling\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault(); // prevent scrolling\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleTouchEnd( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\tscope.domElement.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n\t\tscope.domElement.addEventListener( 'touchend', onTouchEnd );\n\t\tscope.domElement.addEventListener( 'touchmove', onTouchMove, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tCanvasTexture,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternionKeyframeTrack,\n\tRGBFormat,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet content;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tconst magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n\n/**\n\t * Punctual Lights Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\t */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n\t * Unlit Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\t */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n\t * Clearcoat Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n\t */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, - scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n\t * Transmission Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n\t * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n\t */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n\t * BasisU Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n\t */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst source = json.images[ extension.source ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\n\n\t}\n\n}\n\n/**\n\t * WebP Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n\t */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n\t* meshopt BufferView Compression Extension\n\t*\n\t* Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n\t*/\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\tconst source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n\t */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n\t * Texture Transform Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n\t */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\n/**\n\t * A sub class of StandardMaterial with some of the functionality\n\t * changed via the `onBeforeCompile` callback\n\t * @pailhead\n\t */\n\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n\n\tconstructor( params ) {\n\n\t\tsuper();\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tconst specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.specularRoughness += geometryRoughness;',\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tconst uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( const uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n\n\t\tthis.specularGlossinessParams = [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'normalMapType',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity',\n\t\t\t'refractionRatio',\n\t\t];\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn GLTFMeshStandardSGMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst pending = [];\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\tcreateMaterial( materialParams ) {\n\n\t\tconst material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\tmaterial.fog = true;\n\n\t\tmaterial.color = materialParams.color;\n\n\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\tmaterial.lightMap = null;\n\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\tmaterial.emissive = materialParams.emissive;\n\t\tmaterial.emissiveIntensity = 1.0;\n\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\tmaterial.bumpScale = 1;\n\n\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\tmaterial.displacementMap = null;\n\t\tmaterial.displacementScale = 1;\n\t\tmaterial.displacementBias = 0;\n\n\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\tmaterial.specular = materialParams.specular;\n\n\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\tmaterial.alphaMap = null;\n\n\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\tmaterial.envMapIntensity = 1.0;\n\n\t\tmaterial.refractionRatio = 0.98;\n\n\t\treturn material;\n\n\t}\n\n}\n\n/**\n\t * Mesh Quantization Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n\t */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\tconst result = this.resultBuffer;\n\tconst values = this.sampleValues;\n\tconst stride = this.valueSize;\n\n\tconst stride2 = stride * 2;\n\tconst stride3 = stride * 3;\n\n\tconst td = t1 - t0;\n\n\tconst p = ( t - t0 ) / td;\n\tconst pp = p * p;\n\tconst ppp = pp * p;\n\n\tconst offset1 = i1 * stride3;\n\tconst offset0 = offset1 - stride3;\n\n\tconst s2 = - 2 * ppp + 3 * pp;\n\tconst s3 = ppp - pp;\n\tconst s0 = 1 - s2;\n\tconst s1 = s3 - pp + p;\n\n\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t}\n\n\treturn result;\n\n};\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/* UTILITY FUNCTIONS */\n\nfunction resolveURL( url, path ) {\n\n\t// Invalid URL\n\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t// Host Relative URL\n\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t}\n\n\t// Absolute URL http://,https://,//\n\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t// Data URI\n\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t// Blob URL\n\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t// Relative URL\n\treturn path + url;\n\n}\n\n/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n\t * @param {Object3D|Material|BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n\t * @param {Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst source = json.images[ textureDef.source ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, source, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = source.uri;\n\t\tlet isObjectURL = false;\n\t\tlet hasAlpha = true;\n\n\t\tif ( source.mimeType === 'image/jpeg' ) hasAlpha = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\n\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n\t\t\t\t\t// alpha channel. This check is conservative — the image could have an alpha\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\n\t\t\t\t\t// sometimes contains alpha.\n\t\t\t\t\t//\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n\t\t\t\t\tconst colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n\n\t\t\t\t}\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( source.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, {\n\t\t\t\ttype: 'textures',\n\t\t\t\tindex: textureIndex\n\t\t\t} );\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tassignTexture( materialParams, mapName, mapDef ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\t\tconst useSkinning = mesh.isSkinnedMesh === true;\n\t\tconst useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tconst useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tif ( useVertexTangents ) {\n\n\t\t\t\t\tcachedMaterial.vertexTangents = true;\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tconst sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\tmaterialParams.normalScale = new Vector2( 1, - 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, - materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tlet material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tconst pending = [];\n\n\t\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t\t} );\n\n\t\t\tif ( meshPromise ) {\n\n\t\t\t\tpending.push( meshPromise );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\nfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\tconst nodeDef = json.nodes[ nodeId ];\n\n\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t// build skeleton here as well\n\n\t\tlet skinEntry;\n\n\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\tskinEntry = skin;\n\n\t\t\tconst pendingJoints = [];\n\n\t\t\tfor ( let i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingJoints );\n\n\t\t} ).then( function ( jointNodes ) {\n\n\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\tconst bones = [];\n\t\t\t\tconst boneInverses = [];\n\n\t\t\t\tfor ( let j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst jointNode = jointNodes[ j ];\n\n\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t} );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t} ).then( function ( node ) {\n\n\t\t// build node hierachy\n\n\t\tparentObject.add( node );\n\n\t\tconst pending = [];\n\n\t\tif ( nodeDef.children ) {\n\n\t\t\tconst children = nodeDef.children;\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tlet index = geometry.getIndex();\n\n\t// generate index if not present\n\n\tif ( index === null ) {\n\n\t\tconst indices = [];\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\tindices.push( i );\n\n\t\t\t}\n\n\t\t\tgeometry.setIndex( indices );\n\t\t\tindex = geometry.getIndex();\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst numberOfTriangles = index.count - 2;\n\tconst newIndices = [];\n\n\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t// gl.TRIANGLE_FAN\n\n\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t}\n\n\t} else {\n\n\t\t// gl.TRIANGLE_STRIP\n\n\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t} else {\n\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t}\n\n\t// build final geometry\n\n\tconst newGeometry = geometry.clone();\n\tnewGeometry.setIndex( newIndices );\n\n\treturn newGeometry;\n\n}\n\nexport { GLTFLoader };\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { FirstPersonControls } from 'three/examples/jsm/controls/FirstPersonControls.js';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport Stats from 'three/examples/jsm/libs/stats.module.js';\r\nimport * as THREE from 'three';\r\n\r\n//const types = { UnsignedShortType: THREE.UnsignedShortType, UnsignedIntType: THREE.UnsignedIntType, UnsignedInt248Type: THREE.UnsignedInt248Type };\r\n\r\nfunction Renderer(scene, container, camera) {\r\n    var self = this;\r\n    self.camera = camera;\r\n    this.scene = scene;\r\n    this.camera = camera;\r\n    this.renderer;\r\n    this.controls;\r\n    this.container = container;\r\n    this.supportsExtension = true;\r\n    this.clock = new THREE.Clock();\r\n\r\n\r\n    init();\r\n\r\n\r\n\r\n    function init() {\r\n        self.renderer = new THREE.WebGLRenderer();\r\n        self.renderer.antialias = true;\r\n        if (self.renderer.capabilities.isWebGL2 === false && self.renderer.extensions.has('WEBGL_depth_texture') === false) {\r\n\r\n            self.supportsExtension = false;\r\n            document.querySelector('#error').style.display = 'block';\r\n            return;\r\n        }\r\n\r\n        self.renderer.setPixelRatio(window.devicePixelRatio);\r\n        self.renderer.outputEncoding = THREE.sRGBEncoding;\r\n        self.renderer.autoClear = false;\r\n\r\n        self.renderer.setSize(self.container.offsetWidth, self.container.offsetHeight);\r\n        self.container.appendChild(self.renderer.domElement);\r\n\r\n        self.stats = new Stats();\r\n        self.container.appendChild(self.stats.dom);\r\n\r\n        self.controls = new OrbitControls(self.camera, self.renderer.domElement);\r\n        self.camera.position.set(100, 100, 100);\r\n        self.controls.target.x = 0;\r\n        self.controls.target.y = 0;\r\n        self.controls.target.z = 0;\r\n        self.controls.minDistance = 1;\r\n        self.controls.maxDistance = 5000;\r\n        self.controls.update();\r\n\r\n\r\n        onWindowResize();\r\n        window.addEventListener('resize', onWindowResize);\r\n\r\n    }\r\n\r\n    function onWindowResize() {\r\n        const aspect = self.container.offsetWidth / self.container.offsetHeight;\r\n        self.camera.aspect = aspect;\r\n        self.camera.updateProjectionMatrix();\r\n        const dpr = self.renderer.getPixelRatio();\r\n\r\n        self.renderer.setSize(self.container.offsetWidth, self.container.offsetHeight);\r\n\r\n    }\r\n\r\n    function render() {\r\n        if (!self.supportsExtension) return;\r\n        //self.camera.near = 0.0 + Math.pow(self.camera.position.y / 10, 0.5);\r\n        //self.camera.far = 1000 + self.camera.position.y * 1;\r\n        //self.camera.updateProjectionMatrix();\r\n\r\n        requestAnimationFrame(render);\r\n\r\n        self.camera.updateMatrixWorld();\r\n        self.renderer.render(scene, camera);\r\n\r\n        self.stats.update();\r\n        const delta = self.clock.getDelta();\r\n        self.controls.movementSpeed = 15;\r\n        self.controls.update(delta);\r\n    }\r\n\r\n\r\n    return {\r\n        render: render,\r\n        camera: self.camera,\r\n    }\r\n}\r\nexport { Renderer };","\r\n//import sizeof from 'object-sizeof'\r\nfunction Cache(maxSize, loader){\r\n    var self = this;\r\n    this.map = new Map();\r\n    this.maxSize = maxSize;\r\n    this.size = 0;\r\n    this.loader = loader;\r\n\r\n    function get(key, signal){\r\n        return self.loader.load(key, signal);\r\n        /*return new Promise((resolve, reject)=>{\r\n            let object = self.map.get(key);\r\n            if(!object){\r\n                resolve(self.loadFunction(key, signal).then(result=>{\r\n                    let sizeLocal = 1;\r\n                    if(!self.map.has(key)){\r\n                        self.map.set(key, {\"size\":sizeLocal, \"value\": result});\r\n                        self.size+=sizeLocal;\r\n                        checkSize();\r\n                    }\r\n                    return result;\r\n                }).catch(error=>{\r\n                    throw error;\r\n                }));\r\n            }else{\r\n                resolve(object.value);\r\n            }\r\n        })*/\r\n\r\n        //return self.loadFunction(key, signal);\r\n        \r\n    }\r\n\r\n    function checkSize(){\r\n        for (let [key, val] of self.map){\r\n            if (self.size>self.maxSize){\r\n                self.map.delete(key);\r\n                self.size -= val.size;\r\n            }else{\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return{\"get\":get};\r\n}\r\n\r\nexport {Cache};","import * as THREE from \"three\";\r\nimport { Matrix3, Sphere, Vector3 } from \"three\";\r\n\r\nfunction OBB(values){\r\n    var self = this;\r\n    this.center = new Vector3(values[0], values[1], values[2]);\r\n    var e1 = new Vector3(values[3], values[4], values[5]);\r\n    var e2 = new Vector3(values[6], values[7], values[8]);\r\n    var e3 = new Vector3(values[9], values[10], values[11]);\r\n\r\n    this.halfWidth = e1.length();\r\n    this.halfHeight = e2.length();\r\n    this.halfDepth = e3.length();\r\n\r\n    e1.normalize();\r\n    e2.normalize();\r\n    e3.normalize();\r\n\r\n    this.sphere = new Sphere(this.center, Math.sqrt(this.halfWidth * this.halfWidth + this.halfHeight * this.halfHeight + this.halfDepth * this.halfDepth));\r\n    \r\n    this.matrixToOBBCoordinateSystem = new Matrix3();\r\n    this.matrixToOBBCoordinateSystem.set( \r\n        e1.x, e1.y, e1.z,\r\n        e2.x, e2.y, e2.z,\r\n        e3.x, e3.y, e3.z );\r\n\r\n    function distanceToPoint(point){\r\n\r\n        let transformedPoint = point.clone();\r\n        transformedPoint.sub(self.center);\r\n        transformedPoint.applyMatrix3(self.matrixToOBBCoordinateSystem);\r\n\r\n        //// point to bounds \r\n        let dx = Math.max(0, Math.max(-self.halfWidth - transformedPoint.x, transformedPoint.x - self.halfWidth));\r\n        let dy = Math.max(0, Math.max(-self.halfHeight - transformedPoint.y, transformedPoint.y - self.halfHeight));\r\n        let dz = Math.max(0, Math.max(-self.halfDepth - transformedPoint.z, transformedPoint.z - self.halfDepth));\r\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\r\n    }\r\n\r\n    function inFrustum(frustum){\r\n        // frustum check simplified to bounding sphere intersection\r\n        return frustum.intersectsSphere(self.sphere);\r\n    }\r\n\r\n    return {\r\n        \"inFrustum\" : inFrustum,\r\n        \"distanceToPoint\" : distanceToPoint\r\n    }\r\n}\r\n\r\nexport {OBB};","import * as THREE from 'three';\r\nimport { Tileset } from './tileset';\r\nimport { Renderer } from './Renderer';\r\nimport \"regenerator-runtime/runtime.js\";\r\n\r\n\r\ninit();\r\n\r\n\r\nfunction init() {\r\n    var scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0x000000);\r\n\r\n\r\n\r\n\r\n    var container = document.getElementById('screen');\r\n    container.style = \"position: absolute; height:100%; width:100%; left: 0px; top:0px;\";\r\n    document.body.appendChild(container);\r\n    var camera = new THREE.PerspectiveCamera(50, window.offsetWidth / window.offsetHeight, 3, 10000);\r\n    camera.position.z = 4;\r\n\r\n\r\n    /// Lights\r\n    scene.add(new THREE.AmbientLight(0xFFFFFF, 0.5));\r\n\r\n    var dirLight = new THREE.DirectionalLight(0xffffff, 1.0);\r\n    dirLight.position.set(49, 500, 151);\r\n    dirLight.target.position.set(0, 0, 0);\r\n\r\n    scene.add(dirLight);\r\n    scene.add(dirLight.target);\r\n    //scene.add(new THREE.DirectionalLightHelper(dirLight, 5, \"#ff0000\"));\r\n\r\n    var renderer = new Renderer(scene, container, camera);\r\n    var tileset = new Tileset(\"https://ebeaufay.github.io/ThreedTilesViewer.github.io/momoyama/tileset.json\", scene, renderer.camera, 0.3, aMesh => {\r\n        //aMesh.material = new THREE.MeshPhongMaterial({ color: 0xffaaff, flatShading: true })\r\n        aMesh.material.side = THREE.DoubleSide;\r\n        //aMesh.material.flatShading = true;\r\n        //aMesh.geometry.computeVertexNormals();\r\n    });\r\n    tileset.setLoadOutsideView(true);\r\n\r\n    setInterval(function () {\r\n        tileset.update();\r\n    }, 200);\r\n\r\n    var r = 0.0;\r\n    setInterval(function () {\r\n        r+=0.001;\r\n        tileset.setRotation(0,r,0,true);\r\n    }, 10);\r\n\r\n    animate();\r\n    function animate() {\r\n        renderer.render();\r\n    }\r\n}\r\n\r\n\r\n","import { Tile } from \"../tile/tile\";\r\nimport { OBB } from \"../geometry/obb\";\r\nimport { Box3, Vector3, DoubleSide } from \"three\";\r\n\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nconst path = require('path');\r\n\r\nconst gltfLoader = new GLTFLoader( );\r\n\r\nfunction Loader(meshCallback){\r\n\tvar self = this;\r\n\tthis.meshCallback = meshCallback;\r\n\r\n\tfunction load(url, signal){\r\n\t\tif(!url.endsWith(\"b3dm\") && !url.endsWith(\"json\")){\r\n\t\t\tthrow new Error(\"unsupported format : \" + url)\r\n\t\t}\r\n\t\t\r\n\t\treturn fetch(url, !!signal?{signal: signal}:{}).then(result =>{\r\n\t\t\tif ( ! result.ok ) {\r\n\t\t\t\tthrow new Error( `couldn't load \"${ url }\". Request failed with status ${ result.status } : ${ result.statusText }` );\r\n\t\t\t}\r\n\t\t\tif(url.endsWith(\"b3dm\")){\r\n\t\t\t\treturn result.arrayBuffer().then(buffer=>parseB3DM(buffer, url)).catch(error=>console.log(error));\r\n\t\t\t}else if(url.endsWith(\"json\")){\r\n\t\t\t\treturn result.json().then(function(json){\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn parseTileset(json.root, path.dirname(url));\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}).catch(error=>{\r\n\t\t\treturn Promise.reject(error);\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction parseTileset(tileset, rootPath){\r\n\t\tvar tile = new Tile(load);\r\n\t\tconsole.assert(tileset.geometricError !== 'undefined');\r\n\t\ttile.setGeometricError(tileset.geometricError);\r\n\t\tconsole.assert(!!tileset.content);\r\n\t\tif(!!tileset.content.uri){\r\n\t\t\tif(path.isAbsolute(tileset.content.uri)){\r\n\t\t\t\ttile.setContent(tileset.content.uri);\r\n\t\t\t}else{\r\n\t\t\t\ttile.setContent(rootPath +path.sep+ tileset.content.uri)\r\n\t\t\t}\r\n\t\t}else if(!!tileset.content.url){\r\n\t\t\tif(path.isAbsolute(tileset.content.url)){\r\n\t\t\t\ttile.setContent(tileset.content.url);\r\n\t\t\t}else{\r\n\t\t\t\ttile.setContent(rootPath+path.sep+ tileset.content.url)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tconsole.assert( !!tileset.boundingVolume );\r\n\t\tif(!!tileset.boundingVolume.box){\r\n\t\t\ttile.setVolume(new OBB(tileset.boundingVolume.box), \"box\");\r\n\t\t}else if(!!tileset.boundingVolume.region){\r\n\t\t\tlet region = tileset.boundingVolume.region;\r\n\t\t\ttile.setVolume(new Box3(new Vector3(region[0], region[2], region[4]), new Vector3(region[1], region[3], region[5])), \"region\");\r\n\t\t}else if(!!tileset.boundingVolume.sphere){\r\n\t\t\tlet sphere = tileset.boundingVolume.sphere;\r\n\t\t\ttile.setVolume(new Box3(new Vector3(sphere[0], sphere[1], sphere[2]), sphere[3]), \"sphere\");\r\n\t\t}\r\n\t\r\n\t\ttile.setRefine(!!tileset.refine ? tileset.refine : \"REPLACE\");\r\n\t\r\n\t\tif(!!tileset.children){\r\n\t\t\ttileset.children.forEach(element => {\r\n\t\t\t\ttile.addChild(parseTileset(element, rootPath));\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\r\n\t\treturn tile;\r\n\t}\r\n\t\r\n\tfunction parseB3DM(arrayBuffer, url){\r\n\t\t\tconst dataView = new DataView( arrayBuffer );\r\n\t\r\n\t\t\tconst magic =\r\n\t\t\t\tString.fromCharCode( dataView.getUint8( 0 ) ) +\r\n\t\t\t\tString.fromCharCode( dataView.getUint8( 1 ) ) +\r\n\t\t\t\tString.fromCharCode( dataView.getUint8( 2 ) ) +\r\n\t\t\t\tString.fromCharCode( dataView.getUint8( 3 ) );\r\n\t\t\tconsole.assert( magic === 'b3dm' );\r\n\t\r\n\t\t\tconst version = dataView.getUint32( 4, true );\r\n\t\t\tconsole.assert( version === 1 );\r\n\t\r\n\t\t\t\r\n\t\t\tconst byteLength = dataView.getUint32( 8, true );\r\n\t\t\tconsole.assert( byteLength === arrayBuffer.byteLength );\r\n\t\r\n\t\t\t\r\n\t\t\tconst featureTableJSONByteLength = dataView.getUint32( 12, true );\r\n\t\t\tconst featureTableBinaryByteLength = dataView.getUint32( 16, true );\r\n\t\t\tconst batchTableJSONByteLength = dataView.getUint32( 20, true );\r\n\t\t\tconst batchTableBinaryByteLength = dataView.getUint32( 24, true );\r\n\t\r\n\t\t\tconst featureTableStart = 28;\r\n\t\t\t//const featureTable = new FeatureTable( arrayBuffer, featureTableStart, featureTableJSONByteLength, featureTableBinaryByteLength );\r\n\t\r\n\t\t\tconst batchTableStart = featureTableStart + featureTableJSONByteLength + featureTableBinaryByteLength;\r\n\t\t\t//const batchTable = new BatchTable( arrayBuffer, featureTable.getData( 'BATCH_LENGTH' ), batchTableStart, batchTableJSONByteLength, batchTableBinaryByteLength );\r\n\t\r\n\t\t\tconst glbStart = batchTableStart + batchTableJSONByteLength + batchTableBinaryByteLength;\r\n\t\t\tconst glbBytes = new Uint8Array( arrayBuffer, glbStart, byteLength - glbStart );\r\n\t\r\n\t\r\n\t\t\tconst gltfBuffer = glbBytes.slice().buffer;\r\n\t\t\t\r\n\t\r\n\t\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\t\t\r\n\t\t\t\tgltfLoader.parse( gltfBuffer, null, model => {\r\n\t\r\n\t\t\t\t\t//model.batchTable = b3dm.batchTable;\r\n\t\t\t\t\t//model.featureTable = b3dm.featureTable;\r\n\r\n\t\t\t\t\t//model.scene.batchTable = b3dm.batchTable;\r\n\t\t\t\t\t//model.scene.featureTable = b3dm.featureTable;\r\n\t\t\t\t\tmodel.scene.traverse((o) => {\r\n\t\t\t\t\t\tif (o.isMesh) {\r\n\t\t\t\t\t\t\tif(!!self.meshCallback){\r\n\t\t\t\t\t\t\t\tself.meshCallback(o);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\to.material.side = DoubleSide;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  });\r\n\t\t\t\t\tresolve( {\"model\":model, \"url\":url} );\r\n\t\t\t\t}, reject );\r\n\t\t\t} );\r\n\t}\r\n\treturn{\r\n\t\t\"load\":load\r\n\t}\r\n}\r\n\r\nexport {Loader};","function Tile(loaderFunction){\r\n    var self = this;\r\n    this.children = [];\r\n    this.volume;\r\n    this.refine;\r\n    this.geometricError;\r\n    this.content;\r\n    this.loader = loaderFunction;\r\n\r\n    function getTilesInView(frustum, cameraPosition, errorCoefficient, loadAroundView){\r\n        if(self.content.endsWith(\".json\")){\r\n            return loaderFunction(self.content).then(tile=>{\r\n                setContent(tile.getContent());\r\n                setGeometricError(tile.getGeometricError());\r\n                setRefine(tile.getRefine());\r\n                setVolume(tile.getVolume(), tile.getVolume().type);\r\n                setChildren(tile.getChildren());\r\n                return traverse(frustum, cameraPosition, errorCoefficient, loadAroundView);\r\n            }).catch(error=>{\r\n                throw error;\r\n            });\r\n            // if the content is a json, parse it and fill this tile with the result's values\r\n        }else{\r\n            return traverse(frustum, cameraPosition, errorCoefficient, loadAroundView);\r\n        }\r\n        \r\n    }\r\n\r\n    function traverse(frustum, cameraPosition, errorCoefficient, loadAroundView){\r\n        let tilePromises = [];\r\n        let distToVolume = distanceToVolume(cameraPosition)/(errorCoefficient*200);\r\n        if(inFrustum(frustum)){\r\n            if((!!self.refine && self.refine.toUpperCase() === \"ADD\") || self.children.length == 0 || distToVolume > self.geometricError){\r\n                tilePromises.push(Promise.resolve([self]));\r\n            }\r\n\r\n            if(self.children.length > 0 && distToVolume < self.geometricError){\r\n                self.children.forEach(child => tilePromises.push(child.getTilesInView(frustum, cameraPosition, errorCoefficient, loadAroundView)));\r\n            }\r\n        }else if (!!loadAroundView){\r\n            tilePromises.push(Promise.resolve([self]));\r\n        }\r\n        return Promise.all(tilePromises).then(children=> {\r\n            return children.flat();\r\n        }).catch(error=>{\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function setChildren(children){\r\n        self.children = children;\r\n    }\r\n    function distanceToVolume(point){\r\n        if(!self.volume || !self.volume.type || !point){\r\n            return Number.MAX_VALUE;\r\n        }\r\n        switch (self.volume.type){\r\n            case \"box\": return self.volume.distanceToPoint(point);\r\n            case \"sphere\" : return Math.max(0, point.distanceTo(self.volume.center) - self.volume.radius);\r\n            case \"region\" : return self.volume.distanceToPoint(point);\r\n        }\r\n    }\r\n    function inFrustum(frustum){\r\n        if(!self.volume || !self.volume.type || !frustum){\r\n            return false;\r\n        }\r\n        switch (self.volume.type){\r\n            case \"box\": return self.volume.inFrustum(frustum);\r\n            case \"sphere\" : return frustum.intersectsSphere(self.volume);\r\n            case \"region\" : return frustum.intersectsBox(self.volume);\r\n        }\r\n    }\r\n\r\n    function setVolume(volume, type){\r\n        if(type != \"box\" && type != \"sphere\" && type != \"region\"){\r\n            throw \"volume type should be box, sphere or region but was : \"+type;\r\n        }\r\n        self.volume = volume;\r\n        self.volume.type = type;\r\n    }\r\n\r\n    function getVolume(){\r\n        return self.volume;\r\n    }\r\n\r\n    function addChild(child){\r\n        self.children.push(child);\r\n    }\r\n\r\n    function getChildren(){\r\n        return self.children;\r\n    }\r\n\r\n    function setGeometricError(geometricError){\r\n        self.geometricError = geometricError;\r\n    }\r\n    function getGeometricError(){\r\n        return self.geometricError;\r\n    }\r\n    function setRefine(refine){\r\n        self.refine = refine;\r\n    }\r\n    function getRefine(){\r\n        return self.refine;\r\n    }\r\n    function setContent(content){\r\n        self.content = content;\r\n    }\r\n    function getContent(){\r\n        return self.content;\r\n    }\r\n\r\n    return{\r\n        \"getTilesInView\" : getTilesInView,\r\n        \"addChild\" : addChild,\r\n        \"getChildren\":getChildren,\r\n        \"setVolume\": setVolume,\r\n        \"getVolume\": getVolume,\r\n        \"setGeometricError\": setGeometricError,\r\n        \"getGeometricError\":getGeometricError,\r\n        \"setRefine\" : setRefine,\r\n        \"getRefine\" : getRefine,\r\n        \"setContent\" : setContent,\r\n        \"getContent\" : getContent,\r\n        \"setChildren\": setChildren,\r\n        \"inFrustum\" : inFrustum\r\n    }\r\n} \r\nexport {Tile};","import { Cache } from \"./cache/cache\";\r\nimport { Loader } from \"./loader/Loader\";\r\nimport * as THREE from 'three';\r\n\r\n\r\n\r\nfunction Tileset(url, scene, camera, geometricErrorMultiplier, meshCallback) {\r\n    var self = this;\r\n    this.rootTile;\r\n    if (!!scene) this.scene = scene;\r\n    this.camera = camera;\r\n    this.geometricErrorMultiplier = !!geometricErrorMultiplier ? geometricErrorMultiplier : 1;\r\n    this.currentlyRenderedTiles = {};\r\n    this.futureActionOnTiles = {};\r\n    this.loadAroundView = false;\r\n    this.loader = new Loader(meshCallback);\r\n    this.cache = new Cache(100, this.loader);\r\n    this.loader.load(url).then(rootTile => {\r\n        self.rootTile = rootTile;\r\n        update();\r\n    });\r\n    this.matrix = new THREE.Matrix4();\r\n    this.position = new THREE.Vector3();\r\n    this.scale = new THREE.Vector3(1,1,1);\r\n    this.rotation = new THREE.Quaternion();\r\n    this.tilesetCamera = this.camera.clone();\r\n    this.tilesetCameraHelper = new THREE.CameraHelper(this.tilesetCamera);\r\n\r\n    function setGeometricErrorMultiplier(geometricErrorMultiplier) {\r\n        self.geometricErrorMultiplier = geometricErrorMultiplier;\r\n    }\r\n    function setLoadAroundView(loadAroundView) {\r\n        self.loadAroundView = loadAroundView;\r\n    }\r\n    function deleteFromCurrentScene() {\r\n        if (!!self.scene) {\r\n            Object.values(self.currentlyRenderedTiles).forEach(element => {\r\n                self.scene.remove(element.scene);\r\n            });\r\n        }\r\n        self.currentlyRenderedTiles = {}\r\n        self.scene = null;\r\n    }\r\n    function setScene(scene) {\r\n        deleteFromCurrentScene();\r\n        self.scene = scene;\r\n        update();\r\n    }\r\n\r\n    function setCamera(camera) {\r\n        self.camera = camera;\r\n    }\r\n\r\n    function update() {\r\n        if (!self.rootTile || !self.scene) {\r\n            return;\r\n        }\r\n        var frustum = new THREE.Frustum();\r\n        self.tilesetCamera.copy(self.camera, false);\r\n        self.tilesetCamera.applyMatrix4(self.matrix.clone().invert());\r\n        self.tilesetCamera.updateMatrixWorld(true);\r\n        self.tilesetCamera.updateProjectionMatrix();\r\n        //self.tilesetCameraHelper.update();\r\n        var projScreenMatrix = new THREE.Matrix4();\r\n        projScreenMatrix.multiplyMatrices(self.tilesetCamera.projectionMatrix, self.tilesetCamera.matrixWorldInverse);\r\n        frustum.setFromProjectionMatrix(projScreenMatrix);\r\n\r\n        self.rootTile.getTilesInView(frustum, self.tilesetCamera.position, self.geometricErrorMultiplier, self.loadAroundView).then(tiles => {\r\n            if (tiles.length > 0 && !!self.scene) {\r\n                let newTilesContent = tiles.map(tile => tile.content);\r\n                let toDelete = [];\r\n                Object.keys(self.currentlyRenderedTiles).forEach(current => {\r\n                    if (!newTilesContent.includes(current)) {\r\n                        self.futureActionOnTiles[current] = \"toDelete\";\r\n                        toDelete.push(current);\r\n                    }\r\n                });\r\n                var contentRequests = [];\r\n                newTilesContent.forEach(content => {\r\n                    if (!self.currentlyRenderedTiles[content]) {\r\n                        if (self.futureActionOnTiles[content] !== \"toUpdate\") {\r\n                            self.futureActionOnTiles[content] = \"toUpdate\";\r\n                            contentRequests.push(self.cache.get(content/*, controller.signal*/).then(gltf => {\r\n                                if (!!gltf && !!self.scene) {\r\n                                    if (self.futureActionOnTiles[content] === \"toUpdate\") {\r\n                                        applyMatrix(gltf.model.scene);\r\n                                        self.scene.add(gltf.model.scene);\r\n                                        self.currentlyRenderedTiles[content] = gltf.model;\r\n                                        delete self.futureActionOnTiles[content];\r\n                                    }\r\n                                }\r\n                            }).catch(error => {\r\n                                console.error(error);\r\n                            }));\r\n                        };\r\n\r\n                    } else if (!!self.futureActionOnTiles[content]) {\r\n                        delete self.futureActionOnTiles[content];\r\n                    }\r\n                });\r\n                if (contentRequests.length > 0) {\r\n                    if (!!self.controller) {\r\n                        self.controller.abort();\r\n                    }\r\n                    let controller = new AbortController();\r\n                    self.controller = controller;\r\n\r\n                    Promise.all(contentRequests).catch(error => {\r\n                        console.log(error);\r\n                    }).finally(() => {\r\n                        if (!controller.signal.aborted && !!self.scene) {\r\n                            toDelete.forEach(url => {\r\n                                setTimeout(() => {\r\n                                    if (self.futureActionOnTiles[url] === \"toDelete\") {\r\n                                        self.scene.remove(self.currentlyRenderedTiles[url].scene);\r\n                                        delete self.currentlyRenderedTiles[url];\r\n                                        delete self.futureActionOnTiles[url];\r\n                                    }\r\n                                }, 0);\r\n                            })\r\n                        }\r\n\r\n                    });\r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n    function setScale(x, y, z, applyNow) {\r\n        self.scale.set(x, y, z);\r\n        if (!!applyNow) applyMovement();\r\n    }\r\n\r\n    function setRotation(x, y, z, applyNow) {\r\n        self.rotation.setFromEuler(new THREE.Euler( x,y,z, 'XYZ' ));\r\n        if (!!applyNow) applyMovement();\r\n    }\r\n\r\n    function translate(x, y, z, applyNow) {\r\n        self.position.set(self.position.x + x, self.position.y + y, self.position.z + z);\r\n        if (!!applyNow) applyMovement();\r\n    }\r\n\r\n    function move(x, y, z, applyNow) {\r\n        self.position.set(x, y, z);\r\n        if (!!applyNow) applyMovement();\r\n    }\r\n\r\n    function applyMatrixAll() {\r\n        for (var model in self.currentlyRenderedTiles) {\r\n            applyMatrix(self.currentlyRenderedTiles[model].scene);\r\n        }\r\n    }\r\n    function applyMatrix(object) {\r\n        object.matrix.copy(self.matrix);\r\n        //object.updateMatrix();\r\n        object.matrix.decompose(object.position, object.quaternion, object.scale);\r\n    }\r\n\r\n    function applyMovement() {\r\n        self.matrix.compose(self.position, self.rotation, self.scale);\r\n        applyMatrixAll();\r\n    }\r\n\r\n    return {\r\n        \"setScene\": setScene,\r\n        \"update\": update,\r\n        \"setCamera\": setCamera,\r\n        \"deleteFromCurrentScene\": deleteFromCurrentScene,\r\n        \"setLoadOutsideView\": setLoadAroundView,\r\n        \"setGeometricErrorMultiplier\": setGeometricErrorMultiplier,\r\n        \"setRotation\": setRotation,\r\n        \"translate\": translate,\r\n        \"move\": move,\r\n        \"setScale\": setScale,\r\n        \"matrix\": self.matrix\r\n    }\r\n}\r\n\r\nexport { Tileset };"],"sourceRoot":""}