{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/three/build/three.module.js","webpack:///./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack:///./node_modules/three/examples/jsm/libs/stats.module.js","webpack:///./node_modules/three/examples/jsm/loaders/DRACOLoader.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/decoder/B3DMDecoder.js","webpack:///./src/decoder/LegacyGLTFLoader.js","webpack:///./src/geometry/obb.js","webpack:///./src/index.js","webpack:///./src/tileset/OGC3DTile.js"],"names":["normalizeArray","parts","allowAboveRoot","up","i","length","last","splice","unshift","exports","resolve","resolvedPath","resolvedAbsolute","arguments","path","process","cwd","TypeError","charAt","filter","split","p","join","normalize","isAbsolute","trailingSlash","substr","paths","Array","prototype","slice","call","index","relative","from","to","trim","arr","start","end","fromParts","toParts","Math","min","samePartsLength","outputParts","push","concat","sep","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","f","extname","startDot","startPart","preDotState","xs","res","str","len","module","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","args","Item","array","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","chdir","dir","umask","runtime","Op","Object","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","reject","record","result","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","keys","object","reverse","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","EventDispatcher","listener","_listeners","indexOf","listenerArray","event","target","l","_lut","_seed","DEG2RAD","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","MathUtils","freeze","Vector2","scalar","v","w","addVectors","subVectors","multiplyScalar","elements","minVal","maxVal","divideScalar","round","sqrt","angle","atan2","distanceToSquared","dx","dy","alpha","v1","v2","offset","attribute","getX","getY","center","isVector2","Matrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","matrix","fromArray","isMatrix3","_canvas","ImageUtils","image","test","src","HTMLCanvasElement","canvas","document","createElementNS","width","height","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","isRenderTargetTexture","setUvTransform","copy","source","meta","isRootObject","textures","output","metadata","images","url","isArray","isDataTexture","serializeImage","dispatchEvent","uv","applyMatrix3","isTexture","HTMLImageElement","ImageBitmap","getDataURL","data","Vector4","z","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","isVector4","WebGLRenderTarget","options","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","dispose","clone","isWebGLRenderTarget","WebGLMultipleRenderTargets","count","il","isWebGLMultipleRenderTargets","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","dot","Number","EPSILON","step","angleTo","slerp","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","callback","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","sqrSin","tDir","isQuaternion","Vector3","multiplyVectors","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","isVector3","Box3","Infinity","minX","minY","minZ","maxX","maxY","maxZ","points","makeEmpty","expandByPoint","size","halfSize","_vector$b","add","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box$3","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","clampedPoint","getSize","_points","setFromPoints","equals","isBox3","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","yx","zx","zy","position","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","isMatrix4","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","onRotationChange","onQuaternionChange","_onChange","defineProperties","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","updateMatrix","premultiply","decompose","multiply","rotateOnAxis","distance","translateOnAxis","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","isObject3D","remove","id","getObjectByProperty","child","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","skeletons","JSON","stringify","toArray","isInstancedMesh","instanceMatrix","toJSON","instanceColor","serialize","library","element","isScene","background","isColor","environment","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","recursive","parse","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","u","p3","materialId","Material","fog","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","toneMapped","onBeforeCompile","newValue","flatShading","currentValue","isRoot","color","getHex","roughness","metalness","sheen","emissive","emissiveIntensity","specular","specularIntensity","specularTint","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularTintMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationTint","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","srcPlanes","dstPlanes","isMaterial","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","setColorName","toLowerCase","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","hue","saturation","lightness","delta","getHSL","color1","color2","normalized","NAMES","MeshBasicMaterial","setValues","isMeshBasicMaterial","_vector$9","_vector2$1","BufferAttribute","itemSize","usage","updateRange","index1","index2","colors","vectors","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","onUploadCallback","isBufferAttribute","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","arrayMax","TYPED_ARRAYS","getTypedArray","buffer","_id","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","materialIndex","needsUpdate","getNormalMatrix","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","makeTranslation","makeScale","negate","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","jl","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","positionAttribute","getAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","isBufferGeometry","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","convertBufferAttribute","array2","isInterleavedBufferAttribute","stride","geometry2","newAttribute","morphArray","addGroup","hasMorphAttributes","attributeArray","setIndex","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","assign","ml","String","morphTargets","raycaster","intersects","intersectsBox","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","face","isGeometry","checkIntersection","intersect","intersectTriangle","morphInfluences","influence","boneTransform","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","merge","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","isShaderMaterial","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","enabled","offsetX","offsetY","skew","getFilmWidth","makePerspective","isPerspectiveCamera","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","isCubeTexture","WebGLCubeRenderTarget","dummy","isInteger","_needsFlipEnvMap","shader","tEquirect","mesh","currentMinFilter","stencil","clear","_vector1","_vector2","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","line","startSign","endSign","intersectsPlane","optionalNormalMatrix","referencePoint","coplanarPoint","isPlane","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","deleteBuffer","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmission_fragment","transmission_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transmissionSamplerSize","transmissionSamplerMap","WebGLBackground","cubemaps","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","toneMapping","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","fromEquirectangularTexture","addEventListener","onTextureDispose","removeEventListener","OrthographicCamera","scaleW","scaleH","makeOrthographic","isOrthographicCamera","RawShaderMaterial","isRawShaderMaterial","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","backgroundMaterial","backgroundBox","_flatCamera","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","convertLinearToRGBE","maxComponent","fExp","log2","PMREMGenerator","_renderer","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","params","_isLDR","_createRenderTarget","tmpMesh","compile","cubeCamera","upSign","forwardSign","originalAutoClear","outputEncoding","useSolidColor","convertSRGBToLinear","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","sum","weight","outputSize","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","_getEncodings","WebGLCubeUVMaps","cubeUVmaps","pmremGenerator","isEquirectMap","isCubeMap","isCubeTextureComplete","fromEquirectangular","fromCubemap","cubemapUV","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphNormals","morphInfluencesSum","hasAttribute","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","buffergeometry","hasEventListener","onInstancedMeshDispose","instancedMesh","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","skinning","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","specularTintMapEncoding","lightMapEncoding","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","WebGLPrograms","cubeuvmaps","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getMaxBones","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","isMeshStandardMaterial","isFogExp2","directional","spot","rectArea","hemi","shadowMap","customProgramCacheKey","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","transmissive","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterial","_distanceMaterial","_materialCache","_maxTextureSize","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterial","customMaterial","customDistanceMaterial","customDepthMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","xrFramebuffer","currentBoundFramebuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","scissorParam","viewportParam","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","bindXRFramebuffer","framebuffer","bindFramebuffer","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","attachmentProperties","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","uploadTexture","setTextureCube","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","pixelStorei","convert","glInternalFormat","mipmap","isDepthTexture","isCompressedTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isMultipleRenderTargets","isRenderTarget3D","createFramebuffer","glTextureType","isTexture3D","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","cameras","isArrayCamera","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","transform","inputjoint","jointPose","getJointPose","jointName","joint","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","glBinding","glFramebuffer","glProjLayer","glBaseLayer","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","cameraAutoUpdate","isPresenting","getController","controller","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","onSessionEvent","onSessionEnd","disconnect","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","onInputSourcesChange","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","XRWebGLLayer","updateRenderState","baseLayer","depthFormat","projectionlayerInit","colorFormat","scaleFactor","XRWebGLBinding","createProjectionLayer","requestReferenceSpace","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","updateCamera","depthNear","depthFar","getCamera","getFoveation","fixedFoveation","setFoveation","foveation","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","glSubImage","getViewSubImage","depthStencilTexture","colorTexture","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","transmissionRenderTarget","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_currentDrawBuffers","_clippingEnabled","_localClippingEnabled","_transmissionRenderTarget","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","material2","getProgram","window","setFromProjectionMatrix","projectObject","opaqueObjects","transmissiveObjects","transparentObjects","renderObjects","renderTransmissiveObjects","onAfterRender","isLOD","intersectsSprite","isImmediateRenderObject","needsAntialias","renderTargetType","currentToneMapping","camera2","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","onBuild","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","boneTexture","computeBoneTexture","boneTextureSize","markUniformsLightsNeedsUpdate","framebufferBound","drawBuffersWEBGL","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","texSubImage3D","compressedTexSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","arrayBuffers","_uuid","ib","setUsage","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","levels","addLevel","getObjectForDistance","raycast","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","calculateInverses","skinWeight","manhattanLength","setXYZW","skinIndex","getComponent","boneIndex","boneInverses","Bone","isBone","DataTexture","_offsetMatrix","_identityMatrix","Skeleton","boneMatrices","inverse","bone","json","boneInverse","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","raycastTimes","instanceId","getMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","lineDistances","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","CircleGeometry","segments","thetaStart","thetaLength","vertex","segment","CylinderGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","computeVertexNormals","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","details","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","getPointAt","lengths","getLengths","cacheArcLengths","current","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","t2","pt1","pt2","getTangent","closed","binormals","vec","mat","getTangentAt","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","isEllipseCurve","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","px","py","pz","CatmullRomCurve3","curveType","intPoint","isCatmullRomCurve3","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","ShapeUtils","contour","pts","holes","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","isClockWise","hl","ahole","triangulateShape","scalePt2","pt","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","geometryShapes","fromJSON","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","LatheGeometry","phiStart","phiLength","inverseSegments","base","n1","OctahedronGeometry","ParametricGeometry","func","slices","stacks","EPS","pu","pv","sliceCount","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TextGeometry","text","font","isFont","generateShapes","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","frames","P","generateBufferData","generateSegment","generateIndices","WireframeGeometry","edges","Set","o","ol","isUniqueEdge","hash1","hash2","Geometries","BoxBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","ParametricBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TextBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","ior","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","getInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","morphTarget","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loading","FileLoader","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","open","callbacks","overrideMimeType","header","setRequestHeader","send","AnimationLoader","setPath","setWithCredentials","CompressedTextureLoader","setResponseType","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","CubeTextureLoader","urls","setCrossOrigin","DataTextureLoader","texData","TextureLoader","isJPEG","search","CurvePath","curves","autoClose","curve","startPoint","endPoint","getLength","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","getPoints","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","lastPoint","Shape","holesPts","getPointsHoles","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","coeff","shBasis","isSphericalHarmonics3","LightProbe","MaterialLoader","getTexture","shading","LoaderUtils","TextDecoder","decode","fromCharCode","escape","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","arrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","extractUrlBase","loadAsync","parseAsync","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","parseImagesAsync","bufferGeometryLoader","setTextures","loadImage","deserializeImage","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","objectAnimations","bind","setResourcePath","ImageBitmapLoader","createImageBitmap","fetch","fetchOptions","credentials","headers","blob","colorSpaceConversion","imageBitmap","isImageBitmapLoader","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","createPaths","toShapes","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","resolvedProperty","propertyIndex","targetObject","dest","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","root","isAnimationObjectGroup","matches","results","lastDot","getBoneByName","searchNodeSubtree","childNode","subTreeNode","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","coords","unproject","intersectObject","ascSort","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","ImmediateRenderObject","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","rotateY","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","xAxisColor","yAxisColor","zAxisColor","_floatView","_int32View","DataUtils","val","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","isMultiMaterial","PointCloud","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","fromPoints","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","setRotationFromQuaternion","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateX","rotateZ","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","prototypenormal","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","getChildByName","getObjectByName","renderDepth","getWorldRotation","applyMatrix","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","setFocalLength","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","clearGroups","computeOffsets","removeAttribute","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","initMaterial","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","setBuffer","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","attach","LensFlare","revision","__THREE__","_changeEvent","_startEvent","_endEvent","OrbitControls","touchAction","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","getDistance","listenToKeyEvents","onKeyDown","saveState","STATE","NONE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","getSecondPointerPosition","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","setPointerCapture","pointerId","addPointer","pointerType","onTouchStart","onMouseDown","onTouchMove","onMouseMove","onTouchEnd","onMouseUp","removePointer","releasePointerCapture","mouseAction","button","ctrlKey","metaKey","shiftKey","trackPointer","pointer","passive","MapControls","Stats","createElement","cssText","showPanel","addPanel","panel","appendChild","dom","beginTime","fpsPanel","Panel","msPanel","memPanel","begin","usedJSHeapSize","jsHeapSizeLimit","fg","bg","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","textBaseline","fillStyle","fillRect","fillText","globalAlpha","maxValue","_taskCache","DRACOLoader","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","defaultAttributeTypes","config","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","taskKey","cachedTask","promise","byteLength","worker","taskID","taskCost","geometryPending","_getWorker","_worker","_callbacks","postMessage","_createGeometry","_releaseTask","geometryData","_initDecoder","useJS","WebAssembly","librariesPending","_loadLibrary","all","libraries","jsContent","wasmBinary","DRACOWorker","body","URL","createObjectURL","Worker","_taskCosts","_taskLoad","onmessage","terminate","onModuleLoaded","draco","DracoDecoderModule","decoder","Decoder","decoderBuffer","DecoderBuffer","Init","attr","dracoGeometry","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","DecodeBufferToMesh","POINT_CLOUD","DecodeBufferToPointCloud","ok","ptr","error_msg","attributeName","attributeType","attributeID","GetAttributeByUniqueId","GetAttributeId","GetAttribute","decodeAttribute","decodeIndex","numFaces","num_faces","numIndices","_malloc","GetTrianglesUInt32Array","HEAPF32","_free","numComponents","num_components","numPoints","num_points","numValues","dataType","getDracoDataType","GetAttributeDataArrayForAllPoints","DT_FLOAT32","DT_INT8","DT_INT16","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsSpecularExtension","GLTFLightsExtension","GLTFMeshoptCompression","_onError","gltf","content","plugins","magic","decodeText","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","asset","GLTFParser","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","_addNodeRef","lightIndex","dependency","lightDefs","lightDef","lightNode","innerConeAngle","outerConeAngle","createUniqueName","_loadLight","_getNodeRef","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","transmissionFactor","transmissionTexture","thicknessFactor","thicknessTexture","attenuationColor","specularFactor","specularTexture","specularColorFactor","specularColorTexture","textureIndex","textureDef","loadTextureImage","isSupported","textureLoader","uri","handler","detectSupport","Image","onload","onerror","bufferView","bufferViews","extensionDef","getDependency","supported","ready","byteOffset","byteStride","decodeGltfBuffer","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","texCoord","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularGlossinessTexture","specGlossMapDef","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","m1","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","targets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","meshDef","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","getNormalizedComponentScale","associations","primitiveCache","meshCache","cameraCache","lightCache","textureCache","nodeNamesUsed","navigator","userAgent","_invokeAll","_markDefs","beforeRoot","getDependencies","dependencies","scenes","afterRoot","skinDefs","skins","meshDefs","meshes","skinLength","skin","ref","loadScene","loadNode","_invokeOne","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sampler","webkitURL","sourceURI","isObjectURL","hasAlpha","colorType","getUint8","revokeObjectURL","samplers","mapName","mapDef","gltfReference","extendTexture","useVertexTangents","useVertexColors","useFlatShading","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","getMaterialType","extendParams","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","createMaterial","originalName","sanitizedName","sanitizeNodeName","primitives","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","geometryPromise","meshIndex","loadGeometries","normalizeSkinWeights","toTrianglesDrawMode","assignFinalMaterial","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","meshPromise","createNodeMesh","createNodeAttachment","sceneIndex","sceneDef","nodeIds","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","computeBounds","boxScale","maxDisplacement","expandByVector","assignAttributeAccessor","gltfAttributeName","numberOfTriangles","newIndices","newGeometry","BufferGeometryUtils","computeTangents","useGroups","isIndexed","attributesUsed","morphAttributesUsed","mergedGeometry","attributesCount","mergedUserData","mergedIndex","mergedAttribute","mergeBufferAttributes","morphAttributesToMerge","mergedMorphAttribute","arrayLength","getters","setters","iba","mem","tolerance","hashToIndex","vertexCount","attributeNames","attrArrays","morphAttrsArrays","morphAttr","decimalShift","log10","shiftMultiplier","newarray","newMorphArrays","getterFunc","oldAttribute","oldMorphAttribute","_calculateMorphedAttributeData","modifiedAttributeArray","morph","morphNormal","modifiedPosition","modifiedNormal","morphedPositionAttribute","morphedNormalAttribute","webpackPolyfill","deprecate","gltfLoader","setDecoderPath","setDRACOLoader","legacyGLTFLoader","LegacyGLTFLoader","B3DMDecoder","parseB3DM","meshCallback","dataView","assert","featureTableJSONByteLength","featureTableBinaryByteLength","batchTableJSONByteLength","batchTableBinaryByteLength","featureTableStart","batchTableStart","glbStart","glbBytes","gltfBuffer","model","mergeColoredObject","coloredMeshes","texturedMeshes","coloredMeshMaterial","fullColoredGeometriesToMerge","threeColor","mergedColoredMesh","mergedColoredGeometry","mergeBufferGeometries","mergedTexturedMeshes","THREE","convertUint8ArrayToString","BINARY_EXTENSION_HEADER_DEFAULTS","KHR_MATERIALS_COMMON","GLTFMaterialsCommonExtension","timeEnd","glTF","Shaders","GLTFShader","targetNode","allNodes","boundUniforms","uniformId","semantic","sourceNodeRef","sourceNode","_m4","boundUniform","m4","m3","m4v","mi","Animations","lightId","lightParams","BINARY_EXTENSION_BUFFER_NAME","contentFormat","contentLength","loadShader","loadTextureSourceUri","stringData","btoa","VERTEX_SHADER","FRAGMENT_SHADER","WEBGL_TYPE","Boolean","WEBGL_TEXTURE_FORMATS","WEBGL_TEXTURE_DATATYPES","WEBGL_SIDES","WEBGL_DEPTH_FUNCS","WEBGL_BLEND_EQUATIONS","WEBGL_BLEND_FUNCS","STATES_ENABLES","_each","thisObj","fns","idx","replaceTHREEShaderAttributes","shaderText","technique","attributeId","pname","param","atype","shaderParams","shaderAttributes","shaderParam","regEx","DeferredShaderMaterial","isDeferredShaderMaterial","originalUniform","_withDependencies","_dependencies","fnName","loadShaders","shaders","loadBuffers","loadBufferViews","arraybuffer","loadAccessors","loadTextures","sourceUri","_texture","loadMaterials","materialValues","khr_material","transparency","techniques","ptype","pcount","uvalue","usemantic","unode","FLOAT_MAT2","states","enables","functions","enableCullFace","enableDepthTest","enableBlend","reflective","bump","emission","_material","loadMeshes","attributeEntry","meshNode","loadCameras","perspective","xfov","orthographic","innerWidth","innerHeight","loadSkins","bindShapeMatrix","_skin","jointNames","loadAnimations","animationId","channelId","loadNodes","_node","__nodes","meshId","childrenId","originalMaterial","originalGeometry","originalUserData","getJointNode","jointId","buildBoneGraph","parentJson","boneJson","extensionLights","loadScenes","_scene","gltfShader","OBB","e1","e2","e3","halfDepth","matrixToOBBCoordinateSystem","transformedPoint","initScene","domContainer","initDomContainer","initCamera","ogc3DTiles","initTileset","initLODMultiplierSlider","initController","skybox","initSkybox","initStats","initRenderer","tex","tileset","slider","getElementById","innerHTML","oninput","setGeometricErrorMultiplier","divID","offsetWidth","offsetHeight","onWindowResize","ogc3DTile","OGC3DTile","geometricErrorMultiplier","loadOutsideView","interval","clearInterval","startInterval","setInterval","require","tilesToLoad","scheduleLoadTile","tile","tempSphere","childrenTiles","meshContent","tileContent","refinement","rootPath","geometricError","boundingVolume","materialVisibility","inFrustum","hasMeshContent","hasUnloadedJSONContent","AbortController","signal","statusText","parentRefinement","parentGeometricError","region","parentBoundingVolume","includes","abort","metric","calculateUpdateMetric","updateTree","updateNodeVisibility","trimTree","loadJsonChildren","changeContentVisibility","allChildrenReady","every","isReady","disposeChildren","childJSON","childTile","meshesDisplayed","meshesToDisplay","visibility","setMeshVisibility"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * @license\n * Copyright 2010-2021 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '131';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector2.prototype.isVector2 = true;\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nMatrix3.prototype.isMatrix3 = true;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.image = image;\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t\tthis.isRenderTargetTexture = false;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype.isTexture = true;\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector4.prototype.isVector4 = true;\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.image = { width: width, height: height, depth: 1 };\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t}\n\n\tsetTexture( texture ) {\n\n\t\ttexture.image = {\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\tdepth: this.depth\n\t\t};\n\n\t\tthis.texture = texture;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\t\tthis.texture.image = { ...this.texture.image }; // See #20328.\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\nclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\n\tconstructor( width, height, count ) {\n\n\t\tsuper( width, height );\n\n\t\tconst texture = this.texture;\n\n\t\tthis.texture = [];\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.texture[ i ] = texture.clone();\n\n\t\t}\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tfor ( let i = 0, il = this.texture.length; i < il; i ++ ) {\n\n\t\t\t\tthis.texture[ i ].image.width = width;\n\t\t\t\tthis.texture[ i ].image.height = height;\n\t\t\t\tthis.texture[ i ].image.depth = depth;\n\n\t\t\t}\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.dispose();\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.set( 0, 0, this.width, this.height );\n\t\tthis.scissor.set( 0, 0, this.width, this.height );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\tthis.texture.length = 0;\n\n\t\tfor ( let i = 0, il = source.texture.length; i < il; i ++ ) {\n\n\t\t\tthis.texture[ i ] = source.texture[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nWebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets = true;\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.samples = 4;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n}\n\nWebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box$3 );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$3.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$3, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$3 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox3.prototype.isBox3 = true;\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order = this._order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order = this._order, update = true ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update === true ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order = this._order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.prototype.isEuler = true;\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = /*@__PURE__*/ new Vector3();\nconst _q1 = /*@__PURE__*/ new Quaternion();\nconst _m1$1 = /*@__PURE__*/ new Matrix4();\nconst _target = /*@__PURE__*/ new Vector3();\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$2 = /*@__PURE__*/ new Quaternion();\n\nconst _xAxis = /*@__PURE__*/ new Vector3( 1, 0, 0 );\nconst _yAxis = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nconst _zAxis = /*@__PURE__*/ new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender() {}\n\tonAfterRender() {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremoveFromParent() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent.remove( this );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast() {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isScene ) {\n\n\t\t\tif ( this.background ) {\n\n\t\t\t\tif ( this.background.isColor ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON();\n\n\t\t\t\t} else if ( this.background.isTexture ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON( meta ).uuid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.environment && this.environment.isTexture ) {\n\n\t\t\t\tobject.environment = this.environment.toJSON( meta ).uuid;\n\n\t\t\t}\n\n\t\t} else if ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype.isObject3D = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nclass Material extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\n\t\tthis.fog = true;\n\n\t\tthis.blending = NormalBlending;\n\t\tthis.side = FrontSide;\n\t\tthis.vertexColors = false;\n\n\t\tthis.opacity = 1;\n\t\tthis.transparent = false;\n\n\t\tthis.blendSrc = SrcAlphaFactor;\n\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\n\t\tthis.depthFunc = LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\n\t\tthis.stencilWriteMask = 0xff;\n\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\tthis.stencilRef = 0;\n\t\tthis.stencilFuncMask = 0xff;\n\t\tthis.stencilFail = KeepStencilOp;\n\t\tthis.stencilZFail = KeepStencilOp;\n\t\tthis.stencilZPass = KeepStencilOp;\n\t\tthis.stencilWrite = false;\n\n\t\tthis.clippingPlanes = null;\n\t\tthis.clipIntersection = false;\n\t\tthis.clipShadows = false;\n\n\t\tthis.shadowSide = null;\n\n\t\tthis.colorWrite = true;\n\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\n\t\tthis.dithering = false;\n\n\t\tthis.alphaTest = 0;\n\t\tthis.alphaToCoverage = false;\n\t\tthis.premultipliedAlpha = false;\n\n\t\tthis.visible = true;\n\n\t\tthis.toneMapped = true;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonBuild( /* shaderobject, renderer */ ) {}\n\n\tonBeforeCompile( /* shaderobject, renderer */ ) {}\n\n\tcustomProgramCacheKey() {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t}\n\n\tsetValues( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.specularIntensity !== undefined ) data.specularIntensity = this.specularIntensity;\n\t\tif ( this.specularTint && this.specularTint.isColor ) data.specularTint = this.specularTint.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\tif ( this.specularIntensityMap && this.specularIntensityMap.isTexture ) data.specularIntensityMap = this.specularIntensityMap.toJSON( meta ).uuid;\n\t\tif ( this.specularTintMap && this.specularTintMap.isTexture ) data.specularTintMap = this.specularTintMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.transmission !== undefined ) data.transmission = this.transmission;\n\t\tif ( this.transmissionMap && this.transmissionMap.isTexture ) data.transmissionMap = this.transmissionMap.toJSON( meta ).uuid;\n\t\tif ( this.thickness !== undefined ) data.thickness = this.thickness;\n\t\tif ( this.thicknessMap && this.thicknessMap.isTexture ) data.thicknessMap = this.thicknessMap.toJSON( meta ).uuid;\n\t\tif ( this.attenuationDistance !== undefined ) data.attenuationDistance = this.attenuationDistance;\n\t\tif ( this.attenuationTint !== undefined ) data.attenuationTint = this.attenuationTint.getHex();\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nMaterial.prototype.isMaterial = true;\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nColor.prototype.isColor = true;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n * }\n */\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\nBufferAttribute.prototype.isBufferAttribute = true;\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nlet _id = 0;\n\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _obj = /*@__PURE__*/ new Object3D();\nconst _offset = /*@__PURE__*/ new Vector3();\nconst _box$1 = /*@__PURE__*/ new Box3();\nconst _boxMorphTargets = /*@__PURE__*/ new Box3();\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _id ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\t_m1.makeRotationFromQuaternion( q );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeFaceNormals() {\n\n\t\t// backwards compatibility\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( attributes.tangent === undefined ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = attributes.tangent.array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\tindex = indices[ i ] * attribute.data.stride + attribute.offset;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nBufferGeometry.prototype.isBufferGeometry = true;\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n}\n\nMesh.prototype.isMesh = true;\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new BoxGeometry( data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments );\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>\n * }\n */\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nCamera.prototype.isCamera = true;\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nPerspectiveCamera.prototype.isPerspectiveCamera = true;\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\tformat = format !== undefined ? format : RGBFormat;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nCubeTexture.prototype.isCubeTexture = true;\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options, dummy ) {\n\n\t\tif ( Number.isInteger( options ) ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\t\toptions = dummy;\n\n\t\t}\n\n\t\tsuper( size, size, options );\n\n\t\toptions = options || {};\n\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.texture._needsFlipEnvMap = false;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.format = RGBAFormat; // see #18859\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nPlane.prototype.isPlane = true;\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else if ( array instanceof Uint8ClampedArray ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PlaneGeometry( data.width, data.height, data.widthSegments, data.heightSegments );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in vec3 f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn ( f90 - f0 ) * fresnel + f0;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in vec3 f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, vec3( 1.0 ), dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\t#ifdef SPECULAR\\n\\t\\tvec3 specularIntensityFactor = vec3( specularIntensity );\\n\\t\\tvec3 specularTintFactor = specularTint;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARTINTMAP\\n\\t\\t\\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularColorF90 = mix( specularIntensityFactor, vec3( 1.0 ), metalnessFactor );\\n\\t#else\\n\\t\\tvec3 specularIntensityFactor = vec3( 1.0 );\\n\\t\\tvec3 specularTintFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularColorF90 = vec3( 1.0 );\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularColorF90 = vec3( 1.0 );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n\\tvec3 specularColorF90;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), vec3( 1.0 ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularColorF90, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tfloat transmissionFactor = transmission;\\n\\tfloat thicknessFactor = thickness;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\\n\\tvec3 transmission = transmissionFactor * getIBLVolumeRefraction(\\n\\t\\tnormal, v, roughnessFactor, material.diffuseColor, material.specularColor,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\\n\\t\\tattenuationTint, attenuationDistance );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );\\n#endif\";\n\nvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec4 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\\n\\t\\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\\n\\t\\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\\n\\t\\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\\n\\t\\treturn normalize(refractionVector) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness(float roughness, float ior) {\\n\\t\\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\\n\\t}\\n\\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\\n\\t\\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\\n\\t\\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\\n\\t}\\n\\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\\n\\t\\tif (attenuationDistance == 0.0) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,\\n\\t\\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\\n\\t\\tvec3 attenuationColor, float attenuationDistance) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\\n\\t\\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\\n\\t}\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationTint;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularTint;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARTINTMAP\\n\\t\\tuniform sampler2D specularTintMap;\\n\\t#endif\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <transmission_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec4 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition;\\n#endif\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmission_fragment: transmission_fragment,\n\ttransmission_pars_fragment: transmission_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t\ttransmissionSamplerSize: { value: new Vector2() },\n\t\t\ttransmissionSamplerMap: { value: null },\n\t\t\tthickness: { value: 0 },\n\t\t\tthicknessMap: { value: null },\n\t\t\tattenuationDistance: { value: 0 },\n\t\t\tattenuationTint: { value: new Color( 0x000000 ) },\n\t\t\tspecularIntensity: { value: 0 },\n\t\t\tspecularIntensityMap: { value: null },\n\t\t\tspecularTint: { value: new Color( 1, 1, 1 ) },\n\t\t\tspecularTintMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene ) {\n\n\t\tlet forceClear = false;\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( name === 'instanceColor' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst drawBuffers = isWebGL2 || extensions.has( 'WEBGL_draw_buffers' );\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tdrawBuffers: drawBuffers,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nOrthographicCamera.prototype.isOrthographicCamera = true;\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst backgroundMaterial = new MeshBasicMaterial( {\n\tside: BackSide,\n\tdepthWrite: false,\n\tdepthTest: false,\n} );\nconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nfunction convertLinearToRGBE( color ) {\n\n\tconst maxComponent = Math.max( color.r, color.g, color.b );\n\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\tcolor.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\n\tconst alpha = ( fExp + 128.0 ) / 255.0;\n\treturn alpha;\n\n}\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\t\tthis._equirectShader = null;\n\t\tthis._cubemapShader = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t// private interface\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\t\trenderer.autoClear = false;\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background ).convertSRGBToLinear();\n\t\t\t\tscene.background = null;\n\n\t\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor ).convertSRGBToLinear();\n\n\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.autoClear = originalAutoClear;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn /* glsl */`\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nfunction WebGLCubeUVMaps( renderer ) {\n\n\tlet cubeUVmaps = new WeakMap();\n\n\tlet pmremGenerator = null;\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tconst isEquirectMap = ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping );\n\t\t\tconst isCubeMap = ( mapping === CubeReflectionMapping || mapping === CubeRefractionMapping );\n\n\t\t\tif ( isEquirectMap || isCubeMap ) {\n\n\t\t\t\t// equirect/cube map to cubeUV conversion\n\n\t\t\t\tif ( cubeUVmaps.has( texture ) ) {\n\n\t\t\t\t\treturn cubeUVmaps.get( texture ).texture;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( ( isEquirectMap && image && image.height > 0 ) || ( isCubeMap && image && isCubeTextureComplete( image ) ) ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture ) : pmremGenerator.fromCubemap( texture );\n\t\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction isCubeTextureComplete( image ) {\n\n\t\tlet count = 0;\n\t\tconst length = 6;\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tif ( image[ i ] !== undefined ) count ++;\n\n\t\t}\n\n\t\treturn count === length;\n\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemapUV = cubeUVmaps.get( texture );\n\n\t\tif ( cubemapUV !== undefined ) {\n\n\t\t\tcubemapUV.delete( texture );\n\t\t\tcubemapUV.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubeUVmaps = new WeakMap();\n\n\t\tif ( pmremGenerator !== null ) {\n\n\t\t\tpmremGenerator.dispose();\n\t\t\tpmremGenerator = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined || influences.length !== length ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\tconst morphNormals = geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\nclass DataTexture2DArray extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nclass DataTexture3D extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission > 0.0 ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularTintMap ? '#define USE_SPECULARTINTMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularTintMap ? '#define USE_SPECULARTINTMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.specularTintMap ? getTexelDecodingFunction( 'specularTintMapTexelToLinear', parameters.specularTintMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t'precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor',\n\t\t'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV',\n\t\t'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap',\n\t\t'objectSpaceNormalMap', 'tangentSpaceNormalMap', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap', 'displacementMap',\n\t\t'specularMap', 'specularIntensityMap', 'specularTintMap', 'specularTintMapEncoding', 'roughnessMap', 'metalnessMap', 'gradientMap',\n\t\t'alphaMap', 'combine', 'vertexColors', 'vertexAlphas', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2',\n\t\t'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning',\n\t\t'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'premultipliedAlpha',\n\t\t'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights',\n\t\t'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows',\n\t\t'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights',\n\t\t'alphaTest', 'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering',\n\t\t'sheen', 'transmission', 'transmissionMap', 'thicknessMap'\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( map && map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map && map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t} else {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\tspecularIntensityMap: !! material.specularIntensityMap,\n\t\t\tspecularTintMap: !! material.specularTintMap,\n\t\t\tspecularTintMapEncoding: getTextureEncodingFromMap( material.specularTintMap ),\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\ttransmission: !! material.transmission,\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\t\t\tthicknessMap: !! material.thicknessMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && object.geometry && object.geometry.attributes.tangent ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularTintMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmission || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularTintMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: object.isSkinnedMesh === true && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: object.geometry && object.geometry.morphAttributes.position !== undefined,\n\t\t\tmorphNormals: object.geometry && object.geometry.morphAttributes.normal !== undefined,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transmissive = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransmissive.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.push( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.push( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.push( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.unshift( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.unshift( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.unshift( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transmissive.length > 1 ) transmissive.sort( customTransparentSort || reversePainterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransmissive: transmissive,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights() {\n\n\t\tlights.setup( lightsArray );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterial = new MeshDepthMaterial( { depthPacking: RGBADepthPacking } ),\n\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tconst customMaterial = ( light.isPointLight === true ) ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\tif ( customMaterial !== undefined ) {\n\n\t\t\tresult = customMaterial;\n\n\t\t} else {\n\n\t\t\tresult = ( light.isPointLight === true ) ? _distanceMaterial : _depthMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet xrFramebuffer = null;\n\tlet currentBoundFramebuffers = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst scissorParam = gl.getParameter( 3088 );\n\tconst viewportParam = gl.getParameter( 2978 );\n\n\tconst currentScissor = new Vector4().fromArray( scissorParam );\n\tconst currentViewport = new Vector4().fromArray( viewportParam );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindXRFramebuffer( framebuffer ) {\n\n\t\tif ( framebuffer !== xrFramebuffer ) {\n\n\t\t\tgl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\txrFramebuffer = framebuffer;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( framebuffer === null && xrFramebuffer !== null ) framebuffer = xrFramebuffer; // use active XR framebuffer if available\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\txrFramebuffer = null;\n\t\tcurrentBoundFramebuffers = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tbindXRFramebuffer: bindXRFramebuffer,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height, depth = 1 ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\ttextureProperties.__maxMipLevel = Math.log2( Math.max( width, height, depth ) );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t\tinfo.memory.textures --;\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\tfor ( let i = 0, il = texture.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachmentProperties = properties.get( texture[ i ] );\n\n\t\t\t\tif ( attachmentProperties.__webglTexture ) {\n\n\t\t\t\t\t_gl.deleteTexture( attachmentProperties.__webglTexture );\n\n\t\t\t\t\tinfo.memory.textures --;\n\n\t\t\t\t}\n\n\t\t\t\tproperties.remove( texture[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, texture, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( texture.format );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t} else {\n\n\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\t// Use the first texture for MRT so far\n\t\t\tconst texture = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture[ 0 ] : renderTarget.texture;\n\n\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\tconst glType = utils.convert( texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets !== true ) {\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && texture.format === RGBFormat && ( texture.type === FloatType || texture.type === HalfFloatType ) ) {\n\n\t\t\ttexture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tif ( capabilities.drawBuffers ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst attachmentProperties = properties.get( textures[ i ] );\n\n\t\t\t\t\t\tif ( attachmentProperties.__webglTexture === undefined ) {\n\n\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, texture, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else if ( isMultipleRenderTargets ) {\n\n\t\t\tconst textures = renderTarget.texture;\n\n\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachment = textures[ i ];\n\t\t\t\tconst attachmentProperties = properties.get( attachment );\n\n\t\t\t\tstate.bindTexture( 3553, attachmentProperties.__webglTexture );\n\t\t\t\tsetTextureParameters( 3553, attachment, supportsMips );\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, attachment, 36064 + i, 3553 );\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( attachment, supportsMips ) ) {\n\n\t\t\t\t\tgenerateMipmap( 3553, attachment, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( isRenderTarget3D ) {\n\n\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\n\t\t\t\t\tglTextureType = isTexture3D ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, texture, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( glTextureType, texture, renderTarget.width, renderTarget.height, renderTarget.depth );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\tconst texture = textures[ i ];\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\t\tstate.bindTexture( target, null );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nArrayCamera.prototype.isArrayCamera = true;\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nGroup.prototype.isGroup = true;\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\t\tconst state = renderer.state;\n\n\t\tlet session = null;\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\n\t\tlet pose = null;\n\t\tlet glBinding = null;\n\t\tlet glFramebuffer = null;\n\t\tlet glProjLayer = null;\n\t\tlet glBaseLayer = null;\n\n\t\tconst controllers = [];\n\t\tconst inputSourcesMap = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.cameraAutoUpdate = true;\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\t\tcontroller.disconnect( inputSource );\n\n\t\t\t} );\n\n\t\t\tinputSourcesMap.clear();\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\tstate.bindXRFramebuffer( null );\n\t\t\trenderer.setRenderTarget( renderer.getRenderTarget() );\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn referenceSpace;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tif ( session.renderState.layers === undefined ) {\n\n\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\tantialias: attributes.antialias,\n\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\tsession.updateRenderState( { baseLayer: glBaseLayer } );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet depthFormat = 0;\n\n\t\t\t\t\t// for anti-aliased output, use classic webgllayer for now\n\t\t\t\t\tif ( attributes.antialias ) {\n\n\t\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\t\tantialias: true,\n\t\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\t\tsession.updateRenderState( { layers: [ glBaseLayer ] } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( attributes.depth ) {\n\n\t\t\t\t\t\t\tdepthFormat = attributes.stencil ? 34041 : 6402;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\t\tcolorFormat: attributes.alpha ? 6408 : 6407,\n\t\t\t\t\t\t\tdepthFormat: depthFormat,\n\t\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tglBinding = new XRWebGLBinding( session, gl );\n\n\t\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer( projectionlayerInit );\n\n\t\t\t\t\t\tglFramebuffer = gl.createFramebuffer();\n\n\t\t\t\t\t\tsession.updateRenderState( { layers: [ glProjLayer ] } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t// Assign inputSources to available controllers\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t\t}\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.updateCamera = function ( camera ) {\n\n\t\t\tif ( session === null ) return;\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\tcameraVR.matrixWorld.decompose( cameraVR.position, cameraVR.quaternion, cameraVR.scale );\n\n\t\t\t// update user camera and its children\n\n\t\t\tcamera.position.copy( cameraVR.position );\n\t\t\tcamera.quaternion.copy( cameraVR.quaternion );\n\t\t\tcamera.scale.copy( cameraVR.scale );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getCamera = function () {\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\tthis.getFoveation = function () {\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\treturn glProjLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\treturn glBaseLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\treturn undefined;\n\n\t\t};\n\n\t\tthis.setFoveation = function ( foveation ) {\n\n\t\t\t// 0 = no foveation = full resolution\n\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\tglProjLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined ) {\n\n\t\t\t\tglBaseLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\n\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\tstate.bindXRFramebuffer( glBaseLayer.framebuffer );\n\n\t\t\t\t}\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\n\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\t\tviewport = glBaseLayer.getViewport( view );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage( glProjLayer, view );\n\n\t\t\t\t\t\tstate.bindXRFramebuffer( glFramebuffer );\n\n\t\t\t\t\t\tif ( glSubImage.depthStencilTexture !== undefined ) {\n\n\t\t\t\t\t\t\tgl.framebufferTexture2D( 36160, 36096, 3553, glSubImage.depthStencilTexture, 0 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.framebufferTexture2D( 36160, 36064, 3553, glSubImage.colorTexture, 0 );\n\n\t\t\t\t\t\tviewport = glSubImage.viewport;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst camera = cameras[ i ];\n\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst controller = controllers[ i ];\n\t\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height, transmissionRenderTarget ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material, transmissionRenderTarget );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\t\t// 13. specular intensity map\n\t\t// 14. specular tint map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t} else if ( material.specularIntensityMap ) {\n\n\t\t\tuvScaleMap = material.specularIntensityMap;\n\n\t\t} else if ( material.specularTintMap ) {\n\n\t\t\tuvScaleMap = material.specularTintMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, transmissionRenderTarget ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transmission.value = material.transmission;\n\n\t\tif ( material.transmissionMap ) {\n\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t}\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\tuniforms.transmissionSamplerSize.value.set( transmissionRenderTarget.width, transmissionRenderTarget.height );\n\n\t\t}\n\n\t\tuniforms.thickness.value = material.thickness;\n\n\t\tif ( material.thicknessMap ) {\n\n\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\n\t\t}\n\n\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\tuniforms.attenuationTint.value.copy( material.attenuationTint );\n\n\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\tuniforms.specularTint.value.copy( material.specularTint );\n\n\t\tif ( material.specularIntensityMap ) {\n\n\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\n\t\t}\n\n\t\tif ( material.specularTintMap ) {\n\n\t\t\tuniforms.specularTintMap.value = material.specularTintMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters = {} ) {\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t//\n\n\tconst _currentDrawBuffers = [];\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// transmission\n\n\tlet _transmissionRenderTarget = null;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\t_currentDrawBuffers[ 0 ] = 1029;\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tcubeuvmaps = new WebGLCubeUVMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tcubeuvmaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tif ( _transmissionRenderTarget ) {\n\n\t\t\t_transmissionRenderTarget.dispose();\n\t\t\t_transmissionRenderTarget = null;\n\n\t\t}\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( geometry.morphAttributes.position !== undefined || geometry.morphAttributes.normal !== undefined ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tif ( xr.cameraAutoUpdate === true ) xr.updateCamera( camera );\n\n\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights();\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transmissiveObjects.length > 0 ) renderTransmissiveObjects( opaqueObjects, transmissiveObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderTransmissiveObjects( opaqueObjects, transmissiveObjects, scene, camera ) {\n\n\t\tif ( _transmissionRenderTarget === null ) {\n\n\t\t\tconst needsAntialias = _antialias === true && capabilities.isWebGL2 === true;\n\t\t\tconst renderTargetType = needsAntialias ? WebGLMultisampleRenderTarget : WebGLRenderTarget;\n\n\t\t\t_transmissionRenderTarget = new renderTargetType( 1024, 1024, {\n\t\t\t\tgenerateMipmaps: true,\n\t\t\t\ttype: utils.convert( HalfFloatType ) !== null ? HalfFloatType : UnsignedByteType,\n\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\tmagFilter: NearestFilter,\n\t\t\t\twrapS: ClampToEdgeWrapping,\n\t\t\t\twrapT: ClampToEdgeWrapping\n\t\t\t} );\n\n\t\t}\n\n\t\tconst currentRenderTarget = _this.getRenderTarget();\n\t\t_this.setRenderTarget( _transmissionRenderTarget );\n\t\t_this.clear();\n\n\t\t// Turn off the features which can affect the frag color for opaque objects pass.\n\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\t\tconst currentToneMapping = _this.toneMapping;\n\t\t_this.toneMapping = NoToneMapping;\n\n\t\trenderObjects( opaqueObjects, scene, camera );\n\n\t\t_this.toneMapping = currentToneMapping;\n\n\t\ttextures.updateMultisampleRenderTarget( _transmissionRenderTarget );\n\t\ttextures.updateRenderTargetMipmap( _transmissionRenderTarget );\n\n\t\t_this.setRenderTarget( currentRenderTarget );\n\n\t\trenderObjects( transmissiveObjects, scene, camera );\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tif ( camera.isArrayCamera ) {\n\n\t\t\tconst cameras = camera.cameras;\n\n\t\t\tfor ( let i = 0, l = cameras.length; i < l; i ++ ) {\n\n\t\t\t\tconst camera2 = cameras[ i ];\n\n\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\tcurrentRenderState.setupLightsView( camera2 );\n\n\t\t\t\tfor ( let j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst renderItem = renderList[ j ];\n\n\t\t\t\t\tconst object = renderItem.object;\n\t\t\t\t\tconst geometry = renderItem.geometry;\n\t\t\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\t\t\tconst group = renderItem.group;\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( let j = 0, jl = renderList.length; j < jl; j ++ ) {\n\n\t\t\t\tconst renderItem = renderList[ j ];\n\n\t\t\t\tconst object = renderItem.object;\n\t\t\t\tconst geometry = renderItem.geometry;\n\t\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\t\tconst group = renderItem.group;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\tif ( material.transparent === true && material.side === DoubleSide ) {\n\n\t\t\t\tmaterial.side = BackSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t\tmaterial.side = FrontSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t\tmaterial.side = DoubleSide;\n\n\t\t\t} else {\n\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t}\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.skinning = parameters.skinning;\n\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4;\n\t\tconst vertexTangents = object.geometry && object.geometry.attributes.tangent;\n\t\tconst morphTargets = object.geometry && object.geometry.morphAttributes.position;\n\t\tconst morphNormals = object.geometry && object.geometry.morphAttributes.normal;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isSkinnedMesh && materialProperties.skinning === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isSkinnedMesh && materialProperties.skinning === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexTangents !== vertexTangents ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphTargets !== morphTargets ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphNormals !== morphNormals ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tobject.isSkinnedMesh ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) skeleton.computeBoneTexture();\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isDataTexture3D || texture.isDataTexture2DArray ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tconst framebufferBound = state.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( framebufferBound && capabilities.drawBuffers ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tif ( renderTarget ) {\n\n\t\t\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tif ( _currentDrawBuffers.length !== textures.length || _currentDrawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t_currentDrawBuffers[ i ] = 36064 + i;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_currentDrawBuffers.length = textures.length;\n\n\t\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( _currentDrawBuffers.length !== 1 || _currentDrawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\t\t_currentDrawBuffers[ 0 ] = 36064;\n\t\t\t\t\t\t_currentDrawBuffers.length = 1;\n\n\t\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( _currentDrawBuffers.length !== 1 || _currentDrawBuffers[ 0 ] !== 1029 ) {\n\n\t\t\t\t\t_currentDrawBuffers[ 0 ] = 1029;\n\t\t\t\t\t_currentDrawBuffers.length = 1;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\t_gl.drawBuffers( _currentDrawBuffers );\n\n\t\t\t\t} else {\n\n\t\t\t\t\textensions.get( 'WEBGL_draw_buffers' ).drawBuffersWEBGL( _currentDrawBuffers );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\n\t\tlet glFormat = utils.convert( texture.format );\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t// Workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=1120100\n\t\t\t// Not needed in Chrome 93+\n\n\t\t\tif ( glFormat === 6407 ) glFormat = 32849;\n\t\t\tif ( glFormat === 6408 ) glFormat = 32856;\n\n\t\t}\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isDataTexture3D ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataTexture2DArray ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[ 0 ] : srcTexture.image;\n\n\t\t_gl.pixelStorei( 3314, image.width );\n\t\t_gl.pixelStorei( 32878, image.height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\tif ( srcTexture.isDataTexture || srcTexture.isDataTexture3D ) {\n\n\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.' );\n\t\t\t\t_gl.compressedTexSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nFog.prototype.isFog = true;\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nScene.prototype.isScene = true;\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new this.constructor( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nInterleavedBuffer.prototype.isInterleavedBuffer = true;\n\nconst _vector$6 = /*@__PURE__*/ new Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized = false ) {\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nInterleavedBufferAttribute.prototype.isInterleavedBufferAttribute = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSprite.prototype.isSprite = true;\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nSkinnedMesh.prototype.isSkinnedMesh = true;\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nBone.prototype.isBone = true;\n\nclass DataTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { data: data, width: width, height: height };\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tcomputeBoneTexture() {\n\n\t\t// layout (1 matrix = 4 pixels)\n\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\t\tlet size = Math.sqrt( this.bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\tsize = ceilPowerOfTwo( size );\n\t\tsize = Math.max( size, 4 );\n\n\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\tboneMatrices.set( this.boneMatrices ); // copy current values\n\n\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\tthis.boneMatrices = boneMatrices;\n\t\tthis.boneTexture = boneTexture;\n\t\tthis.boneTextureSize = size;\n\n\t\treturn this;\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new BufferAttribute( new Float32Array( this.instanceMatrix.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nInstancedMesh.prototype.isInstancedMesh = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nLine.prototype.isLine = true;\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineSegments.prototype.isLineSegments = true;\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nLineLoop.prototype.isLineLoop = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n * }\n */\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nPoints.prototype.isPoints = true;\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.format = format !== undefined ? format : RGBFormat;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nVideoTexture.prototype.isVideoTexture = true;\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nCanvasTexture.prototype.isCanvasTexture = true;\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps\t= false;\n\n\t}\n\n\n}\n\nDepthTexture.prototype.isDepthTexture = true;\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CircleGeometry( data.radius, data.segments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CylinderGeometry( data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new ConeGeometry( data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices, indices, radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PolyhedronGeometry( data.vertices, data.indices, data.radius, data.details );\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (±1, ±1, ±1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, ±1/φ, ±φ)\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (±1/φ, ±φ, 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (±φ, 0, ±1/φ)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new DodecahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nconst _v0 = new Vector3();\nconst _v1$1 = new Vector3();\nconst _normal = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry, thresholdAngle ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\tconst indexAttr = geometry.getIndex();\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\tconst indexArr = [ 0, 0, 0 ];\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\tconst hashes = new Array( 3 );\n\n\t\tconst edgeData = {};\n\t\tconst vertices = [];\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\tif ( indexAttr ) {\n\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t} else {\n\n\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t}\n\n\t\t\tconst { a, b, c } = _triangle;\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t// create hashes for the edge from the vertices\n\t\t\thashes[ 0 ] = `${ a.x },${ a.y },${ a.z }`;\n\t\t\thashes[ 1 ] = `${ b.x },${ b.y },${ b.z }`;\n\t\t\thashes[ 2 ] = `${ c.x },${ c.y },${ c.z }`;\n\n\t\t\t// skip degenerate triangles\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// iterate over every edge\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\tfor ( const key in edgeData ) {\n\n\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineCurve.prototype.isLineCurve = true;\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve3';\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nSplineCurve.prototype.isSplineCurve = true;\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim = 2 ) {\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\tconst extrudePath = data.options.extrudePath;\n\n\t\tif ( extrudePath !== undefined ) {\n\n\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t}\n\n\t\treturn new ExtrudeGeometry( geometryShapes, data.options );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < Math.abs( a_x - b_x ) ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new IcosahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points, segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices and uvs\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// generate normals\n\n\t\tthis.computeVertexNormals();\n\n\t\t// if the geometry is closed, we need to average the normals along the seam.\n\t\t// because the corresponding vertices are identical (but still have different UVs).\n\n\t\tif ( phiLength === Math.PI * 2 ) {\n\n\t\t\tconst normals = this.attributes.normal.array;\n\t\t\tconst n1 = new Vector3();\n\t\t\tconst n2 = new Vector3();\n\t\t\tconst n = new Vector3();\n\n\t\t\t// this is the buffer offset for the last line of vertices\n\n\t\t\tconst base = segments * points.length * 3;\n\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t\t// select the normal of the vertex in the first line\n\n\t\t\t\tn1.x = normals[ j + 0 ];\n\t\t\t\tn1.y = normals[ j + 1 ];\n\t\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t\t// select the normal of the vertex in the last line\n\n\t\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t\t// average normals\n\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t\t// assign the new values to both normals\n\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new LatheGeometry( data.points, data.segments, data.phiStart, data.phiLength );\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new OctahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nclass ParametricGeometry extends BufferGeometry {\n\n\tconstructor( func, slices, stacks ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ParametricGeometry';\n\n\t\tthis.parameters = {\n\t\t\tfunc: func,\n\t\t\tslices: slices,\n\t\t\tstacks: stacks\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tconst EPS = 0.00001;\n\n\t\tconst normal = new Vector3();\n\n\t\tconst p0 = new Vector3(), p1 = new Vector3();\n\t\tconst pu = new Vector3(), pv = new Vector3();\n\n\t\tif ( func.length < 3 ) {\n\n\t\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t\t}\n\n\t\t// generate vertices, normals and uvs\n\n\t\tconst sliceCount = slices + 1;\n\n\t\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\t\tconst v = i / stacks;\n\n\t\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\t\tconst u = j / slices;\n\n\t\t\t\t// vertex\n\n\t\t\t\tfunc( u, v, p0 );\n\t\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t\t// normal\n\n\t\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, v );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\t\tconst a = i * sliceCount + j;\n\t\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t\t// faces one and two\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new RingGeometry( data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\treturn new ShapeGeometry( geometryShapes, data.curveSegments );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new SphereGeometry( data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TetrahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusGeometry( data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusKnotGeometry( data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q );\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path, tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\treturn new TubeGeometry(\n\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\tdata.tubularSegments,\n\t\t\tdata.radius,\n\t\t\tdata.radialSegments,\n\t\t\tdata.closed\n\t\t);\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst edges = new Set();\n\n\t\t// helper variables\n\n\t\tconst start = new Vector3();\n\t\tconst end = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst indices = geometry.index;\n\t\t\tlet groups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\tconst groupStart = group.start;\n\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\tfor ( let i = groupStart, l = ( groupStart + groupCount ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tconst index1 = indices.getX( i + j );\n\t\t\t\t\t\tconst index2 = indices.getX( i + ( j + 1 ) % 3 );\n\n\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\n\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\n\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\nfunction isUniqueEdge( start, end, edges ) {\n\n\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\tif ( edges.has( hash1 ) === true || edges.has( hash2 ) === true ) {\n\n\t\treturn false;\n\n\t} else {\n\n\t\tedges.add( hash1, hash2 );\n\t\treturn true;\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\treturn this;\n\n\t}\n\n}\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *  ior: <float>,\n *\n *  sheen: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> ),\n *\n *  thickness: <float>,\n *  thicknessMap: new THREE.Texture( <Image> ),\n *  attenuationDistance: <float>,\n *  attenuationTint: <Color>,\n *\n *  specularIntensity: <float>,\n *  specularIntensityhMap: new THREE.Texture( <Image> ),\n *  specularTint: <Color>,\n *  specularTintMap: new THREE.Texture( <Image> )\n * }\n */\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoat = 0.0;\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\t\tObject.defineProperty( this, 'ior', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( 1 + 0.4 * this.reflectivity ) / ( 1 - 0.4 * this.reflectivity );\n\n\t\t\t},\n\t\t\tset: function ( ior ) {\n\n\t\t\t\tthis.reflectivity = clamp( 2.5 * ( ior - 1 ) / ( ior + 1 ), 0, 1 );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.sheen = null; // null will disable sheen bsdf\n\n\t\tthis.transmission = 0.0;\n\t\tthis.transmissionMap = null;\n\n\t\tthis.thickness = 0.01;\n\t\tthis.thicknessMap = null;\n\t\tthis.attenuationDistance = 0.0;\n\t\tthis.attenuationTint = new Color( 1, 1, 1 );\n\n\t\tthis.specularIntensity = 1.0;\n\t\tthis.specularIntensityMap = null;\n\t\tthis.specularTint = new Color( 1, 1, 1 );\n\t\tthis.specularTintMap = null;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.reflectivity = source.reflectivity;\n\n\t\tif ( source.sheen ) {\n\n\t\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\n\t\t} else {\n\n\t\t\tthis.sheen = null;\n\n\t\t}\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\tthis.thickness = source.thickness;\n\t\tthis.thicknessMap = source.thicknessMap;\n\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\tthis.attenuationTint.copy( source.attenuationTint );\n\n\t\tthis.specularIntensity = source.specularIntensity;\n\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\tthis.specularTint.copy( source.specularTint );\n\t\tthis.specularTintMap = source.specularTintMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n * }\n */\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n * }\n */\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n// ALIAS DEFINITIONS\n\nInterpolant.prototype.beforeStart_ = Interpolant.prototype.copySampleValue_;\nInterpolant.prototype.afterEnd_ = Interpolant.prototype.copySampleValue_;\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLight.prototype.isLight = true;\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nHemisphereLight.prototype.isHemisphereLight = true;\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLightShadow.prototype.isSpotLightShadow = true;\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLight.prototype.isSpotLight = true;\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nPointLightShadow.prototype.isPointLightShadow = true;\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointLight.prototype.isPointLight = true;\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t}\n\n}\n\nDirectionalLightShadow.prototype.isDirectionalLightShadow = true;\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nDirectionalLight.prototype.isDirectionalLight = true;\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nAmbientLight.prototype.isAmbientLight = true;\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\nRectAreaLight.prototype.isRectAreaLight = true;\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nSphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLightProbe.prototype.isLightProbe = true;\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.specularIntensity !== undefined ) material.specularIntensity = json.specularIntensity;\n\t\tif ( json.specularTint !== undefined && material.specularTint !== undefined ) material.specularTint.setHex( json.specularTint );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.thickness !== undefined ) material.thickness = json.thickness;\n\t\tif ( json.attenuationDistance !== undefined ) material.attenuationDistance = json.attenuationDistance;\n\t\tif ( json.attenuationTint !== undefined && material.attenuationTint !== undefined ) material.attenuationTint.setHex( json.attenuationTint );\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\t\tif ( json.specularIntensityMap !== undefined ) material.specularIntensityMap = getTexture( json.specularIntensityMap );\n\t\tif ( json.specularTintMap !== undefined ) material.specularTintMap = getTexture( json.specularTintMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\t\tif ( json.thicknessMap !== undefined ) material.thicknessMap = getTexture( json.thicknessMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferGeometry.prototype.isInstancedBufferGeometry = true;\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute = 1 ) {\n\n\t\tif ( typeof normalized === 'number' ) {\n\n\t\t\tmeshPerAttribute = normalized;\n\n\t\t\tnormalized = false;\n\n\t\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t\t}\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferAttribute.prototype.isInstancedBufferAttribute = true;\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tasync loadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tconst text = await loader.loadAsync( url, onProgress );\n\n\t\tconst json = JSON.parse( text );\n\n\t\tconst metadata = json.metadata;\n\n\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\tthrow new Error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\n\t\t}\n\n\t\treturn await scope.parseAsync( json );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ] instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tasync parseAsync( json ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = await this.parseImagesAsync( json.images );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: The legacy Geometry type is no longer supported.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( data.type in Geometries ) {\n\n\t\t\t\t\t\t\tgeometry = Geometries[ data.type ].fromJSON( data, shapes );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( `THREE.ObjectLoader: Unsupported geometry type \"${ data.type }\"` );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\n\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\timages[ image.uuid ] = deserializedImage;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tasync parseImagesAsync( json ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tasync function deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn await loader.loadAsync( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tloader = new ImageLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = await deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = await deserializeImage( image.url );\n\n\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\timages[ image.uuid ] = deserializedImage;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tlet texture;\n\t\t\t\tconst image = images[ data.image ];\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( image );\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture( image.data, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, textures, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tfunction getTexture( uuid ) {\n\n\t\t\tif ( textures[ uuid ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined texture', uuid );\n\n\t\t\t}\n\n\t\t\treturn textures[ uuid ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tobject.background = getTexture( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.environment !== undefined ) {\n\n\t\t\t\t\tobject.environment = getTexture( data.environment );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new BufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, textures, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nImageBitmapLoader.prototype.isImageBitmapLoader = true;\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nFont.prototype.isFont = true;\n\nclass FontLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n}\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nHemisphereLightProbe.prototype.isHemisphereLightProbe = true;\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nAmbientLightProbe.prototype.isAmbientLightProbe = true;\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nAnimationObjectGroup.prototype.isAnimationObjectGroup = true;\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nAnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array( 1 );\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nInstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer = true;\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nGLBufferAttribute.prototype.isGLBufferAttribute = true;\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera && camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera && camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = false, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = false, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox2.prototype.isBox2 = true;\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass ImmediateRenderObject extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.material = material;\n\t\tthis.render = function ( /* renderCallback */ ) {};\n\n\t\tthis.hasPositions = false;\n\t\tthis.hasNormals = false;\n\t\tthis.hasColors = false;\n\t\tthis.hasUvs = false;\n\n\t\tthis.positionArray = null;\n\t\tthis.normalArray = null;\n\t\tthis.colorArray = null;\n\t\tthis.uvArray = null;\n\n\t\tthis.count = 0;\n\n\t}\n\n}\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkeletonHelper';\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2', colorFrustum );\n\t\taddLine( 'n2', 'n4', colorFrustum );\n\t\taddLine( 'n4', 'n3', colorFrustum );\n\t\taddLine( 'n3', 'n1', colorFrustum );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2', colorFrustum );\n\t\taddLine( 'f2', 'f4', colorFrustum );\n\t\taddLine( 'f4', 'f3', colorFrustum );\n\t\taddLine( 'f3', 'f1', colorFrustum );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1', colorFrustum );\n\t\taddLine( 'n2', 'f2', colorFrustum );\n\t\taddLine( 'n3', 'f3', colorFrustum );\n\t\taddLine( 'n4', 'f4', colorFrustum );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1', colorCone );\n\t\taddLine( 'p', 'n2', colorCone );\n\t\taddLine( 'p', 'n3', colorCone );\n\t\taddLine( 'p', 'n4', colorCone );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2', colorUp );\n\t\taddLine( 'u2', 'u3', colorUp );\n\t\taddLine( 'u3', 'u1', colorUp );\n\n\t\t// target\n\n\t\taddLine( 'c', 't', colorTarget );\n\t\taddLine( 'p', 'c', colorCross );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2', colorCross );\n\t\taddLine( 'cn3', 'cn4', colorCross );\n\n\t\taddLine( 'cf1', 'cf2', colorCross );\n\t\taddLine( 'cf3', 'cf4', colorCross );\n\n\t\tfunction addLine( a, b, color ) {\n\n\t\t\taddPoint( a, color );\n\t\t\taddPoint( b, color );\n\n\t\t}\n\n\t\tfunction addPoint( id, color ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tsetColors( xAxisColor, yAxisColor, zAxisColor ) {\n\n\t\tconst color = new Color();\n\t\tconst array = this.geometry.attributes.color.array;\n\n\t\tcolor.set( xAxisColor );\n\t\tcolor.toArray( array, 0 );\n\t\tcolor.toArray( array, 3 );\n\n\t\tcolor.set( yAxisColor );\n\t\tcolor.toArray( array, 6 );\n\t\tcolor.toArray( array, 9 );\n\n\t\tcolor.set( zAxisColor );\n\t\tcolor.toArray( array, 12 );\n\t\tcolor.toArray( array, 15 );\n\n\t\tthis.geometry.attributes.color.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nconst _floatView = new Float32Array( 1 );\nconst _int32View = new Int32Array( _floatView.buffer );\n\nclass DataUtils {\n\n\t// Converts float32 to float16 (stored as uint16 value).\n\n\tstatic toHalfFloat( val ) {\n\n\t\t// Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\n\n\t\t/* This method is faster than the OpenEXR implementation (very often\n\t\t* used, eg. in Ogre), with the additional benefit of rounding, inspired\n\t\t* by James Tursa?s half-precision code. */\n\n\t\t_floatView[ 0 ] = val;\n\t\tconst x = _int32View[ 0 ];\n\n\t\tlet bits = ( x >> 16 ) & 0x8000; /* Get the sign */\n\t\tlet m = ( x >> 12 ) & 0x07ff; /* Keep one extra bit for rounding */\n\t\tconst e = ( x >> 23 ) & 0xff; /* Using int is faster here */\n\n\t\t/* If zero, or denormal, or exponent underflows too much for a denormal\n\t\t\t* half, return signed zero. */\n\t\tif ( e < 103 ) return bits;\n\n\t\t/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\n\t\tif ( e > 142 ) {\n\n\t\t\tbits |= 0x7c00;\n\t\t\t/* If exponent was 0xff and one mantissa bit was set, it means NaN,\n\t\t\t\t\t\t* not Inf, so make sure we set one mantissa bit too. */\n\t\t\tbits |= ( ( e == 255 ) ? 0 : 1 ) && ( x & 0x007fffff );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\t/* If exponent underflows but not too much, return a denormal */\n\t\tif ( e < 113 ) {\n\n\t\t\tm |= 0x0800;\n\t\t\t/* Extra rounding may overflow and set mantissa to 0 and exponent\n\t\t\t\t* to 1, which is OK. */\n\t\t\tbits |= ( m >> ( 114 - e ) ) + ( ( m >> ( 113 - e ) ) & 1 );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\tbits |= ( ( e - 112 ) << 10 ) | ( m >> 1 );\n\t\t/* Extra rounding. An overflow will set mantissa to 0 and increment\n\t\t\t* the exponent, which is OK. */\n\t\tbits += m & 1;\n\t\treturn bits;\n\n\t}\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials = [] ) {\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nPath.prototype.fromPoints = function ( points ) {\n\n\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\treturn this.setFromPoints( points );\n\n};\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nLoader.prototype.extractUrlBase = function ( url ) {\n\n\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\treturn LoaderUtils.extractUrlBase( url );\n\n};\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nBox2.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox2.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox2.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox2.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nBox3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox3.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox3.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox3.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\nBox3.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nSphere.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\n//\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\n//\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\n//\n\nMatrix3.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix3.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\treturn vector.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\treturn attribute.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nMatrix4.prototype.extractPosition = function ( m ) {\n\n\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\treturn this.copyPosition( m );\n\n};\n\nMatrix4.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix4.prototype.getPosition = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n};\n\nMatrix4.prototype.setRotationFromQuaternion = function ( q ) {\n\n\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\treturn this.makeRotationFromQuaternion( q );\n\n};\n\nMatrix4.prototype.multiplyToArray = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n};\n\nMatrix4.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector4 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateAxis = function ( v ) {\n\n\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\tv.transformDirection( this );\n\n};\n\nMatrix4.prototype.crossVector = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.translate = function () {\n\n\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateX = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateY = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateZ = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateByAxis = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n};\n\nMatrix4.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\treturn attribute.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.makeFrustum = function ( left, right, bottom, top, near, far ) {\n\n\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n};\n\nMatrix4.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\n//\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nQuaternion.prototype.inverse = function ( ) {\n\n\tconsole.warn( 'THREE.Quaternion: .inverse() has been renamed to invert().' );\n\treturn this.invert();\n\n};\n\n//\n\nRay.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nRay.prototype.isIntersectionPlane = function ( plane ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\treturn this.intersectsPlane( plane );\n\n};\n\nRay.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\n//\n\nTriangle.prototype.area = function () {\n\n\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\treturn this.getArea();\n\n};\n\nTriangle.prototype.barycoordFromPoint = function ( point, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn this.getBarycoord( point, target );\n\n};\n\nTriangle.prototype.midpoint = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\treturn this.getMidpoint( target );\n\n};\n\nTriangle.prototypenormal = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn this.getNormal( target );\n\n};\n\nTriangle.prototype.plane = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\treturn this.getPlane( target );\n\n};\n\nTriangle.barycoordFromPoint = function ( point, a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n};\n\nTriangle.normal = function ( a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn Triangle.getNormal( a, b, c, target );\n\n};\n\n//\n\nShape.prototype.extractAllPoints = function ( divisions ) {\n\n\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\treturn this.extractPoints( divisions );\n\n};\n\nShape.prototype.extrude = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\treturn new ExtrudeGeometry( this, options );\n\n};\n\nShape.prototype.makeGeometry = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\treturn new ShapeGeometry( this, options );\n\n};\n\n//\n\nVector2.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector2.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector2.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector3.prototype.setEulerFromRotationMatrix = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n};\n\nVector3.prototype.setEulerFromQuaternion = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n};\n\nVector3.prototype.getPositionFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\treturn this.setFromMatrixPosition( m );\n\n};\n\nVector3.prototype.getScaleFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\treturn this.setFromMatrixScale( m );\n\n};\n\nVector3.prototype.getColumnFromMatrix = function ( index, matrix ) {\n\n\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\treturn this.setFromMatrixColumn( matrix, index );\n\n};\n\nVector3.prototype.applyProjection = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\treturn this.applyMatrix4( m );\n\n};\n\nVector3.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector3.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector3.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector4.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector4.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nObject3D.prototype.getChildByName = function ( name ) {\n\n\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\treturn this.getObjectByName( name );\n\n};\n\nObject3D.prototype.renderDepth = function () {\n\n\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n};\n\nObject3D.prototype.translate = function ( distance, axis ) {\n\n\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\treturn this.translateOnAxis( axis, distance );\n\n};\n\nObject3D.prototype.getWorldRotation = function () {\n\n\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n};\n\nObject3D.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nMesh.prototype.setDrawMode = function () {\n\n\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n};\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( 'THREE.PerspectiveCamera.setLens is deprecated. ' +\n\t\t\t'Use .setFocalLength and .filmGauge for a photographic setup.' );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nBufferAttribute.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nBufferAttribute.prototype.copyIndicesArray = function ( /* indices */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n},\n\nBufferAttribute.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nBufferGeometry.prototype.addIndex = function ( index ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\tthis.setIndex( index );\n\n};\n\nBufferGeometry.prototype.addAttribute = function ( name, attribute ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t}\n\n\tif ( name === 'index' ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\tthis.setIndex( attribute );\n\n\t\treturn this;\n\n\t}\n\n\treturn this.setAttribute( name, attribute );\n\n};\n\nBufferGeometry.prototype.addDrawCall = function ( start, count, indexOffset ) {\n\n\tif ( indexOffset !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t}\n\n\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\tthis.addGroup( start, count );\n\n};\n\nBufferGeometry.prototype.clearDrawCalls = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\tthis.clearGroups();\n\n};\n\nBufferGeometry.prototype.computeOffsets = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n};\n\nBufferGeometry.prototype.removeAttribute = function ( name ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\treturn this.deleteAttribute( name );\n\n};\n\nBufferGeometry.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nInterleavedBuffer.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nInterleavedBuffer.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nExtrudeGeometry.prototype.getArrays = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .getArrays() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShapeList = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShapeList() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShape = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShape() has been removed.' );\n\n};\n\n//\n\nScene.prototype.dispose = function () {\n\n\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\n\n};\n\n//\n\nUniform.prototype.onUpdate = function () {\n\n\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\treturn this;\n\n};\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t},\n\n\tvertexTangents: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .vertexTangents has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .vertexTangents has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nWebGLRenderer.prototype.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\tthis.setRenderTarget( renderTarget );\n\tthis.clear( color, depth, stencil );\n\n};\n\nWebGLRenderer.prototype.animate = function ( callback ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\tthis.setAnimationLoop( callback );\n\n};\n\nWebGLRenderer.prototype.getCurrentRenderTarget = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\treturn this.getRenderTarget();\n\n};\n\nWebGLRenderer.prototype.getMaxAnisotropy = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\treturn this.capabilities.getMaxAnisotropy();\n\n};\n\nWebGLRenderer.prototype.getPrecision = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\treturn this.capabilities.precision;\n\n};\n\nWebGLRenderer.prototype.resetGLState = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\treturn this.state.reset();\n\n};\n\nWebGLRenderer.prototype.supportsFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_float' );\n\n};\n\nWebGLRenderer.prototype.supportsHalfFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_half_float' );\n\n};\n\nWebGLRenderer.prototype.supportsStandardDerivatives = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTextureS3TC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTexturePVRTC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n};\n\nWebGLRenderer.prototype.supportsBlendMinMax = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n};\n\nWebGLRenderer.prototype.supportsVertexTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\treturn this.capabilities.vertexTextures;\n\n};\n\nWebGLRenderer.prototype.supportsInstancedArrays = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n};\n\nWebGLRenderer.prototype.enableScissorTest = function ( boolean ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\tthis.setScissorTest( boolean );\n\n};\n\nWebGLRenderer.prototype.initMaterial = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPrePlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPostPlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.updateShadowMap = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setFaceCulling = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.allocTextureUnit = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture2D = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTextureCube = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.getActiveMipMapLevel = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\treturn this.getActiveMipmapLevel();\n\n};\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tconst scope = this;\n\tconst audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nconst SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxGeometry as BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleGeometry as CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeGeometry as ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderGeometry as CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronGeometry as DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeGeometry as ExtrudeBufferGeometry, ExtrudeGeometry, FaceColors, FileLoader, FlatShading, Float16BufferAttribute, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GammaEncoding, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronGeometry as IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheGeometry as LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronGeometry as OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricGeometry as ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneGeometry as PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronGeometry as PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingGeometry as RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeGeometry as ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereGeometry as SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronGeometry as TetrahedronBufferGeometry, TetrahedronGeometry, TextGeometry as TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusGeometry as TorusBufferGeometry, TorusGeometry, TorusKnotGeometry as TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeGeometry as TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGL1Renderer, WebGLCubeRenderTarget, WebGLMultipleRenderTargets, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchEnd();\n\n\t\t\t} else {\n\n\t\t\t\tonMouseUp( event );\n\n\t\t\t}\n\n\t\t\tremovePointer( event );\n\n\t\t\t//\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\thandleMouseUp( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\thandleTouchEnd( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFileLoader,\n\tLoader\n} from 'three';\n\nconst _taskCache = new WeakMap();\n\nclass DRACOLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.decoderPath = '';\n\t\tthis.decoderConfig = {};\n\t\tthis.decoderBinary = null;\n\t\tthis.decoderPending = null;\n\n\t\tthis.workerLimit = 4;\n\t\tthis.workerPool = [];\n\t\tthis.workerNextTaskID = 1;\n\t\tthis.workerSourceURL = '';\n\n\t\tthis.defaultAttributeIDs = {\n\t\t\tposition: 'POSITION',\n\t\t\tnormal: 'NORMAL',\n\t\t\tcolor: 'COLOR',\n\t\t\tuv: 'TEX_COORD'\n\t\t};\n\t\tthis.defaultAttributeTypes = {\n\t\t\tposition: 'Float32Array',\n\t\t\tnormal: 'Float32Array',\n\t\t\tcolor: 'Float32Array',\n\t\t\tuv: 'Float32Array'\n\t\t};\n\n\t}\n\n\tsetDecoderPath( path ) {\n\n\t\tthis.decoderPath = path;\n\n\t\treturn this;\n\n\t}\n\n\tsetDecoderConfig( config ) {\n\n\t\tthis.decoderConfig = config;\n\n\t\treturn this;\n\n\t}\n\n\tsetWorkerLimit( workerLimit ) {\n\n\t\tthis.workerLimit = workerLimit;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\tconst taskConfig = {\n\t\t\t\tattributeIDs: this.defaultAttributeIDs,\n\t\t\t\tattributeTypes: this.defaultAttributeTypes,\n\t\t\t\tuseUniqueIDs: false\n\t\t\t};\n\n\t\t\tthis.decodeGeometry( buffer, taskConfig )\n\t\t\t\t.then( onLoad )\n\t\t\t\t.catch( onError );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\t/** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n\tdecodeDracoFile( buffer, callback, attributeIDs, attributeTypes ) {\n\n\t\tconst taskConfig = {\n\t\t\tattributeIDs: attributeIDs || this.defaultAttributeIDs,\n\t\t\tattributeTypes: attributeTypes || this.defaultAttributeTypes,\n\t\t\tuseUniqueIDs: !! attributeIDs\n\t\t};\n\n\t\tthis.decodeGeometry( buffer, taskConfig ).then( callback );\n\n\t}\n\n\tdecodeGeometry( buffer, taskConfig ) {\n\n\t\t// TODO: For backward-compatibility, support 'attributeTypes' objects containing\n\t\t// references (rather than names) to typed array constructors. These must be\n\t\t// serialized before sending them to the worker.\n\t\tfor ( const attribute in taskConfig.attributeTypes ) {\n\n\t\t\tconst type = taskConfig.attributeTypes[ attribute ];\n\n\t\t\tif ( type.BYTES_PER_ELEMENT !== undefined ) {\n\n\t\t\t\ttaskConfig.attributeTypes[ attribute ] = type.name;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst taskKey = JSON.stringify( taskConfig );\n\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t// again from this thread.\n\t\tif ( _taskCache.has( buffer ) ) {\n\n\t\t\tconst cachedTask = _taskCache.get( buffer );\n\n\t\t\tif ( cachedTask.key === taskKey ) {\n\n\t\t\t\treturn cachedTask.promise;\n\n\t\t\t} else if ( buffer.byteLength === 0 ) {\n\n\t\t\t\t// Technically, it would be possible to wait for the previous task to complete,\n\t\t\t\t// transfer the buffer back, and decode again with the second configuration. That\n\t\t\t\t// is complex, and I don't know of any reason to decode a Draco buffer twice in\n\t\t\t\t// different ways, so this is left unimplemented.\n\t\t\t\tthrow new Error(\n\n\t\t\t\t\t'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n\t\t\t\t\t'settings. Buffer has already been transferred.'\n\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet worker;\n\t\tconst taskID = this.workerNextTaskID ++;\n\t\tconst taskCost = buffer.byteLength;\n\n\t\t// Obtain a worker and assign a task, and construct a geometry instance\n\t\t// when the task completes.\n\t\tconst geometryPending = this._getWorker( taskID, taskCost )\n\t\t\t.then( ( _worker ) => {\n\n\t\t\t\tworker = _worker;\n\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\n\n\t\t\t\t\tworker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t} );\n\n\t\t\t} )\n\t\t\t.then( ( message ) => this._createGeometry( message.geometry ) );\n\n\t\t// Remove task from the task list.\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\t\tgeometryPending\n\t\t\t.catch( () => true )\n\t\t\t.then( () => {\n\n\t\t\t\tif ( worker && taskID ) {\n\n\t\t\t\t\tthis._releaseTask( worker, taskID );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t// Cache the task result.\n\t\t_taskCache.set( buffer, {\n\n\t\t\tkey: taskKey,\n\t\t\tpromise: geometryPending\n\n\t\t} );\n\n\t\treturn geometryPending;\n\n\t}\n\n\t_createGeometry( geometryData ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tif ( geometryData.index ) {\n\n\t\t\tgeometry.setIndex( new BufferAttribute( geometryData.index.array, 1 ) );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < geometryData.attributes.length; i ++ ) {\n\n\t\t\tconst attribute = geometryData.attributes[ i ];\n\t\t\tconst name = attribute.name;\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tgeometry.setAttribute( name, new BufferAttribute( array, itemSize ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n\t_loadLibrary( url, responseType ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.decoderPath );\n\t\tloader.setResponseType( responseType );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tloader.load( url, resolve, undefined, reject );\n\n\t\t} );\n\n\t}\n\n\tpreload() {\n\n\t\tthis._initDecoder();\n\n\t\treturn this;\n\n\t}\n\n\t_initDecoder() {\n\n\t\tif ( this.decoderPending ) return this.decoderPending;\n\n\t\tconst useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n\t\tconst librariesPending = [];\n\n\t\tif ( useJS ) {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );\n\n\t\t} else {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );\n\n\t\t}\n\n\t\tthis.decoderPending = Promise.all( librariesPending )\n\t\t\t.then( ( libraries ) => {\n\n\t\t\t\tconst jsContent = libraries[ 0 ];\n\n\t\t\t\tif ( ! useJS ) {\n\n\t\t\t\t\tthis.decoderConfig.wasmBinary = libraries[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tconst fn = DRACOWorker.toString();\n\n\t\t\t\tconst body = [\n\t\t\t\t\t'/* draco decoder */',\n\t\t\t\t\tjsContent,\n\t\t\t\t\t'',\n\t\t\t\t\t'/* worker */',\n\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\n\t\t\t} );\n\n\t\treturn this.decoderPending;\n\n\t}\n\n\t_getWorker( taskID, taskCost ) {\n\n\t\treturn this._initDecoder().then( () => {\n\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\n\n\t\t\t\tconst worker = new Worker( this.workerSourceURL );\n\n\t\t\t\tworker._callbacks = {};\n\t\t\t\tworker._taskCosts = {};\n\t\t\t\tworker._taskLoad = 0;\n\n\t\t\t\tworker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );\n\n\t\t\t\tworker.onmessage = function ( e ) {\n\n\t\t\t\t\tconst message = e.data;\n\n\t\t\t\t\tswitch ( message.type ) {\n\n\t\t\t\t\t\tcase 'decode':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"' );\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tthis.workerPool.push( worker );\n\n\t\t\t} else {\n\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\n\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst worker = this.workerPool[ this.workerPool.length - 1 ];\n\t\t\tworker._taskCosts[ taskID ] = taskCost;\n\t\t\tworker._taskLoad += taskCost;\n\t\t\treturn worker;\n\n\t\t} );\n\n\t}\n\n\t_releaseTask( worker, taskID ) {\n\n\t\tworker._taskLoad -= worker._taskCosts[ taskID ];\n\t\tdelete worker._callbacks[ taskID ];\n\t\tdelete worker._taskCosts[ taskID ];\n\n\t}\n\n\tdebug() {\n\n\t\tconsole.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.workerPool.length; ++ i ) {\n\n\t\t\tthis.workerPool[ i ].terminate();\n\n\t\t}\n\n\t\tthis.workerPool.length = 0;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n\n\tlet decoderConfig;\n\tlet decoderPending;\n\n\tonmessage = function ( e ) {\n\n\t\tconst message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tdecoderConfig = message.decoderConfig;\n\t\t\t\tdecoderPending = new Promise( function ( resolve/*, reject*/ ) {\n\n\t\t\t\t\tdecoderConfig.onModuleLoaded = function ( draco ) {\n\n\t\t\t\t\t\t// Module is Promise-like. Wrap before resolving to avoid loop.\n\t\t\t\t\t\tresolve( { draco: draco } );\n\n\t\t\t\t\t};\n\n\t\t\t\t\tDracoDecoderModule( decoderConfig ); // eslint-disable-line no-undef\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t\tcase 'decode':\n\t\t\t\tconst buffer = message.buffer;\n\t\t\t\tconst taskConfig = message.taskConfig;\n\t\t\t\tdecoderPending.then( ( module ) => {\n\n\t\t\t\t\tconst draco = module.draco;\n\t\t\t\t\tconst decoder = new draco.Decoder();\n\t\t\t\t\tconst decoderBuffer = new draco.DecoderBuffer();\n\t\t\t\t\tdecoderBuffer.Init( new Int8Array( buffer ), buffer.byteLength );\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst geometry = decodeGeometry( draco, decoder, decoderBuffer, taskConfig );\n\n\t\t\t\t\t\tconst buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );\n\n\t\t\t\t\t\tif ( geometry.index ) buffers.push( geometry.index.array.buffer );\n\n\t\t\t\t\t\tself.postMessage( { type: 'decode', id: message.id, geometry }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t} finally {\n\n\t\t\t\t\t\tdraco.destroy( decoderBuffer );\n\t\t\t\t\t\tdraco.destroy( decoder );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tfunction decodeGeometry( draco, decoder, decoderBuffer, taskConfig ) {\n\n\t\tconst attributeIDs = taskConfig.attributeIDs;\n\t\tconst attributeTypes = taskConfig.attributeTypes;\n\n\t\tlet dracoGeometry;\n\t\tlet decodingStatus;\n\n\t\tconst geometryType = decoder.GetEncodedGeometryType( decoderBuffer );\n\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tdracoGeometry = new draco.Mesh();\n\t\t\tdecodingStatus = decoder.DecodeBufferToMesh( decoderBuffer, dracoGeometry );\n\n\t\t} else if ( geometryType === draco.POINT_CLOUD ) {\n\n\t\t\tdracoGeometry = new draco.PointCloud();\n\t\t\tdecodingStatus = decoder.DecodeBufferToPointCloud( decoderBuffer, dracoGeometry );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );\n\n\t\t}\n\n\t\tif ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );\n\n\t\t}\n\n\t\tconst geometry = { index: null, attributes: [] };\n\n\t\t// Gather all vertex attributes.\n\t\tfor ( const attributeName in attributeIDs ) {\n\n\t\t\tconst attributeType = self[ attributeTypes[ attributeName ] ];\n\n\t\t\tlet attribute;\n\t\t\tlet attributeID;\n\n\t\t\t// A Draco file may be created with default vertex attributes, whose attribute IDs\n\t\t\t// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n\t\t\t// a Draco file may contain a custom set of attributes, identified by known unique\n\t\t\t// IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\t\t\tif ( taskConfig.useUniqueIDs ) {\n\n\t\t\t\tattributeID = attributeIDs[ attributeName ];\n\t\t\t\tattribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );\n\n\t\t\t} else {\n\n\t\t\t\tattributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );\n\n\t\t\t\tif ( attributeID === - 1 ) continue;\n\n\t\t\t\tattribute = decoder.GetAttribute( dracoGeometry, attributeID );\n\n\t\t\t}\n\n\t\t\tgeometry.attributes.push( decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) );\n\n\t\t}\n\n\t\t// Add index.\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tgeometry.index = decodeIndex( draco, decoder, dracoGeometry );\n\n\t\t}\n\n\t\tdraco.destroy( dracoGeometry );\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction decodeIndex( draco, decoder, dracoGeometry ) {\n\n\t\tconst numFaces = dracoGeometry.num_faces();\n\t\tconst numIndices = numFaces * 3;\n\t\tconst byteLength = numIndices * 4;\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetTrianglesUInt32Array( dracoGeometry, byteLength, ptr );\n\t\tconst index = new Uint32Array( draco.HEAPF32.buffer, ptr, numIndices ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn { array: index, itemSize: 1 };\n\n\t}\n\n\tfunction decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {\n\n\t\tconst numComponents = attribute.num_components();\n\t\tconst numPoints = dracoGeometry.num_points();\n\t\tconst numValues = numPoints * numComponents;\n\t\tconst byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n\t\tconst dataType = getDracoDataType( draco, attributeType );\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetAttributeDataArrayForAllPoints( dracoGeometry, attribute, dataType, byteLength, ptr );\n\t\tconst array = new attributeType( draco.HEAPF32.buffer, ptr, numValues ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn {\n\t\t\tname: attributeName,\n\t\t\tarray: array,\n\t\t\titemSize: numComponents\n\t\t};\n\n\t}\n\n\tfunction getDracoDataType( draco, attributeType ) {\n\n\t\tswitch ( attributeType ) {\n\n\t\t\tcase Float32Array: return draco.DT_FLOAT32;\n\t\t\tcase Int8Array: return draco.DT_INT8;\n\t\t\tcase Int16Array: return draco.DT_INT16;\n\t\t\tcase Int32Array: return draco.DT_INT32;\n\t\t\tcase Uint8Array: return draco.DT_UINT8;\n\t\t\tcase Uint16Array: return draco.DT_UINT16;\n\t\t\tcase Uint32Array: return draco.DT_UINT32;\n\n\t\t}\n\n\t}\n\n}\n\nexport { DRACOLoader };\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternionKeyframeTrack,\n\tRGBFormat,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsVolumeExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIorExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSpecularExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet content;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tconst magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, - scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n\t\tif ( extension.thicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'thicknessMap', extension.thicknessTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || 0;\n\n\t\tconst colorArray = extension.attenuationColor || [ 1, 1, 1 ];\n\t\tmaterialParams.attenuationTint = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n\t\tif ( extension.specularTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularIntensityMap', extension.specularTexture ) );\n\n\t\t}\n\n\t\tconst colorArray = extension.specularColorFactor || [ 1, 1, 1 ];\n\t\tmaterialParams.specularTint = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\tif ( extension.specularColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularTintMap', extension.specularColorTexture ).then( function ( texture ) {\n\n\t\t\t\ttexture.encoding = sRGBEncoding;\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst source = json.images[ extension.source ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\tconst source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\tif ( transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n\n\tconstructor( params ) {\n\n\t\tsuper();\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tconst specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.specularRoughness += geometryRoughness;',\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tconst uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( const uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n\n\t\tthis.specularGlossinessParams = [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'normalMapType',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity',\n\t\t\t'refractionRatio',\n\t\t];\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn GLTFMeshStandardSGMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst pending = [];\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\tcreateMaterial( materialParams ) {\n\n\t\tconst material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\tmaterial.fog = true;\n\n\t\tmaterial.color = materialParams.color;\n\n\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\tmaterial.lightMap = null;\n\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\tmaterial.emissive = materialParams.emissive;\n\t\tmaterial.emissiveIntensity = 1.0;\n\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\tmaterial.bumpScale = 1;\n\n\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\tmaterial.displacementMap = null;\n\t\tmaterial.displacementScale = 1;\n\t\tmaterial.displacementBias = 0;\n\n\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\tmaterial.specular = materialParams.specular;\n\n\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\tmaterial.alphaMap = null;\n\n\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\tmaterial.envMapIntensity = 1.0;\n\n\t\tmaterial.refractionRatio = 0.98;\n\n\t\treturn material;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\tconst result = this.resultBuffer;\n\tconst values = this.sampleValues;\n\tconst stride = this.valueSize;\n\n\tconst stride2 = stride * 2;\n\tconst stride3 = stride * 3;\n\n\tconst td = t1 - t0;\n\n\tconst p = ( t - t0 ) / td;\n\tconst pp = p * p;\n\tconst ppp = pp * p;\n\n\tconst offset1 = i1 * stride3;\n\tconst offset0 = offset1 - stride3;\n\n\tconst s2 = - 2 * ppp + 3 * pp;\n\tconst s3 = ppp - pp;\n\tconst s0 = 1 - s2;\n\tconst s1 = s3 - pp + p;\n\n\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t}\n\n\treturn result;\n\n};\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/* UTILITY FUNCTIONS */\n\nfunction resolveURL( url, path ) {\n\n\t// Invalid URL\n\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t// Host Relative URL\n\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t}\n\n\t// Absolute URL http://,https://,//\n\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t// Data URI\n\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t// Blob URL\n\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t// Relative URL\n\treturn path + url;\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst source = json.images[ textureDef.source ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, source, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tconst cacheKey = ( source.uri || source.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = source.uri || '';\n\t\tlet isObjectURL = false;\n\t\tlet hasAlpha = true;\n\n\t\tconst isJPEG = sourceURI.search( /\\.jpe?g($|\\?)/i ) > 0 || sourceURI.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\tif ( source.mimeType === 'image/jpeg' || isJPEG ) hasAlpha = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\n\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n\t\t\t\t\t// alpha channel. This check is conservative — the image could have an alpha\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\n\t\t\t\t\t// sometimes contains alpha.\n\t\t\t\t\t//\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n\t\t\t\t\tconst colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n\n\t\t\t\t}\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( source.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, {\n\t\t\t\ttype: 'textures',\n\t\t\t\tindex: textureIndex\n\t\t\t} );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise<Texture>}\n\t */\n\tassignTexture( materialParams, mapName, mapDef ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\n\t\t\t\tif ( useVertexTangents ) {\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tconst sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\tmaterialParams.normalScale = new Vector2( 1, - 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, - materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tlet material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tconst pending = [];\n\n\t\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t\t} );\n\n\t\t\tif ( meshPromise ) {\n\n\t\t\t\tpending.push( meshPromise );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\nfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\tconst nodeDef = json.nodes[ nodeId ];\n\n\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t// build skeleton here as well\n\n\t\tlet skinEntry;\n\n\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\tskinEntry = skin;\n\n\t\t\tconst pendingJoints = [];\n\n\t\t\tfor ( let i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingJoints );\n\n\t\t} ).then( function ( jointNodes ) {\n\n\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\tconst bones = [];\n\t\t\t\tconst boneInverses = [];\n\n\t\t\t\tfor ( let j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst jointNode = jointNodes[ j ];\n\n\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t} );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t} ).then( function ( node ) {\n\n\t\t// build node hierachy\n\n\t\tparentObject.add( node );\n\n\t\tconst pending = [];\n\n\t\tif ( nodeDef.children ) {\n\n\t\t\tconst children = nodeDef.children;\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tlet index = geometry.getIndex();\n\n\t// generate index if not present\n\n\tif ( index === null ) {\n\n\t\tconst indices = [];\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\tindices.push( i );\n\n\t\t\t}\n\n\t\t\tgeometry.setIndex( indices );\n\t\t\tindex = geometry.getIndex();\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst numberOfTriangles = index.count - 2;\n\tconst newIndices = [];\n\n\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t// gl.TRIANGLE_FAN\n\n\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t}\n\n\t} else {\n\n\t\t// gl.TRIANGLE_STRIP\n\n\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t} else {\n\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t}\n\n\t// build final geometry\n\n\tconst newGeometry = geometry.clone();\n\tnewGeometry.setIndex( newIndices );\n\n\treturn newGeometry;\n\n}\n\nexport { GLTFLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tTrianglesDrawMode,\n\tVector3\n} from 'three';\n\nclass BufferGeometryUtils {\n\n\tstatic computeTangents( geometry ) {\n\n\t\tgeometry.computeTangents();\n\t\tconsole.warn( 'THREE.BufferGeometryUtils: .computeTangents() has been removed. Use BufferGeometry.computeTangents() instead.' );\n\n\t}\n\n\t/**\n\t * @param  {Array<BufferGeometry>} geometries\n\t * @param  {Boolean} useGroups\n\t * @return {BufferGeometry}\n\t */\n\tstatic mergeBufferGeometries( geometries, useGroups = false ) {\n\n\t\tconst isIndexed = geometries[ 0 ].index !== null;\n\n\t\tconst attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\n\t\tconst morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\n\n\t\tconst attributes = {};\n\t\tconst morphAttributes = {};\n\n\t\tconst morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\n\n\t\tconst mergedGeometry = new BufferGeometry();\n\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\tconst geometry = geometries[ i ];\n\t\t\tlet attributesCount = 0;\n\n\t\t\t// ensure that all geometries are indexed, or none\n\n\t\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// gather attributes, exit early if they're different\n\n\t\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\t\tif ( ! attributesUsed.has( name ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\n\n\t\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\n\n\t\t\t\tattributesCount ++;\n\n\t\t\t}\n\n\t\t\t// ensure geometries have the same number of attributes\n\n\t\t\tif ( attributesCount !== attributesUsed.size ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// gather morph attributes, exit early if they're different\n\n\t\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tfor ( const name in geometry.morphAttributes ) {\n\n\t\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\n\n\t\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\n\n\t\t\t}\n\n\t\t\t// gather .userData\n\n\t\t\tmergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || [];\n\t\t\tmergedGeometry.userData.mergedUserData.push( geometry.userData );\n\n\t\t\tif ( useGroups ) {\n\n\t\t\t\tlet count;\n\n\t\t\t\tif ( isIndexed ) {\n\n\t\t\t\t\tcount = geometry.index.count;\n\n\t\t\t\t} else if ( geometry.attributes.position !== undefined ) {\n\n\t\t\t\t\tcount = geometry.attributes.position.count;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t\tmergedGeometry.addGroup( offset, count, i );\n\n\t\t\t\toffset += count;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// merge indices\n\n\t\tif ( isIndexed ) {\n\n\t\t\tlet indexOffset = 0;\n\t\t\tconst mergedIndex = [];\n\n\t\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\t\tconst index = geometries[ i ].index;\n\n\t\t\t\tfor ( let j = 0; j < index.count; ++ j ) {\n\n\t\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\n\n\t\t\t\t}\n\n\t\t\t\tindexOffset += geometries[ i ].attributes.position.count;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.setIndex( mergedIndex );\n\n\t\t}\n\n\t\t// merge attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst mergedAttribute = this.mergeBufferAttributes( attributes[ name ] );\n\n\t\t\tif ( ! mergedAttribute ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.setAttribute( name, mergedAttribute );\n\n\t\t}\n\n\t\t// merge morph attributes\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst numMorphTargets = morphAttributes[ name ][ 0 ].length;\n\n\t\t\tif ( numMorphTargets === 0 ) break;\n\n\t\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\n\t\t\tmergedGeometry.morphAttributes[ name ] = [];\n\n\t\t\tfor ( let i = 0; i < numMorphTargets; ++ i ) {\n\n\t\t\t\tconst morphAttributesToMerge = [];\n\n\t\t\t\tfor ( let j = 0; j < morphAttributes[ name ].length; ++ j ) {\n\n\t\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\n\n\t\t\t\t}\n\n\t\t\t\tconst mergedMorphAttribute = this.mergeBufferAttributes( morphAttributesToMerge );\n\n\t\t\t\tif ( ! mergedMorphAttribute ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn mergedGeometry;\n\n\t}\n\n\t/**\n\t * @param {Array<BufferAttribute>} attributes\n\t * @return {BufferAttribute}\n\t */\n\tstatic mergeBufferAttributes( attributes ) {\n\n\t\tlet TypedArray;\n\t\tlet itemSize;\n\t\tlet normalized;\n\t\tlet arrayLength = 0;\n\n\t\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\t\tconst attribute = attributes[ i ];\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\n\t\t\tif ( itemSize !== attribute.itemSize ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( normalized === undefined ) normalized = attribute.normalized;\n\t\t\tif ( normalized !== attribute.normalized ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tarrayLength += attribute.array.length;\n\n\t\t}\n\n\t\tconst array = new TypedArray( arrayLength );\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\t\tarray.set( attributes[ i ].array, offset );\n\n\t\t\toffset += attributes[ i ].array.length;\n\n\t\t}\n\n\t\treturn new BufferAttribute( array, itemSize, normalized );\n\n\t}\n\n\t/**\n\t * @param {Array<BufferAttribute>} attributes\n\t * @return {Array<InterleavedBufferAttribute>}\n\t */\n\tstatic interleaveAttributes( attributes ) {\n\n\t\t// Interleaves the provided attributes into an InterleavedBuffer and returns\n\t\t// a set of InterleavedBufferAttributes for each attribute\n\t\tlet TypedArray;\n\t\tlet arrayLength = 0;\n\t\tlet stride = 0;\n\n\t\t// calculate the the length and type of the interleavedBuffer\n\t\tfor ( let i = 0, l = attributes.length; i < l; ++ i ) {\n\n\t\t\tconst attribute = attributes[ i ];\n\n\t\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tarrayLength += attribute.array.length;\n\t\t\tstride += attribute.itemSize;\n\n\t\t}\n\n\t\t// Create the set of buffer attributes\n\t\tconst interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\n\t\tlet offset = 0;\n\t\tconst res = [];\n\t\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\t\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\t\tfor ( let j = 0, l = attributes.length; j < l; j ++ ) {\n\n\t\t\tconst attribute = attributes[ j ];\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst count = attribute.count;\n\t\t\tconst iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\n\t\t\tres.push( iba );\n\n\t\t\toffset += itemSize;\n\n\t\t\t// Move the data for each attribute into the new interleavedBuffer\n\t\t\t// at the appropriate offset\n\t\t\tfor ( let c = 0; c < count; c ++ ) {\n\n\t\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn res;\n\n\t}\n\n\t/**\n\t * @param {Array<BufferGeometry>} geometry\n\t * @return {number}\n\t */\n\tstatic estimateBytesUsed( geometry ) {\n\n\t\t// Return the estimated memory used by this geometry in bytes\n\t\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n\t\t// for InterleavedBufferAttributes.\n\t\tlet mem = 0;\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tconst attr = geometry.getAttribute( name );\n\t\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\n\n\t\t}\n\n\t\tconst indices = geometry.getIndex();\n\t\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\n\t\treturn mem;\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {number} tolerance\n\t * @return {BufferGeometry>}\n\t */\n\tstatic mergeVertices( geometry, tolerance = 1e-4 ) {\n\n\t\ttolerance = Math.max( tolerance, Number.EPSILON );\n\n\t\t// Generate an index buffer if the geometry doesn't have one, or optimize it\n\t\t// if it's already available.\n\t\tconst hashToIndex = {};\n\t\tconst indices = geometry.getIndex();\n\t\tconst positions = geometry.getAttribute( 'position' );\n\t\tconst vertexCount = indices ? indices.count : positions.count;\n\n\t\t// next value for triangle indices\n\t\tlet nextIndex = 0;\n\n\t\t// attributes and new attribute arrays\n\t\tconst attributeNames = Object.keys( geometry.attributes );\n\t\tconst attrArrays = {};\n\t\tconst morphAttrsArrays = {};\n\t\tconst newIndices = [];\n\t\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\n\t\t// initialize the arrays\n\t\tfor ( let i = 0, l = attributeNames.length; i < l; i ++ ) {\n\n\t\t\tconst name = attributeNames[ i ];\n\n\t\t\tattrArrays[ name ] = [];\n\n\t\t\tconst morphAttr = geometry.morphAttributes[ name ];\n\t\t\tif ( morphAttr ) {\n\n\t\t\t\tmorphAttrsArrays[ name ] = new Array( morphAttr.length ).fill().map( () => [] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// convert the error tolerance to an amount of decimal places to truncate to\n\t\tconst decimalShift = Math.log10( 1 / tolerance );\n\t\tconst shiftMultiplier = Math.pow( 10, decimalShift );\n\t\tfor ( let i = 0; i < vertexCount; i ++ ) {\n\n\t\t\tconst index = indices ? indices.getX( i ) : i;\n\n\t\t\t// Generate a hash for the vertex attributes at the current index 'i'\n\t\t\tlet hash = '';\n\t\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\t\tconst name = attributeNames[ j ];\n\t\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t\t// double tilde truncates the decimal value\n\t\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * shiftMultiplier ) },`;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add another reference to the vertex if it's already\n\t\t\t// used by another index\n\t\t\tif ( hash in hashToIndex ) {\n\n\t\t\t\tnewIndices.push( hashToIndex[ hash ] );\n\n\t\t\t} else {\n\n\t\t\t\t// copy data to the new index in the attribute arrays\n\t\t\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\t\t\tconst name = attributeNames[ j ];\n\t\t\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\t\t\tconst morphAttr = geometry.morphAttributes[ name ];\n\t\t\t\t\tconst itemSize = attribute.itemSize;\n\t\t\t\t\tconst newarray = attrArrays[ name ];\n\t\t\t\t\tconst newMorphArrays = morphAttrsArrays[ name ];\n\n\t\t\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t\t\tconst getterFunc = getters[ k ];\n\t\t\t\t\t\tnewarray.push( attribute[ getterFunc ]( index ) );\n\n\t\t\t\t\t\tif ( morphAttr ) {\n\n\t\t\t\t\t\t\tfor ( let m = 0, ml = morphAttr.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\t\t\tnewMorphArrays[ m ].push( morphAttr[ m ][ getterFunc ]( index ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\thashToIndex[ hash ] = nextIndex;\n\t\t\t\tnewIndices.push( nextIndex );\n\t\t\t\tnextIndex ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate typed arrays from new attribute arrays and update\n\t\t// the attributeBuffers\n\t\tconst result = geometry.clone();\n\t\tfor ( let i = 0, l = attributeNames.length; i < l; i ++ ) {\n\n\t\t\tconst name = attributeNames[ i ];\n\t\t\tconst oldAttribute = geometry.getAttribute( name );\n\n\t\t\tconst buffer = new oldAttribute.array.constructor( attrArrays[ name ] );\n\t\t\tconst attribute = new BufferAttribute( buffer, oldAttribute.itemSize, oldAttribute.normalized );\n\n\t\t\tresult.setAttribute( name, attribute );\n\n\t\t\t// Update the attribute arrays\n\t\t\tif ( name in morphAttrsArrays ) {\n\n\t\t\t\tfor ( let j = 0; j < morphAttrsArrays[ name ].length; j ++ ) {\n\n\t\t\t\t\tconst oldMorphAttribute = geometry.morphAttributes[ name ][ j ];\n\n\t\t\t\t\tconst buffer = new oldMorphAttribute.array.constructor( morphAttrsArrays[ name ][ j ] );\n\t\t\t\t\tconst morphAttribute = new BufferAttribute( buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized );\n\t\t\t\t\tresult.morphAttributes[ name ][ j ] = morphAttribute;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tresult.setIndex( newIndices );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {number} drawMode\n\t * @return {BufferGeometry>}\n\t */\n\tstatic toTrianglesDrawMode( geometry, drawMode ) {\n\n\t\tif ( drawMode === TrianglesDrawMode ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\n\n\t\t\tlet index = geometry.getIndex();\n\n\t\t\t// generate index if not present\n\n\t\t\tif ( index === null ) {\n\n\t\t\t\tconst indices = [];\n\n\t\t\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t\t\tif ( position !== undefined ) {\n\n\t\t\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\t\tindices.push( i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\t\treturn geometry;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst numberOfTriangles = index.count - 2;\n\t\t\tconst newIndices = [];\n\n\t\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t\t}\n\n\t\t\t// build final geometry\n\n\t\t\tconst newGeometry = geometry.clone();\n\t\t\tnewGeometry.setIndex( newIndices );\n\t\t\tnewGeometry.clearGroups();\n\n\t\t\treturn newGeometry;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n\t * Helpful for Raytracing or Decals.\n\t * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n\t * @return {Object} An Object with original position/normal attributes and morphed ones.\n\t */\n\tstatic computeMorphedAttributes( object ) {\n\n\t\tif ( object.geometry.isBufferGeometry !== true ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst _vA = new Vector3();\n\t\tconst _vB = new Vector3();\n\t\tconst _vC = new Vector3();\n\n\t\tconst _tempA = new Vector3();\n\t\tconst _tempB = new Vector3();\n\t\tconst _tempC = new Vector3();\n\n\t\tconst _morphA = new Vector3();\n\t\tconst _morphB = new Vector3();\n\t\tconst _morphC = new Vector3();\n\n\t\tfunction _calculateMorphedAttributeData(\n\t\t\tobject,\n\t\t\tmaterial,\n\t\t\tattribute,\n\t\t\tmorphAttribute,\n\t\t\tmorphTargetsRelative,\n\t\t\ta,\n\t\t\tb,\n\t\t\tc,\n\t\t\tmodifiedAttributeArray\n\t\t) {\n\n\t\t\t_vA.fromBufferAttribute( attribute, a );\n\t\t\t_vB.fromBufferAttribute( attribute, b );\n\t\t\t_vC.fromBufferAttribute( attribute, c );\n\n\t\t\tconst morphInfluences = object.morphTargetInfluences;\n\n\t\t\tif ( material.morphTargets && morphAttribute && morphInfluences ) {\n\n\t\t\t\t_morphA.set( 0, 0, 0 );\n\t\t\t\t_morphB.set( 0, 0, 0 );\n\t\t\t\t_morphC.set( 0, 0, 0 );\n\n\t\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst influence = morphInfluences[ i ];\n\t\t\t\t\tconst morph = morphAttribute[ i ];\n\n\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\t_tempA.fromBufferAttribute( morph, a );\n\t\t\t\t\t_tempB.fromBufferAttribute( morph, b );\n\t\t\t\t\t_tempC.fromBufferAttribute( morph, c );\n\n\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t_vA.add( _morphA );\n\t\t\t\t_vB.add( _morphB );\n\t\t\t\t_vC.add( _morphC );\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\tobject.boneTransform( a, _vA );\n\t\t\t\tobject.boneTransform( b, _vB );\n\t\t\t\tobject.boneTransform( c, _vC );\n\n\t\t\t}\n\n\t\t\tmodifiedAttributeArray[ a * 3 + 0 ] = _vA.x;\n\t\t\tmodifiedAttributeArray[ a * 3 + 1 ] = _vA.y;\n\t\t\tmodifiedAttributeArray[ a * 3 + 2 ] = _vA.z;\n\t\t\tmodifiedAttributeArray[ b * 3 + 0 ] = _vB.x;\n\t\t\tmodifiedAttributeArray[ b * 3 + 1 ] = _vB.y;\n\t\t\tmodifiedAttributeArray[ b * 3 + 2 ] = _vB.z;\n\t\t\tmodifiedAttributeArray[ c * 3 + 0 ] = _vC.x;\n\t\t\tmodifiedAttributeArray[ c * 3 + 1 ] = _vC.y;\n\t\t\tmodifiedAttributeArray[ c * 3 + 2 ] = _vC.z;\n\n\t\t}\n\n\t\tconst geometry = object.geometry;\n\t\tconst material = object.material;\n\n\t\tlet a, b, c;\n\t\tconst index = geometry.index;\n\t\tconst positionAttribute = geometry.attributes.position;\n\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\tconst normalAttribute = geometry.attributes.normal;\n\t\tconst morphNormal = geometry.morphAttributes.position;\n\n\t\tconst groups = geometry.groups;\n\t\tconst drawRange = geometry.drawRange;\n\t\tlet i, j, il, jl;\n\t\tlet group, groupMaterial;\n\t\tlet start, end;\n\n\t\tconst modifiedPosition = new Float32Array( positionAttribute.count * positionAttribute.itemSize );\n\t\tconst modifiedNormal = new Float32Array( normalAttribute.count * normalAttribute.itemSize );\n\n\t\tif ( index !== null ) {\n\n\t\t\t// indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\t\tobject,\n\t\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\t\tobject,\n\t\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( positionAttribute !== undefined ) {\n\n\t\t\t// non-indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\ta = j;\n\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\t\tobject,\n\t\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\t\tobject,\n\t\t\t\t\t\t\tgroupMaterial,\n\t\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\tend = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\ta = i;\n\t\t\t\t\tb = i + 1;\n\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tmaterial,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphedPositionAttribute = new Float32BufferAttribute( modifiedPosition, 3 );\n\t\tconst morphedNormalAttribute = new Float32BufferAttribute( modifiedNormal, 3 );\n\n\t\treturn {\n\n\t\t\tpositionAttribute: positionAttribute,\n\t\t\tnormalAttribute: normalAttribute,\n\t\t\tmorphedPositionAttribute: morphedPositionAttribute,\n\t\t\tmorphedNormalAttribute: morphedNormalAttribute\n\n\t\t};\n\n\t}\n\n}\n\nexport { BufferGeometryUtils };\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport * as THREE from 'three';\r\nimport { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js';\r\nimport { LegacyGLTFLoader } from './LegacyGLTFLoader.js';\r\nimport { Color, DoubleSide, BufferAttribute, Mesh } from \"three\";\r\nimport { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\r\n\r\nconst gltfLoader = new GLTFLoader();\r\nconst dracoLoader = new DRACOLoader();\r\ndracoLoader.setDecoderPath( '/src/draco/' );\r\ngltfLoader.setDRACOLoader( dracoLoader );\r\nconst legacyGLTFLoader = new LegacyGLTFLoader();\r\nconst B3DMDecoder = {\r\n\tparseB3DM: (arrayBuffer, meshCallback) => {\r\n\t\tconst dataView = new DataView(arrayBuffer);\r\n\r\n\t\tconst magic =\r\n\t\t\tString.fromCharCode(dataView.getUint8(0)) +\r\n\t\t\tString.fromCharCode(dataView.getUint8(1)) +\r\n\t\t\tString.fromCharCode(dataView.getUint8(2)) +\r\n\t\t\tString.fromCharCode(dataView.getUint8(3));\r\n\t\tconsole.assert(magic === 'b3dm');\r\n\r\n\t\tconst version = dataView.getUint32(4, true);\r\n\t\tconsole.assert(version === 1);\r\n\r\n\t\tconst byteLength = dataView.getUint32(8, true);\r\n\t\tconsole.assert(byteLength === arrayBuffer.byteLength);\r\n\r\n\t\tconst featureTableJSONByteLength = dataView.getUint32(12, true);\r\n\t\tconst featureTableBinaryByteLength = dataView.getUint32(16, true);\r\n\t\tconst batchTableJSONByteLength = dataView.getUint32(20, true);\r\n\t\tconst batchTableBinaryByteLength = dataView.getUint32(24, true);\r\n\r\n\t\tconst featureTableStart = 28;\r\n\t\t//const featureTable = new FeatureTable( arrayBuffer, featureTableStart, featureTableJSONByteLength, featureTableBinaryByteLength );\r\n\r\n\t\tconst batchTableStart = featureTableStart + featureTableJSONByteLength + featureTableBinaryByteLength;\r\n\t\t//const batchTable = new BatchTable( arrayBuffer, featureTable.getData( 'BATCH_LENGTH' ), batchTableStart, batchTableJSONByteLength, batchTableBinaryByteLength );\r\n\r\n\t\tconst glbStart = batchTableStart + batchTableJSONByteLength + batchTableBinaryByteLength;\r\n\t\tconst glbBytes = new Uint8Array(arrayBuffer, glbStart, byteLength - glbStart);\r\n\r\n\r\n\t\tconst gltfBuffer = glbBytes.slice().buffer;\r\n\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\tgltfLoader.parse(gltfBuffer, null, model => {\r\n\r\n\t\t\t\t////TODO\r\n\t\t\t\t//model.batchTable = b3dm.batchTable;\r\n\t\t\t\t//model.featureTable = b3dm.featureTable;\r\n\r\n\t\t\t\t//model.scene.batchTable = b3dm.batchTable;\r\n\t\t\t\t//model.scene.featureTable = b3dm.featureTable;\r\n\r\n\t\t\t\t//const scene = mergeColoredObject(model.scene);\r\n\t\t\t\tmodel.scene.traverse((o) => {\r\n\t\t\t\t\tif (o.isMesh) {\r\n\t\t\t\t\t\tif (!!meshCallback) {\r\n\t\t\t\t\t\t\tmeshCallback(o);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tresolve(model.scene);\r\n\t\t\t}, error=>{\r\n\t\t\t\tlegacyGLTFLoader.parse(gltfBuffer, model => {\r\n\r\n\t\t\t\t\t////TODO\r\n\t\t\t\t\t//model.batchTable = b3dm.batchTable;\r\n\t\t\t\t\t//model.featureTable = b3dm.featureTable;\r\n\t\r\n\t\t\t\t\t//model.scene.batchTable = b3dm.batchTable;\r\n\t\t\t\t\t//model.scene.featureTable = b3dm.featureTable;\r\n\t\r\n\t\t\t\t\t//const scene = mergeColoredObject(model.scene);\r\n\t\t\t\t\tmodel.scene.traverse((o) => {\r\n\t\t\t\t\t\tif (o.isMesh) {\r\n\t\t\t\t\t\t\tif (!!meshCallback) {\r\n\t\t\t\t\t\t\t\tmeshCallback(o);\r\n\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tresolve(model.scene);\r\n\t\t\t\t}, null);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * //TODO find something else than this workaround\r\n * \r\n * Because B3DM doesn't support colored faces, they are usually encoded as separate meshes each one with a global color.\r\n * However, when a mesh has many different face colors, this becomes very inneficient.\r\n * This method doesn't fix the slow decoding of the GLTFLoader but at least merges meshes together and transfers the face color to vertex color \r\n * which is much more efficient at render time. \r\n * Textured meshes with the same texture are also merged and color is discarded\r\n * \r\n * Big assumption! all the meshes are assumed to have the same transformation matrix\r\n * \r\n * @param {*} scene \r\n * @returns \r\n */\r\nfunction mergeColoredObject(scene) {\r\n\t\r\n\tconst coloredMeshes = {};\r\n\tconst texturedMeshes = {};\r\n\tscene.traverse((element) => {\r\n\t\tif (element.isMesh) {\r\n\t\t\tif (element.material) {\r\n\t\t\t\t// dispose materials\r\n\t\t\t\tif (element.material.length) {\r\n\t\t\t\t\t// not supported\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (!element.material.map) {\r\n\t\t\t\t\t\tlet color = element.material.color;\r\n\t\t\t\t\t\tcolor = \"rgb(\"+Math.floor(color.r*255)+\",\"+Math.floor(color.g*255)+\",\"+Math.floor(color.b*255)+\")\";\r\n\t\t\t\t\t\tif (!coloredMeshes[color]) {\r\n\t\t\t\t\t\t\tcoloredMeshes[color] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcoloredMeshes[color].push(element);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (!texturedMeshes[element.material.map]) {\r\n\t\t\t\t\t\t\ttexturedMeshes[element.material.map] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttexturedMeshes[element.material.map].push(element);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tlet coloredMeshMaterial;\r\n\tconst fullColoredGeometriesToMerge = [];\r\n\tfor (const color in coloredMeshes) {\r\n\t\tif (coloredMeshes.hasOwnProperty(color)) {\r\n\t\t\tconst threeColor = new Color(color);\r\n\t\t\t//const geometriesToMerge = [];\r\n\t\t\tcoloredMeshes[color].forEach(mesh => {\r\n\t\t\t\tif(!coloredMeshMaterial){\r\n\t\t\t\t\tcoloredMeshMaterial = mesh.material.clone();\r\n\t\t\t\t\tdelete coloredMeshMaterial.color;\r\n\t\t\t\t\tcoloredMeshMaterial.vertexColors = true;\r\n\t\t\t\t}\r\n\t\t\t\tconst colors = [];\r\n\t\t\tfor (let i = 0; i < mesh.geometry.attributes.position.count; i++) {\r\n\t\t\t\tcolors.push(threeColor.r);\r\n\t\t\t\tcolors.push(threeColor.g);\r\n\t\t\t\tcolors.push(threeColor.b);\r\n\t\t\t}\r\n\t\t\tmesh.geometry.setAttribute('color', new BufferAttribute(new Float32Array(colors), 3));\r\n\r\n\t\t\tfullColoredGeometriesToMerge.push(mesh.geometry);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tlet mergedColoredMesh;\r\n\tif(fullColoredGeometriesToMerge.length>0){\r\n\t\tlet mergedColoredGeometry = BufferGeometryUtils.mergeBufferGeometries(fullColoredGeometriesToMerge, false);\r\n\t\tmergedColoredMesh = new Mesh(mergedColoredGeometry, coloredMeshMaterial);\r\n\t\t//mergedColoredMesh.matrix = matrix;\r\n\t\tfor (const color in coloredMeshes) {\r\n\t\t\tif (coloredMeshes.hasOwnProperty(color)) {\r\n\t\t\t\tcoloredMeshes[color].forEach(mesh => {\r\n\t\t\t\t\tmesh.material.dispose();\r\n\t\t\t\t\tmesh.geometry.dispose();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\tconst mergedTexturedMeshes = [];\r\n\tfor(const map in texturedMeshes){\r\n\t\tif (texturedMeshes.hasOwnProperty(map)) {\r\n\t\t\tif(texturedMeshes[map].length==1){\r\n\t\t\t\tmergedTexturedMeshes.push(texturedMeshes[map][0]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tconst geometries = [];\r\n\t\t\tlet material;\r\n\t\t\ttexturedMeshes[map].forEach(mesh => {\r\n\t\t\t\tif(!material){\r\n\t\t\t\t\tmaterial = mesh.material.clone();\r\n\t\t\t\t\tdelete material.color;\r\n\t\t\t\t\tmaterial.vertexColors = false;\r\n\t\t\t\t}\r\n\t\t\t\tgeometries.push(mesh.geometry);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tconst mergedGeometry = BufferGeometryUtils.mergeBufferGeometries(geometries, false);\r\n\t\t\tconst mesh = new Mesh(mergedGeometry, material);\r\n\t\t\t//mesh.matrix = matrix;\r\n\t\t\tmergedTexturedMeshes.push(mesh);\r\n\t\t\ttexturedMeshes[map].forEach(mesh => {\r\n\t\t\t\tmesh.material.dispose();\r\n\t\t\t\tmesh.geometry.dispose();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tscene.clear();\r\n\tif(!!mergedColoredMesh) scene.add(mergedColoredMesh);\r\n\tmergedTexturedMeshes.forEach(mesh=>scene.add(mesh));\r\n\tconsole.log();\r\n\tscene.matrix = new THREE.Matrix4();\r\n\treturn scene;\r\n}\r\n\r\nexport { B3DMDecoder }\r\n\r\n","/**\n * @author Rich Tibbett / https://github.com/richtr\n * @author mrdoob / http://mrdoob.com/\n * @author Tony Parisi / http://www.tonyparisi.com/\n * @author Takahiro / https://github.com/takahirox\n */\nimport * as THREE from 'three';\nconst LegacyGLTFLoader = ( function () {\n\n\tfunction LegacyGLTFLoader( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n\t}\n\n\tLegacyGLTFLoader.prototype = {\n\n\t\tconstructor: LegacyGLTFLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar path = this.path && ( typeof this.path === \"string\" ) ? this.path : THREE.Loader.prototype.extractUrlBase( url );\n\n\t\t\tvar loader = new THREE.FileLoader( scope.manager );\n\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\tscope.parse( data, onLoad, path );\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetCrossOrigin: function ( value ) {\n\n\t\t\tthis.crossOrigin = value;\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\n\t\t},\n\n\t\tparse: function ( data, callback, path ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\n\t\t\tvar magic = convertUint8ArrayToString( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_DEFAULTS.magic ) {\n\n\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = convertUint8ArrayToString( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t\tvar json = JSON.parse( content );\n\n\t\t\tif ( json.extensionsUsed && json.extensionsUsed.indexOf( EXTENSIONS.KHR_MATERIALS_COMMON ) >= 0 ) {\n\n\t\t\t\textensions[ EXTENSIONS.KHR_MATERIALS_COMMON ] = new GLTFMaterialsCommonExtension( json );\n\n\t\t\t}\n\n\t\t\tconsole.time( 'LegacyGLTFLoader' );\n\n\t\t\tvar parser = new GLTFParser( json, extensions, {\n\n\t\t\t\tpath: path || this.path,\n\t\t\t\tcrossOrigin: this.crossOrigin\n\n\t\t\t} );\n\n\t\t\tparser.parse( function ( scene, scenes, cameras, animations ) {\n\n\t\t\t\tconsole.timeEnd( 'LegacyGLTFLoader' );\n\n\t\t\t\tvar glTF = {\n\t\t\t\t\t\"scene\": scene,\n\t\t\t\t\t\"scenes\": scenes,\n\t\t\t\t\t\"cameras\": cameras,\n\t\t\t\t\t\"animations\": animations\n\t\t\t\t};\n\n\t\t\t\tcallback( glTF );\n\n\t\t\t} );\n\n\t\t}\n\n\t};\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t},\n\n\t\t\tupdate: function ( scene, camera ) {\n\n\t\t\t\tfor ( var name in objects ) {\n\n\t\t\t\t\tvar object = objects[ name ];\n\n\t\t\t\t\tif ( object.update ) {\n\n\t\t\t\t\t\tobject.update( scene, camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/* GLTFSHADERS */\n\n\tLegacyGLTFLoader.Shaders = {\n\n\t\tupdate: function () {\n\n\t\t\tconsole.warn( 'THREE.LegacyGLTFLoader.Shaders has been deprecated, and now updates automatically.' );\n\n\t\t}\n\n\t};\n\n\t/* GLTFSHADER */\n\n\tfunction GLTFShader( targetNode, allNodes ) {\n\n\t\tvar boundUniforms = {};\n\n\t\t// bind each uniform to its source node\n\n\t\tvar uniforms = targetNode.material.uniforms;\n\n\t\tfor ( var uniformId in uniforms ) {\n\n\t\t\tvar uniform = uniforms[ uniformId ];\n\n\t\t\tif ( uniform.semantic ) {\n\n\t\t\t\tvar sourceNodeRef = uniform.node;\n\n\t\t\t\tvar sourceNode = targetNode;\n\n\t\t\t\tif ( sourceNodeRef ) {\n\n\t\t\t\t\tsourceNode = allNodes[ sourceNodeRef ];\n\n\t\t\t\t}\n\n\t\t\t\tboundUniforms[ uniformId ] = {\n\t\t\t\t\tsemantic: uniform.semantic,\n\t\t\t\t\tsourceNode: sourceNode,\n\t\t\t\t\ttargetNode: targetNode,\n\t\t\t\t\tuniform: uniform\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.boundUniforms = boundUniforms;\n\t\tthis._m4 = new THREE.Matrix4();\n\n\t}\n\n\t// Update - update all the uniform values\n\tGLTFShader.prototype.update = function ( scene, camera ) {\n\n\t\tvar boundUniforms = this.boundUniforms;\n\n\t\tfor ( var name in boundUniforms ) {\n\n\t\t\tvar boundUniform = boundUniforms[ name ];\n\n\t\t\tswitch ( boundUniform.semantic ) {\n\n\t\t\t\tcase \"MODELVIEW\":\n\n\t\t\t\t\tvar m4 = boundUniform.uniform.value;\n\t\t\t\t\tm4.multiplyMatrices( camera.matrixWorldInverse, boundUniform.sourceNode.matrixWorld );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"MODELVIEWINVERSETRANSPOSE\":\n\n\t\t\t\t\tvar m3 = boundUniform.uniform.value;\n\t\t\t\t\tthis._m4.multiplyMatrices( camera.matrixWorldInverse, boundUniform.sourceNode.matrixWorld );\n\t\t\t\t\tm3.getNormalMatrix( this._m4 );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"PROJECTION\":\n\n\t\t\t\t\tvar m4 = boundUniform.uniform.value;\n\t\t\t\t\tm4.copy( camera.projectionMatrix );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"JOINTMATRIX\":\n\n\t\t\t\t\tvar m4v = boundUniform.uniform.value;\n\n\t\t\t\t\tfor ( var mi = 0; mi < m4v.length; mi ++ ) {\n\n\t\t\t\t\t\t// So it goes like this:\n\t\t\t\t\t\t// SkinnedMesh world matrix is already baked into MODELVIEW;\n\t\t\t\t\t\t// transform joints to local space,\n\t\t\t\t\t\t// then transform using joint's inverse\n\t\t\t\t\t\tm4v[ mi ]\n\t\t\t\t\t\t\t.getInverse( boundUniform.sourceNode.matrixWorld )\n\t\t\t\t\t\t\t.multiply( boundUniform.targetNode.skeleton.bones[ mi ].matrixWorld )\n\t\t\t\t\t\t\t.multiply( boundUniform.targetNode.skeleton.boneInverses[ mi ] )\n\t\t\t\t\t\t\t.multiply( boundUniform.targetNode.bindMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault :\n\n\t\t\t\t\tconsole.warn( \"Unhandled shader semantic: \" + boundUniform.semantic );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\n\t/* ANIMATION */\n\n\tLegacyGLTFLoader.Animations = {\n\n\t\tupdate: function () {\n\n\t\t\tconsole.warn( 'THREE.LegacyGLTFLoader.Animation has been deprecated. Use THREE.AnimationMixer instead.' );\n\n\t\t}\n\n\t};\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_MATERIALS_COMMON: 'KHR_materials_common'\n\t};\n\n\t/* MATERIALS COMMON EXTENSION */\n\n\tfunction GLTFMaterialsCommonExtension( json ) {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_COMMON;\n\n\t\tthis.lights = {};\n\n\t\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_MATERIALS_COMMON ] ) || {};\n\t\tvar lights = extension.lights || {};\n\n\t\tfor ( var lightId in lights ) {\n\n\t\t\tvar light = lights[ lightId ];\n\t\t\tvar lightNode;\n\n\t\t\tvar lightParams = light[ light.type ];\n\t\t\tvar color = new THREE.Color().fromArray( lightParams.color );\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase \"directional\":\n\t\t\t\t\tlightNode = new THREE.DirectionalLight( color );\n\t\t\t\t\tlightNode.position.set( 0, 0, 1 );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"point\":\n\t\t\t\t\tlightNode = new THREE.PointLight( color );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"spot\":\n\t\t\t\t\tlightNode = new THREE.SpotLight( color );\n\t\t\t\t\tlightNode.position.set( 0, 0, 1 );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"ambient\":\n\t\t\t\t\tlightNode = new THREE.AmbientLight( color );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( lightNode ) {\n\n\t\t\t\tthis.lights[ lightId ] = lightNode;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/* BINARY EXTENSION */\n\n\tvar BINARY_EXTENSION_BUFFER_NAME = 'binary_glTF';\n\n\tvar BINARY_EXTENSION_HEADER_DEFAULTS = { magic: 'glTF', version: 1, contentFormat: 0 };\n\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 20;\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tvar header = {\n\t\t\tmagic: convertUint8ArrayToString( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true ),\n\t\t\tcontentLength: headerView.getUint32( 12, true ),\n\t\t\tcontentFormat: headerView.getUint32( 16, true )\n\t\t};\n\n\t\tfor ( var key in BINARY_EXTENSION_HEADER_DEFAULTS ) {\n\n\t\t\tvar value = BINARY_EXTENSION_HEADER_DEFAULTS[ key ];\n\n\t\t\tif ( header[ key ] !== value ) {\n\n\t\t\t\tthrow new Error( 'Unsupported glTF-Binary header: Expected \"%s\" to be \"%s\".', key, value );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH, header.contentLength );\n\n\t\tthis.header = header;\n\t\tthis.content = convertUint8ArrayToString( contentArray );\n\t\tthis.body = data.slice( BINARY_EXTENSION_HEADER_LENGTH + header.contentLength, header.length );\n\n\t}\n\n\tGLTFBinaryExtension.prototype.loadShader = function ( shader, bufferViews ) {\n\n\t\tvar bufferView = bufferViews[ shader.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].bufferView ];\n\t\tvar array = new Uint8Array( bufferView );\n\n\t\treturn convertUint8ArrayToString( array );\n\n\t};\n\n\tGLTFBinaryExtension.prototype.loadTextureSourceUri = function ( source, bufferViews ) {\n\n\t\tvar metadata = source.extensions[ EXTENSIONS.KHR_BINARY_GLTF ];\n\t\tvar bufferView = bufferViews[ metadata.bufferView ];\n\t\tvar stringData = convertUint8ArrayToString( new Uint8Array( bufferView ) );\n\n\t\treturn 'data:' + metadata.mimeType + ';base64,' + btoa( stringData );\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tTRIANGLES: 4,\n\t\tLINES: 1,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123,\n\n\t\tVERTEX_SHADER: 35633,\n\t\tFRAGMENT_SHADER: 35632\n\t};\n\n\tvar WEBGL_TYPE = {\n\t\t5126: Number,\n\t\t//35674: THREE.Matrix2,\n\t\t35670: Boolean,\n\t\t35675: THREE.Matrix3,\n\t\t35676: THREE.Matrix4,\n\t\t35664: THREE.Vector2,\n\t\t35665: THREE.Vector3,\n\t\t35666: THREE.Vector4,\n\t\t35678: THREE.Texture\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: THREE.NearestFilter,\n\t\t9729: THREE.LinearFilter,\n\t\t9984: THREE.NearestMipMapNearestFilter,\n\t\t9985: THREE.LinearMipMapNearestFilter,\n\t\t9986: THREE.NearestMipMapLinearFilter,\n\t\t9987: THREE.LinearMipMapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: THREE.ClampToEdgeWrapping,\n\t\t33648: THREE.MirroredRepeatWrapping,\n\t\t10497: THREE.RepeatWrapping\n\t};\n\n\tvar WEBGL_TEXTURE_FORMATS = {\n\t\t6406: THREE.AlphaFormat,\n\t\t6407: THREE.RGBFormat,\n\t\t6408: THREE.RGBAFormat,\n\t\t6409: THREE.LuminanceFormat,\n\t\t6410: THREE.LuminanceAlphaFormat\n\t};\n\n\tvar WEBGL_TEXTURE_DATATYPES = {\n\t\t5121: THREE.UnsignedByteType,\n\t\t32819: THREE.UnsignedShort4444Type,\n\t\t32820: THREE.UnsignedShort5551Type,\n\t\t33635: THREE.UnsignedShort565Type\n\t};\n\n\tvar WEBGL_SIDES = {\n\t\t1028: THREE.BackSide,  // Culling front\n\t\t1029: THREE.FrontSide  // Culling back\n\t\t//1032: THREE.NoSide   // Culling front and back, what to do?\n\t};\n\n\tvar WEBGL_DEPTH_FUNCS = {\n\t\t512: THREE.NeverDepth,\n\t\t513: THREE.LessDepth,\n\t\t514: THREE.EqualDepth,\n\t\t515: THREE.LessEqualDepth,\n\t\t516: THREE.GreaterEqualDepth,\n\t\t517: THREE.NotEqualDepth,\n\t\t518: THREE.GreaterEqualDepth,\n\t\t519: THREE.AlwaysDepth\n\t};\n\n\tvar WEBGL_BLEND_EQUATIONS = {\n\t\t32774: THREE.AddEquation,\n\t\t32778: THREE.SubtractEquation,\n\t\t32779: THREE.ReverseSubtractEquation\n\t};\n\n\tvar WEBGL_BLEND_FUNCS = {\n\t\t0: THREE.ZeroFactor,\n\t\t1: THREE.OneFactor,\n\t\t768: THREE.SrcColorFactor,\n\t\t769: THREE.OneMinusSrcColorFactor,\n\t\t770: THREE.SrcAlphaFactor,\n\t\t771: THREE.OneMinusSrcAlphaFactor,\n\t\t772: THREE.DstAlphaFactor,\n\t\t773: THREE.OneMinusDstAlphaFactor,\n\t\t774: THREE.DstColorFactor,\n\t\t775: THREE.OneMinusDstColorFactor,\n\t\t776: THREE.SrcAlphaSaturateFactor\n\t\t// The followings are not supported by Three.js yet\n\t\t//32769: CONSTANT_COLOR,\n\t\t//32770: ONE_MINUS_CONSTANT_COLOR,\n\t\t//32771: CONSTANT_ALPHA,\n\t\t//32772: ONE_MINUS_CONSTANT_COLOR\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tLINEAR: THREE.InterpolateLinear,\n\t\tSTEP: THREE.InterpolateDiscrete\n\t};\n\n\tvar STATES_ENABLES = {\n\t\t2884: 'CULL_FACE',\n\t\t2929: 'DEPTH_TEST',\n\t\t3042: 'BLEND',\n\t\t3089: 'SCISSOR_TEST',\n\t\t32823: 'POLYGON_OFFSET_FILL',\n\t\t32926: 'SAMPLE_ALPHA_TO_COVERAGE'\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction _each( object, callback, thisObj ) {\n\n\t\tif ( !object ) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tvar results;\n\t\tvar fns = [];\n\n\t\tif ( Object.prototype.toString.call( object ) === '[object Array]' ) {\n\n\t\t\tresults = [];\n\n\t\t\tvar length = object.length;\n\n\t\t\tfor ( var idx = 0; idx < length; idx ++ ) {\n\n\t\t\t\tvar value = callback.call( thisObj || this, object[ idx ], idx );\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tfns.push( value );\n\n\t\t\t\t\tif ( value instanceof Promise ) {\n\n\t\t\t\t\t\tvalue.then( function( key, value ) {\n\n\t\t\t\t\t\t\tresults[ key ] = value;\n\n\t\t\t\t\t\t}.bind( this, idx ));\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tresults[ idx ] = value;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tresults = {};\n\n\t\t\tfor ( var key in object ) {\n\n\t\t\t\tif ( object.hasOwnProperty( key ) ) {\n\n\t\t\t\t\tvar value = callback.call( thisObj || this, object[ key ], key );\n\n\t\t\t\t\tif ( value ) {\n\n\t\t\t\t\t\tfns.push( value );\n\n\t\t\t\t\t\tif ( value instanceof Promise ) {\n\n\t\t\t\t\t\t\tvalue.then( function( key, value ) {\n\n\t\t\t\t\t\t\t\tresults[ key ] = value;\n\n\t\t\t\t\t\t\t}.bind( this, key ));\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresults[ key ] = value;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( fns ).then( function() {\n\n\t\t\treturn results;\n\n\t\t});\n\n\t}\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' )\n\t\t\treturn '';\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) {\n\n\t\t\treturn url;\n\n\t\t}\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) {\n\n\t\t\treturn url;\n\n\t\t}\n\n\t\t// Relative URL\n\t\treturn ( path || '' ) + url;\n\n\t}\n\n\tfunction convertUint8ArrayToString( array ) {\n\n\t\tif ( window.TextDecoder !== undefined ) {\n\n\t\t\t//return new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\treturn s;\n\n\t}\n\n\t// Three.js seems too dependent on attribute names so globally\n\t// replace those in the shader code\n\tfunction replaceTHREEShaderAttributes( shaderText, technique ) {\n\n\t\t// Expected technique attributes\n\t\tvar attributes = {};\n\n\t\tfor ( var attributeId in technique.attributes ) {\n\n\t\t\tvar pname = technique.attributes[ attributeId ];\n\n\t\t\tvar param = technique.parameters[ pname ];\n\t\t\tvar atype = param.type;\n\t\t\tvar semantic = param.semantic;\n\n\t\t\tattributes[ attributeId ] = {\n\t\t\t\ttype: atype,\n\t\t\t\tsemantic: semantic\n\t\t\t};\n\n\t\t}\n\n\t\t// Figure out which attributes to change in technique\n\n\t\tvar shaderParams = technique.parameters;\n\t\tvar shaderAttributes = technique.attributes;\n\t\tvar params = {};\n\n\t\tfor ( var attributeId in attributes ) {\n\n\t\t\tvar pname = shaderAttributes[ attributeId ];\n\t\t\tvar shaderParam = shaderParams[ pname ];\n\t\t\tvar semantic = shaderParam.semantic;\n\t\t\tif ( semantic ) {\n\n\t\t\t\tparams[ attributeId ] = shaderParam;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var pname in params ) {\n\n\t\t\tvar param = params[ pname ];\n\t\t\tvar semantic = param.semantic;\n\n\t\t\tvar regEx = new RegExp( \"\\\\b\" + pname + \"\\\\b\", \"g\" );\n\n\t\t\tswitch ( semantic ) {\n\n\t\t\t\tcase \"POSITION\":\n\n\t\t\t\t\tshaderText = shaderText.replace( regEx, 'position' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"NORMAL\":\n\n\t\t\t\t\tshaderText = shaderText.replace( regEx, 'normal' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'TEXCOORD_0':\n\t\t\t\tcase 'TEXCOORD0':\n\t\t\t\tcase 'TEXCOORD':\n\n\t\t\t\t\tshaderText = shaderText.replace( regEx, 'uv' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'TEXCOORD_1':\n\n\t\t\t\t\tshaderText = shaderText.replace( regEx, 'uv2' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'COLOR_0':\n\t\t\t\tcase 'COLOR0':\n\t\t\t\tcase 'COLOR':\n\n\t\t\t\t\tshaderText = shaderText.replace( regEx, 'color' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"WEIGHT\":\n\n\t\t\t\t\tshaderText = shaderText.replace( regEx, 'skinWeight' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"JOINT\":\n\n\t\t\t\t\tshaderText = shaderText.replace( regEx, 'skinIndex' );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shaderText;\n\n\t}\n\n\tfunction createDefaultMaterial() {\n\n\t\treturn new THREE.MeshPhongMaterial( {\n\t\t\tcolor: 0x00000,\n\t\t\temissive: 0x888888,\n\t\t\tspecular: 0x000000,\n\t\t\tshininess: 0,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: THREE.FrontSide\n\t\t} );\n\n\t}\n\n\t// Deferred constructor for RawShaderMaterial types\n\tfunction DeferredShaderMaterial( params ) {\n\n\t\tthis.isDeferredShaderMaterial = true;\n\n\t\tthis.params = params;\n\n\t}\n\n\tDeferredShaderMaterial.prototype.create = function () {\n\n\t\tvar uniforms = THREE.UniformsUtils.clone( this.params.uniforms );\n\n\t\tfor ( var uniformId in this.params.uniforms ) {\n\n\t\t\tvar originalUniform = this.params.uniforms[ uniformId ];\n\n\t\t\tif ( originalUniform.value instanceof THREE.Texture ) {\n\n\t\t\t\tuniforms[ uniformId ].value = originalUniform.value;\n\t\t\t\tuniforms[ uniformId ].value.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tuniforms[ uniformId ].semantic = originalUniform.semantic;\n\t\t\tuniforms[ uniformId ].node = originalUniform.node;\n\n\t\t}\n\n\t\tthis.params.uniforms = uniforms;\n\n\t\treturn new THREE.RawShaderMaterial( this.params );\n\n\t};\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, extensions, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = extensions || {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t}\n\n\tGLTFParser.prototype._withDependencies = function ( dependencies ) {\n\n\t\tvar _dependencies = {};\n\n\t\tfor ( var i = 0; i < dependencies.length; i ++ ) {\n\n\t\t\tvar dependency = dependencies[ i ];\n\t\t\tvar fnName = \"load\" + dependency.charAt( 0 ).toUpperCase() + dependency.slice( 1 );\n\n\t\t\tvar cached = this.cache.get( dependency );\n\n\t\t\tif ( cached !== undefined ) {\n\n\t\t\t\t_dependencies[ dependency ] = cached;\n\n\t\t\t} else if ( this[ fnName ] ) {\n\n\t\t\t\tvar fn = this[ fnName ]();\n\t\t\t\tthis.cache.add( dependency, fn );\n\n\t\t\t\t_dependencies[ dependency ] = fn;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn _each( _dependencies, function ( dependency ) {\n\n\t\t\treturn dependency;\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.parse = function ( callback ) {\n\n\t\tvar json = this.json;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Fire the callback on complete\n\t\tthis._withDependencies( [\n\n\t\t\t\"scenes\",\n\t\t\t\"cameras\",\n\t\t\t\"animations\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar scenes = [];\n\n\t\t\tfor ( var name in dependencies.scenes ) {\n\n\t\t\t\tscenes.push( dependencies.scenes[ name ] );\n\n\t\t\t}\n\n\t\t\tvar scene = json.scene !== undefined ? dependencies.scenes[ json.scene ] : scenes[ 0 ];\n\n\t\t\tvar cameras = [];\n\n\t\t\tfor ( var name in dependencies.cameras ) {\n\n\t\t\t\tvar camera = dependencies.cameras[ name ];\n\t\t\t\tcameras.push( camera );\n\n\t\t\t}\n\n\t\t\tvar animations = [];\n\n\t\t\tfor ( var name in dependencies.animations ) {\n\n\t\t\t\tanimations.push( dependencies.animations[ name ] );\n\n\t\t\t}\n\n\t\t\tcallback( scene, scenes, cameras, animations );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadShaders = function () {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar options = this.options;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"bufferViews\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.shaders, function ( shader ) {\n\n\t\t\t\tif ( shader.extensions && shader.extensions[ EXTENSIONS.KHR_BINARY_GLTF ] ) {\n\n\t\t\t\t\treturn extensions[ EXTENSIONS.KHR_BINARY_GLTF ].loadShader( shader, dependencies.bufferViews );\n\n\t\t\t\t}\n\n\t\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\t\tvar loader = new THREE.FileLoader();\n\t\t\t\t\tloader.setResponseType( 'text' );\n\t\t\t\t\tloader.load( resolveURL( shader.uri, options.path ), function ( shaderText ) {\n\n\t\t\t\t\t\tresolve( shaderText );\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadBuffers = function () {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar options = this.options;\n\n\t\treturn _each( json.buffers, function ( buffer, name ) {\n\n\t\t\tif ( name === BINARY_EXTENSION_BUFFER_NAME ) {\n\n\t\t\t\treturn extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body;\n\n\t\t\t}\n\n\t\t\tif ( buffer.type === 'arraybuffer' || buffer.type === undefined ) {\n\n\t\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\t\tvar loader = new THREE.FileLoader();\n\t\t\t\t\tloader.setResponseType( 'arraybuffer' );\n\t\t\t\t\tloader.load( resolveURL( buffer.uri, options.path ), function ( buffer ) {\n\n\t\t\t\t\t\tresolve( buffer );\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LegacyGLTFLoader: ' + buffer.type + ' buffer type is not supported' );\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadBufferViews = function () {\n\n\t\tvar json = this.json;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"buffers\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.bufferViews, function ( bufferView ) {\n\n\t\t\t\tvar arraybuffer = dependencies.buffers[ bufferView.buffer ];\n\n\t\t\t\tvar byteLength = bufferView.byteLength !== undefined ? bufferView.byteLength : 0;\n\n\t\t\t\treturn arraybuffer.slice( bufferView.byteOffset, bufferView.byteOffset + byteLength );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadAccessors = function () {\n\n\t\tvar json = this.json;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"bufferViews\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.accessors, function ( accessor ) {\n\n\t\t\t\tvar arraybuffer = dependencies.bufferViews[ accessor.bufferView ];\n\t\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessor.type ];\n\t\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessor.componentType ];\n\n\t\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\t\tvar itemBytes = elementBytes * itemSize;\n\n\t\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\t\tif ( accessor.byteStride && accessor.byteStride !== itemBytes ) {\n\n\t\t\t\t\t// Use the full buffer if it's interleaved.\n\t\t\t\t\tvar array = new TypedArray( arraybuffer );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tvar ib = new THREE.InterleavedBuffer( array, accessor.byteStride / elementBytes );\n\n\t\t\t\t\treturn new THREE.InterleavedBufferAttribute( ib, itemSize, accessor.byteOffset / elementBytes );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( arraybuffer, accessor.byteOffset, accessor.count * itemSize );\n\n\t\t\t\t\treturn new THREE.BufferAttribute( array, itemSize );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadTextures = function () {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar options = this.options;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"bufferViews\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.textures, function ( texture ) {\n\n\t\t\t\tif ( texture.source ) {\n\n\t\t\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\t\t\tvar source = json.images[ texture.source ];\n\t\t\t\t\t\tvar sourceUri = source.uri;\n\n\t\t\t\t\t\tif ( source.extensions && source.extensions[ EXTENSIONS.KHR_BINARY_GLTF ] ) {\n\n\t\t\t\t\t\t\tsourceUri = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].loadTextureSourceUri( source, dependencies.bufferViews );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//var textureLoader = THREE.Loader.Handlers.get( sourceUri );\n\t\t\t\t\t\tvar textureLoader = THREE.DefaultLoadingManager.getHandler( sourceUri);\n\n\t\t\t\t\t\tif ( textureLoader === null ) {\n\n\t\t\t\t\t\t\ttextureLoader = new THREE.TextureLoader();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttextureLoader.setCrossOrigin( options.crossOrigin );\n\n\t\t\t\t\t\ttextureLoader.load( resolveURL( sourceUri, options.path ), function ( _texture ) {\n\n\t\t\t\t\t\t\t_texture.flipY = false;\n\n\t\t\t\t\t\t\tif ( texture.name !== undefined ) _texture.name = texture.name;\n\n\t\t\t\t\t\t\t_texture.format = texture.format !== undefined ? WEBGL_TEXTURE_FORMATS[ texture.format ] : THREE.RGBAFormat;\n\n\t\t\t\t\t\t\tif ( texture.internalFormat !== undefined && _texture.format !== WEBGL_TEXTURE_FORMATS[ texture.internalFormat ] ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.LegacyGLTFLoader: Three.js doesn\\'t support texture internalFormat which is different from texture format. ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'internalFormat will be forced to be the same value as format.' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_texture.type = texture.type !== undefined ? WEBGL_TEXTURE_DATATYPES[ texture.type ] : THREE.UnsignedByteType;\n\n\t\t\t\t\t\t\tif ( texture.sampler ) {\n\n\t\t\t\t\t\t\t\tvar sampler = json.samplers[ texture.sampler ];\n\n\t\t\t\t\t\t\t\t_texture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || THREE.LinearFilter;\n\t\t\t\t\t\t\t\t_texture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || THREE.NearestMipMapLinearFilter;\n\t\t\t\t\t\t\t\t_texture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || THREE.RepeatWrapping;\n\t\t\t\t\t\t\t\t_texture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || THREE.RepeatWrapping;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve( _texture );\n\n\t\t\t\t\t\t}, undefined, function () {\n\n\t\t\t\t\t\t\tresolve();\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadMaterials = function () {\n\n\t\tvar json = this.json;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"shaders\",\n\t\t\t\"textures\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.materials, function ( material ) {\n\n\t\t\t\tvar materialType;\n\t\t\t\tvar materialValues = {};\n\t\t\t\tvar materialParams = {};\n\n\t\t\t\tvar khr_material;\n\n\t\t\t\tif ( material.extensions && material.extensions[ EXTENSIONS.KHR_MATERIALS_COMMON ] ) {\n\n\t\t\t\t\tkhr_material = material.extensions[ EXTENSIONS.KHR_MATERIALS_COMMON ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( khr_material ) {\n\n\t\t\t\t\t// don't copy over unused values to avoid material warning spam\n\t\t\t\t\tvar keys = [ 'ambient', 'emission', 'transparent', 'transparency', 'doubleSided' ];\n\n\t\t\t\t\tswitch ( khr_material.technique ) {\n\n\t\t\t\t\t\tcase 'BLINN' :\n\t\t\t\t\t\tcase 'PHONG' :\n\t\t\t\t\t\t\tmaterialType = THREE.MeshPhongMaterial;\n\t\t\t\t\t\t\tkeys.push( 'diffuse', 'specular', 'shininess' );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'LAMBERT' :\n\t\t\t\t\t\t\tmaterialType = THREE.MeshLambertMaterial;\n\t\t\t\t\t\t\tkeys.push( 'diffuse' );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'CONSTANT' :\n\t\t\t\t\t\tdefault :\n\t\t\t\t\t\t\tmaterialType = THREE.MeshBasicMaterial;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tkeys.forEach( function( v ) {\n\n\t\t\t\t\t\tif ( khr_material.values[ v ] !== undefined ) materialValues[ v ] = khr_material.values[ v ];\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( khr_material.doubleSided || materialValues.doubleSided ) {\n\n\t\t\t\t\t\tmaterialParams.side = THREE.DoubleSide;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( khr_material.transparent || materialValues.transparent ) {\n\n\t\t\t\t\t\tmaterialParams.transparent = true;\n\t\t\t\t\t\tmaterialParams.opacity = ( materialValues.transparency !== undefined ) ? materialValues.transparency : 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.technique === undefined ) {\n\n\t\t\t\t\tmaterialType = THREE.MeshPhongMaterial;\n\n\t\t\t\t\tObject.assign( materialValues, material.values );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterialType = DeferredShaderMaterial;\n\n\t\t\t\t\tvar technique = json.techniques[ material.technique ];\n\n\t\t\t\t\tmaterialParams.uniforms = {};\n\n\t\t\t\t\tvar program = json.programs[ technique.program ];\n\n\t\t\t\t\tif ( program ) {\n\n\t\t\t\t\t\tmaterialParams.fragmentShader = dependencies.shaders[ program.fragmentShader ];\n\n\t\t\t\t\t\tif ( ! materialParams.fragmentShader ) {\n\n\t\t\t\t\t\t\tconsole.warn( \"ERROR: Missing fragment shader definition:\", program.fragmentShader );\n\t\t\t\t\t\t\tmaterialType = THREE.MeshPhongMaterial;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar vertexShader = dependencies.shaders[ program.vertexShader ];\n\n\t\t\t\t\t\tif ( ! vertexShader ) {\n\n\t\t\t\t\t\t\tconsole.warn( \"ERROR: Missing vertex shader definition:\", program.vertexShader );\n\t\t\t\t\t\t\tmaterialType = THREE.MeshPhongMaterial;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// IMPORTANT: FIX VERTEX SHADER ATTRIBUTE DEFINITIONS\n\t\t\t\t\t\tmaterialParams.vertexShader = replaceTHREEShaderAttributes( vertexShader, technique );\n\n\t\t\t\t\t\tvar uniforms = technique.uniforms;\n\n\t\t\t\t\t\tfor ( var uniformId in uniforms ) {\n\n\t\t\t\t\t\t\tvar pname = uniforms[ uniformId ];\n\t\t\t\t\t\t\tvar shaderParam = technique.parameters[ pname ];\n\n\t\t\t\t\t\t\tvar ptype = shaderParam.type;\n\n\t\t\t\t\t\t\tif ( WEBGL_TYPE[ ptype ] ) {\n\n\t\t\t\t\t\t\t\tvar pcount = shaderParam.count;\n\t\t\t\t\t\t\t\tvar value;\n\n\t\t\t\t\t\t\t\tif ( material.values !== undefined ) value = material.values[ pname ];\n\n\t\t\t\t\t\t\t\tvar uvalue = new WEBGL_TYPE[ ptype ]();\n\t\t\t\t\t\t\t\tvar usemantic = shaderParam.semantic;\n\t\t\t\t\t\t\t\tvar unode = shaderParam.node;\n\n\t\t\t\t\t\t\t\tswitch ( ptype ) {\n\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.FLOAT:\n\n\t\t\t\t\t\t\t\t\t\tuvalue = shaderParam.value;\n\n\t\t\t\t\t\t\t\t\t\tif ( pname == \"transparency\" ) {\n\n\t\t\t\t\t\t\t\t\t\t\tmaterialParams.transparent = true;\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\t\t\t\t\t\tuvalue = value;\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.FLOAT_VEC2:\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.FLOAT_VEC3:\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.FLOAT_VEC4:\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.FLOAT_MAT3:\n\n\t\t\t\t\t\t\t\t\t\tif ( shaderParam && shaderParam.value ) {\n\n\t\t\t\t\t\t\t\t\t\t\tuvalue.fromArray( shaderParam.value );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( value ) {\n\n\t\t\t\t\t\t\t\t\t\t\tuvalue.fromArray( value );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.FLOAT_MAT2:\n\n\t\t\t\t\t\t\t\t\t\t// what to do?\n\t\t\t\t\t\t\t\t\t\tconsole.warn( \"FLOAT_MAT2 is not a supported uniform type\" );\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.FLOAT_MAT4:\n\n\t\t\t\t\t\t\t\t\t\tif ( pcount ) {\n\n\t\t\t\t\t\t\t\t\t\t\tuvalue = new Array( pcount );\n\n\t\t\t\t\t\t\t\t\t\t\tfor ( var mi = 0; mi < pcount; mi ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tuvalue[ mi ] = new WEBGL_TYPE[ ptype ]();\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( shaderParam && shaderParam.value ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar m4v = shaderParam.value;\n\t\t\t\t\t\t\t\t\t\t\t\tuvalue.fromArray( m4v );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( value ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tuvalue.fromArray( value );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( shaderParam && shaderParam.value ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar m4 = shaderParam.value;\n\t\t\t\t\t\t\t\t\t\t\t\tuvalue.fromArray( m4 );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( value ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tuvalue.fromArray( value );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase WEBGL_CONSTANTS.SAMPLER_2D:\n\n\t\t\t\t\t\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\t\t\t\t\t\tuvalue = dependencies.textures[ value ];\n\n\t\t\t\t\t\t\t\t\t\t} else if ( shaderParam.value !== undefined ) {\n\n\t\t\t\t\t\t\t\t\t\t\tuvalue = dependencies.textures[ shaderParam.value ];\n\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\tuvalue = null;\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tmaterialParams.uniforms[ uniformId ] = {\n\t\t\t\t\t\t\t\t\tvalue: uvalue,\n\t\t\t\t\t\t\t\t\tsemantic: usemantic,\n\t\t\t\t\t\t\t\t\tnode: unode\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tthrow new Error( \"Unknown shader uniform param type: \" + ptype );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar states = technique.states || {};\n\t\t\t\t\t\tvar enables = states.enable || [];\n\t\t\t\t\t\tvar functions = states.functions || {};\n\n\t\t\t\t\t\tvar enableCullFace = false;\n\t\t\t\t\t\tvar enableDepthTest = false;\n\t\t\t\t\t\tvar enableBlend = false;\n\n\t\t\t\t\t\tfor ( var i = 0, il = enables.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tvar enable = enables[ i ];\n\n\t\t\t\t\t\t\tswitch ( STATES_ENABLES[ enable ] ) {\n\n\t\t\t\t\t\t\t\tcase 'CULL_FACE':\n\n\t\t\t\t\t\t\t\t\tenableCullFace = true;\n\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'DEPTH_TEST':\n\n\t\t\t\t\t\t\t\t\tenableDepthTest = true;\n\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'BLEND':\n\n\t\t\t\t\t\t\t\t\tenableBlend = true;\n\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t// TODO: implement\n\t\t\t\t\t\t\t\tcase 'SCISSOR_TEST':\n\t\t\t\t\t\t\t\tcase 'POLYGON_OFFSET_FILL':\n\t\t\t\t\t\t\t\tcase 'SAMPLE_ALPHA_TO_COVERAGE':\n\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\t\tthrow new Error( \"Unknown technique.states.enable: \" + enable );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( enableCullFace ) {\n\n\t\t\t\t\t\t\tmaterialParams.side = functions.cullFace !== undefined ? WEBGL_SIDES[ functions.cullFace ] : THREE.FrontSide;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterialParams.side = THREE.DoubleSide;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterialParams.depthTest = enableDepthTest;\n\t\t\t\t\t\tmaterialParams.depthFunc = functions.depthFunc !== undefined ? WEBGL_DEPTH_FUNCS[ functions.depthFunc ] : THREE.LessDepth;\n\t\t\t\t\t\tmaterialParams.depthWrite = functions.depthMask !== undefined ? functions.depthMask[ 0 ] : true;\n\n\t\t\t\t\t\tmaterialParams.blending = enableBlend ? THREE.CustomBlending : THREE.NoBlending;\n\t\t\t\t\t\tmaterialParams.transparent = enableBlend;\n\n\t\t\t\t\t\tvar blendEquationSeparate = functions.blendEquationSeparate;\n\n\t\t\t\t\t\tif ( blendEquationSeparate !== undefined ) {\n\n\t\t\t\t\t\t\tmaterialParams.blendEquation = WEBGL_BLEND_EQUATIONS[ blendEquationSeparate[ 0 ] ];\n\t\t\t\t\t\t\tmaterialParams.blendEquationAlpha = WEBGL_BLEND_EQUATIONS[ blendEquationSeparate[ 1 ] ];\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterialParams.blendEquation = THREE.AddEquation;\n\t\t\t\t\t\t\tmaterialParams.blendEquationAlpha = THREE.AddEquation;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar blendFuncSeparate = functions.blendFuncSeparate;\n\n\t\t\t\t\t\tif ( blendFuncSeparate !== undefined ) {\n\n\t\t\t\t\t\t\tmaterialParams.blendSrc = WEBGL_BLEND_FUNCS[ blendFuncSeparate[ 0 ] ];\n\t\t\t\t\t\t\tmaterialParams.blendDst = WEBGL_BLEND_FUNCS[ blendFuncSeparate[ 1 ] ];\n\t\t\t\t\t\t\tmaterialParams.blendSrcAlpha = WEBGL_BLEND_FUNCS[ blendFuncSeparate[ 2 ] ];\n\t\t\t\t\t\t\tmaterialParams.blendDstAlpha = WEBGL_BLEND_FUNCS[ blendFuncSeparate[ 3 ] ];\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterialParams.blendSrc = THREE.OneFactor;\n\t\t\t\t\t\t\tmaterialParams.blendDst = THREE.ZeroFactor;\n\t\t\t\t\t\t\tmaterialParams.blendSrcAlpha = THREE.OneFactor;\n\t\t\t\t\t\t\tmaterialParams.blendDstAlpha = THREE.ZeroFactor;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( Array.isArray( materialValues.diffuse ) ) {\n\n\t\t\t\t\tmaterialParams.color = new THREE.Color().fromArray( materialValues.diffuse );\n\n\t\t\t\t} else if ( typeof( materialValues.diffuse ) === 'string' ) {\n\n\t\t\t\t\tmaterialParams.map = dependencies.textures[ materialValues.diffuse ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete materialParams.diffuse;\n\n\t\t\t\tif ( typeof( materialValues.reflective ) === 'string' ) {\n\n\t\t\t\t\tmaterialParams.envMap = dependencies.textures[ materialValues.reflective ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( typeof( materialValues.bump ) === 'string' ) {\n\n\t\t\t\t\tmaterialParams.bumpMap = dependencies.textures[ materialValues.bump ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( Array.isArray( materialValues.emission ) ) {\n\n\t\t\t\t\tif ( materialType === THREE.MeshBasicMaterial ) {\n\n\t\t\t\t\t\tmaterialParams.color = new THREE.Color().fromArray( materialValues.emission );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmaterialParams.emissive = new THREE.Color().fromArray( materialValues.emission );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( typeof( materialValues.emission ) === 'string' ) {\n\n\t\t\t\t\tif ( materialType === THREE.MeshBasicMaterial ) {\n\n\t\t\t\t\t\tmaterialParams.map = dependencies.textures[ materialValues.emission ];\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmaterialParams.emissiveMap = dependencies.textures[ materialValues.emission ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( Array.isArray( materialValues.specular ) ) {\n\n\t\t\t\t\tmaterialParams.specular = new THREE.Color().fromArray( materialValues.specular );\n\n\t\t\t\t} else if ( typeof( materialValues.specular ) === 'string' ) {\n\n\t\t\t\t\tmaterialParams.specularMap = dependencies.textures[ materialValues.specular ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( materialValues.shininess !== undefined ) {\n\n\t\t\t\t\tmaterialParams.shininess = materialValues.shininess;\n\n\t\t\t\t}\n\n\t\t\t\tvar _material = new materialType( materialParams );\n\t\t\t\tif ( material.name !== undefined ) _material.name = material.name;\n\n\t\t\t\treturn _material;\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadMeshes = function () {\n\n\t\tvar json = this.json;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"accessors\",\n\t\t\t\"materials\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.meshes, function ( mesh ) {\n\n\t\t\t\tvar group = new THREE.Group();\n\t\t\t\tif ( mesh.name !== undefined ) group.name = mesh.name;\n\n\t\t\t\tif ( mesh.extras ) group.userData = mesh.extras;\n\n\t\t\t\tvar primitives = mesh.primitives || [];\n\n\t\t\t\tfor ( var name in primitives ) {\n\n\t\t\t\t\tvar primitive = primitives[ name ];\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === undefined ) {\n\n\t\t\t\t\t\tvar geometry = new THREE.BufferGeometry();\n\n\t\t\t\t\t\tvar attributes = primitive.attributes;\n\n\t\t\t\t\t\tfor ( var attributeId in attributes ) {\n\n\t\t\t\t\t\t\tvar attributeEntry = attributes[ attributeId ];\n\n\t\t\t\t\t\t\tif ( ! attributeEntry ) return;\n\n\t\t\t\t\t\t\tvar bufferAttribute = dependencies.accessors[ attributeEntry ];\n\n\t\t\t\t\t\t\tswitch ( attributeId ) {\n\n\t\t\t\t\t\t\t\tcase 'POSITION':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'position', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'normal', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'TEXCOORD_0':\n\t\t\t\t\t\t\t\tcase 'TEXCOORD0':\n\t\t\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'uv', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'TEXCOORD_1':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'uv2', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'COLOR_0':\n\t\t\t\t\t\t\t\tcase 'COLOR0':\n\t\t\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'color', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'WEIGHT':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'skinWeight', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'JOINT':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'skinIndex', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( primitive.indices ) {\n\n\t\t\t\t\t\t\tgeometry.setIndex( dependencies.accessors[ primitive.indices ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar material = dependencies.materials !== undefined ? dependencies.materials[ primitive.material ] : createDefaultMaterial();\n\n\t\t\t\t\t\tvar meshNode = new THREE.Mesh( geometry, material );\n\t\t\t\t\t\tmeshNode.castShadow = true;\n\t\t\t\t\t\tmeshNode.name = ( name === \"0\" ? group.name : group.name + name );\n\n\t\t\t\t\t\tif ( primitive.extras ) meshNode.userData = primitive.extras;\n\n\t\t\t\t\t\tgroup.add( meshNode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\t\tvar geometry = new THREE.BufferGeometry();\n\n\t\t\t\t\t\tvar attributes = primitive.attributes;\n\n\t\t\t\t\t\tfor ( var attributeId in attributes ) {\n\n\t\t\t\t\t\t\tvar attributeEntry = attributes[ attributeId ];\n\n\t\t\t\t\t\t\tif ( ! attributeEntry ) return;\n\n\t\t\t\t\t\t\tvar bufferAttribute = dependencies.accessors[ attributeEntry ];\n\n\t\t\t\t\t\t\tswitch ( attributeId ) {\n\n\t\t\t\t\t\t\t\tcase 'POSITION':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'position', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'COLOR_0':\n\t\t\t\t\t\t\t\tcase 'COLOR0':\n\t\t\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute( 'color', bufferAttribute );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar material = dependencies.materials[ primitive.material ];\n\n\t\t\t\t\t\tvar meshNode;\n\n\t\t\t\t\t\tif ( primitive.indices ) {\n\n\t\t\t\t\t\t\tgeometry.setIndex( dependencies.accessors[ primitive.indices ] );\n\n\t\t\t\t\t\t\tmeshNode = new THREE.LineSegments( geometry, material );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmeshNode = new THREE.Line( geometry, material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmeshNode.name = ( name === \"0\" ? group.name : group.name + name );\n\n\t\t\t\t\t\tif ( primitive.extras ) meshNode.userData = primitive.extras;\n\n\t\t\t\t\t\tgroup.add( meshNode );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( \"Only triangular and line primitives are supported\" );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn group;\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadCameras = function () {\n\n\t\tvar json = this.json;\n\n\t\treturn _each( json.cameras, function ( camera ) {\n\n\t\t\tif ( camera.type == \"perspective\" && camera.perspective ) {\n\n\t\t\t\tvar yfov = camera.perspective.yfov;\n\t\t\t\tvar aspectRatio = camera.perspective.aspectRatio !== undefined ? camera.perspective.aspectRatio : 1;\n\n\t\t\t\t// According to COLLADA spec...\n\t\t\t\t// aspectRatio = xfov / yfov\n\t\t\t\tvar xfov = yfov * aspectRatio;\n\n\t\t\t\tvar _camera = new THREE.PerspectiveCamera( THREE.Math.radToDeg( xfov ), aspectRatio, camera.perspective.znear || 1, camera.perspective.zfar || 2e6 );\n\t\t\t\tif ( camera.name !== undefined ) _camera.name = camera.name;\n\n\t\t\t\tif ( camera.extras ) _camera.userData = camera.extras;\n\n\t\t\t\treturn _camera;\n\n\t\t\t} else if ( camera.type == \"orthographic\" && camera.orthographic ) {\n\n\t\t\t\tvar _camera = new THREE.OrthographicCamera( window.innerWidth / - 2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / - 2, camera.orthographic.znear, camera.orthographic.zfar );\n\t\t\t\tif ( camera.name !== undefined ) _camera.name = camera.name;\n\n\t\t\t\tif ( camera.extras ) _camera.userData = camera.extras;\n\n\t\t\t\treturn _camera;\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadSkins = function () {\n\n\t\tvar json = this.json;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"accessors\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.skins, function ( skin ) {\n\n\t\t\t\tvar bindShapeMatrix = new THREE.Matrix4();\n\n\t\t\t\tif ( skin.bindShapeMatrix !== undefined ) bindShapeMatrix.fromArray( skin.bindShapeMatrix );\n\n\t\t\t\tvar _skin = {\n\t\t\t\t\tbindShapeMatrix: bindShapeMatrix,\n\t\t\t\t\tjointNames: skin.jointNames,\n\t\t\t\t\tinverseBindMatrices: dependencies.accessors[ skin.inverseBindMatrices ]\n\t\t\t\t};\n\n\t\t\t\treturn _skin;\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadAnimations = function () {\n\n\t\tvar json = this.json;\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"accessors\",\n\t\t\t\"nodes\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.animations, function ( animation, animationId ) {\n\n\t\t\t\tvar tracks = [];\n\n\t\t\t\tfor ( var channelId in animation.channels ) {\n\n\t\t\t\t\tvar channel = animation.channels[ channelId ];\n\t\t\t\t\tvar sampler = animation.samplers[ channel.sampler ];\n\n\t\t\t\t\tif ( sampler ) {\n\n\t\t\t\t\t\tvar target = channel.target;\n\t\t\t\t\t\tvar name = target.id;\n\t\t\t\t\t\tvar input = animation.parameters !== undefined ? animation.parameters[ sampler.input ] : sampler.input;\n\t\t\t\t\t\tvar output = animation.parameters !== undefined ? animation.parameters[ sampler.output ] : sampler.output;\n\n\t\t\t\t\t\tvar inputAccessor = dependencies.accessors[ input ];\n\t\t\t\t\t\tvar outputAccessor = dependencies.accessors[ output ];\n\n\t\t\t\t\t\tvar node = dependencies.nodes[ name ];\n\n\t\t\t\t\t\tif ( node ) {\n\n\t\t\t\t\t\t\tnode.updateMatrix();\n\t\t\t\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\t\t\t\tvar TypedKeyframeTrack = PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.rotation\n\t\t\t\t\t\t\t\t? THREE.QuaternionKeyframeTrack\n\t\t\t\t\t\t\t\t: THREE.VectorKeyframeTrack;\n\n\t\t\t\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\t\t\t\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : THREE.InterpolateLinear;\n\n\t\t\t\t\t\t\t// KeyframeTrack.optimize() will modify given 'times' and 'values'\n\t\t\t\t\t\t\t// buffers before creating a truncated copy to keep. Because buffers may\n\t\t\t\t\t\t\t// be reused by other tracks, make copies here.\n\t\t\t\t\t\t\ttracks.push( new TypedKeyframeTrack(\n\t\t\t\t\t\t\t\ttargetName + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\t\t\tTHREE.AnimationUtils.arraySlice( inputAccessor.array, 0 ),\n\t\t\t\t\t\t\t\tTHREE.AnimationUtils.arraySlice( outputAccessor.array, 0 ),\n\t\t\t\t\t\t\t\tinterpolation\n\t\t\t\t\t\t\t) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar name = animation.name !== undefined ? animation.name : \"animation_\" + animationId;\n\n\t\t\t\treturn new THREE.AnimationClip( name, undefined, tracks );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadNodes = function () {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar scope = this;\n\n\t\treturn _each( json.nodes, function ( node ) {\n\n\t\t\tvar matrix = new THREE.Matrix4();\n\n\t\t\tvar _node;\n\n\t\t\tif ( node.jointName ) {\n\n\t\t\t\t_node = new THREE.Bone();\n\t\t\t\t_node.name = node.name !== undefined ? node.name : node.jointName;\n\t\t\t\t_node.jointName = node.jointName;\n\n\t\t\t} else {\n\n\t\t\t\t_node = new THREE.Object3D();\n\t\t\t\tif ( node.name !== undefined ) _node.name = node.name;\n\n\t\t\t}\n\n\t\t\tif ( node.extras ) _node.userData = node.extras;\n\n\t\t\tif ( node.matrix !== undefined ) {\n\n\t\t\t\tmatrix.fromArray( node.matrix );\n\t\t\t\t_node.applyMatrix( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( node.translation !== undefined ) {\n\n\t\t\t\t\t_node.position.fromArray( node.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( node.rotation !== undefined ) {\n\n\t\t\t\t\t_node.quaternion.fromArray( node.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( node.scale !== undefined ) {\n\n\t\t\t\t\t_node.scale.fromArray( node.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn _node;\n\n\t\t} ).then( function ( __nodes ) {\n\n\t\t\treturn scope._withDependencies( [\n\n\t\t\t\t\"meshes\",\n\t\t\t\t\"skins\",\n\t\t\t\t\"cameras\"\n\n\t\t\t] ).then( function ( dependencies ) {\n\n\t\t\t\treturn _each( __nodes, function ( _node, nodeId ) {\n\n\t\t\t\t\tvar node = json.nodes[ nodeId ];\n\n\t\t\t\t\tif ( node.meshes !== undefined ) {\n\n\t\t\t\t\t\tfor ( var meshId in node.meshes ) {\n\n\t\t\t\t\t\t\tvar mesh = node.meshes[ meshId ];\n\t\t\t\t\t\t\tvar group = dependencies.meshes[ mesh ];\n\n\t\t\t\t\t\t\tif ( group === undefined ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'LegacyGLTFLoader: Couldn\\'t find node \"' + mesh + '\".' );\n\t\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor ( var childrenId in group.children ) {\n\n\t\t\t\t\t\t\t\tvar child = group.children[ childrenId ];\n\n\t\t\t\t\t\t\t\t// clone Mesh to add to _node\n\n\t\t\t\t\t\t\t\tvar originalMaterial = child.material;\n\t\t\t\t\t\t\t\tvar originalGeometry = child.geometry;\n\t\t\t\t\t\t\t\tvar originalUserData = child.userData;\n\t\t\t\t\t\t\t\tvar originalName = child.name;\n\n\t\t\t\t\t\t\t\tvar material;\n\n\t\t\t\t\t\t\t\tif ( originalMaterial.isDeferredShaderMaterial ) {\n\n\t\t\t\t\t\t\t\t\toriginalMaterial = material = originalMaterial.create();\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tmaterial = originalMaterial;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tswitch ( child.type ) {\n\n\t\t\t\t\t\t\t\t\tcase 'LineSegments':\n\t\t\t\t\t\t\t\t\t\tchild = new THREE.LineSegments( originalGeometry, material );\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'LineLoop':\n\t\t\t\t\t\t\t\t\t\tchild = new THREE.LineLoop( originalGeometry, material );\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'Line':\n\t\t\t\t\t\t\t\t\t\tchild = new THREE.Line( originalGeometry, material );\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tchild = new THREE.Mesh( originalGeometry, material );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tchild.castShadow = true;\n\t\t\t\t\t\t\t\tchild.userData = originalUserData;\n\t\t\t\t\t\t\t\tchild.name = originalName;\n\n\t\t\t\t\t\t\t\tvar skinEntry;\n\n\t\t\t\t\t\t\t\tif ( node.skin ) {\n\n\t\t\t\t\t\t\t\t\tskinEntry = dependencies.skins[ node.skin ];\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Replace Mesh with SkinnedMesh in library\n\t\t\t\t\t\t\t\tif ( skinEntry ) {\n\n\t\t\t\t\t\t\t\t\tvar getJointNode = function ( jointId ) {\n\n\t\t\t\t\t\t\t\t\t\tvar keys = Object.keys( __nodes );\n\n\t\t\t\t\t\t\t\t\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\tvar n = __nodes[ keys[ i ] ];\n\n\t\t\t\t\t\t\t\t\t\t\tif ( n.jointName === jointId ) return n;\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar geometry = originalGeometry;\n\t\t\t\t\t\t\t\t\tvar material = originalMaterial;\n\t\t\t\t\t\t\t\t\tmaterial.skinning = true;\n\n\t\t\t\t\t\t\t\t\tchild = new THREE.SkinnedMesh( geometry, material, false );\n\t\t\t\t\t\t\t\t\tchild.castShadow = true;\n\t\t\t\t\t\t\t\t\tchild.userData = originalUserData;\n\t\t\t\t\t\t\t\t\tchild.name = originalName;\n\n\t\t\t\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\t\t\t\tfor ( var i = 0, l = skinEntry.jointNames.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\tvar jointId = skinEntry.jointNames[ i ];\n\t\t\t\t\t\t\t\t\t\tvar jointNode = getJointNode( jointId );\n\n\t\t\t\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\t\t\t\tvar m = skinEntry.inverseBindMatrices.array;\n\t\t\t\t\t\t\t\t\t\t\tvar mat = new THREE.Matrix4().fromArray( m, i * 16 );\n\t\t\t\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn( \"WARNING: joint: '\" + jointId + \"' could not be found\" );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tchild.bind( new THREE.Skeleton( bones, boneInverses, false ), skinEntry.bindShapeMatrix );\n\n\t\t\t\t\t\t\t\t\tvar buildBoneGraph = function ( parentJson, parentObject, property ) {\n\n\t\t\t\t\t\t\t\t\t\tvar children = parentJson[ property ];\n\n\t\t\t\t\t\t\t\t\t\tif ( children === undefined ) return;\n\n\t\t\t\t\t\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\tvar nodeId = children[ i ];\n\t\t\t\t\t\t\t\t\t\t\tvar bone = __nodes[ nodeId ];\n\t\t\t\t\t\t\t\t\t\t\tvar boneJson = json.nodes[ nodeId ];\n\n\t\t\t\t\t\t\t\t\t\t\tif ( bone !== undefined && bone.isBone === true && boneJson !== undefined ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tparentObject.add( bone );\n\t\t\t\t\t\t\t\t\t\t\t\tbuildBoneGraph( boneJson, bone, 'children' );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tbuildBoneGraph( node, child, 'skeletons' );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_node.add( child );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( node.camera !== undefined ) {\n\n\t\t\t\t\t\tvar camera = dependencies.cameras[ node.camera ];\n\n\t\t\t\t\t\t_node.add( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( node.extensions\n\t\t\t\t\t\t\t && node.extensions[ EXTENSIONS.KHR_MATERIALS_COMMON ]\n\t\t\t\t\t\t\t && node.extensions[ EXTENSIONS.KHR_MATERIALS_COMMON ].light ) {\n\n\t\t\t\t\t\tvar extensionLights = extensions[ EXTENSIONS.KHR_MATERIALS_COMMON ].lights;\n\t\t\t\t\t\tvar light = extensionLights[ node.extensions[ EXTENSIONS.KHR_MATERIALS_COMMON ].light ];\n\n\t\t\t\t\t\t_node.add( light );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn _node;\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\tGLTFParser.prototype.loadScenes = function () {\n\n\t\tvar json = this.json;\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, allNodes ) {\n\n\t\t\tvar _node = allNodes[ nodeId ];\n\t\t\tparentObject.add( _node );\n\n\t\t\tvar node = json.nodes[ nodeId ];\n\n\t\t\tif ( node.children ) {\n\n\t\t\t\tvar children = node.children;\n\n\t\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\tbuildNodeHierachy( child, _node, allNodes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this._withDependencies( [\n\n\t\t\t\"nodes\"\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\treturn _each( json.scenes, function ( scene ) {\n\n\t\t\t\tvar _scene = new THREE.Scene();\n\t\t\t\tif ( scene.name !== undefined ) _scene.name = scene.name;\n\n\t\t\t\tif ( scene.extras ) _scene.userData = scene.extras;\n\n\t\t\t\tvar nodes = scene.nodes || [];\n\n\t\t\t\tfor ( var i = 0, l = nodes.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar nodeId = nodes[ i ];\n\t\t\t\t\tbuildNodeHierachy( nodeId, _scene, dependencies.nodes );\n\n\t\t\t\t}\n\n\t\t\t\t_scene.traverse( function ( child ) {\n\n\t\t\t\t\t// Register raw material meshes with LegacyGLTFLoader.Shaders\n\t\t\t\t\tif ( child.material && child.material.isRawShaderMaterial ) {\n\n\t\t\t\t\t\tchild.gltfShader = new GLTFShader( child, dependencies.nodes );\n\t\t\t\t\t\tchild.onBeforeRender = function(renderer, scene, camera){\n\t\t\t\t\t\t\tthis.gltfShader.update(scene, camera);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\treturn _scene;\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\treturn LegacyGLTFLoader;\n\n} )();\nexport{LegacyGLTFLoader}","import { Matrix3, Sphere, Vector3 } from \"three\";\r\n\r\nclass OBB {\r\n    constructor(values) {\r\n        this.center = new Vector3(values[0], values[2], -values[1]);\r\n        var e1 = new Vector3(values[3], values[5], values[4]);\r\n        var e2 = new Vector3(values[6], values[8], values[7]);\r\n        var e3 = new Vector3(values[9], values[11], values[10]);\r\n\r\n        this.halfWidth = e1.length();\r\n        this.halfHeight = e2.length();\r\n        this.halfDepth = e3.length();\r\n\r\n        e1.normalize();\r\n        e2.normalize();\r\n        e3.normalize();\r\n\r\n        // A sphere is used for frustum culling\r\n        this.sphere = new Sphere(this.center, Math.sqrt(this.halfWidth * this.halfWidth + this.halfHeight * this.halfHeight + this.halfDepth * this.halfDepth));\r\n\r\n        this.matrixToOBBCoordinateSystem = new Matrix3();\r\n        this.matrixToOBBCoordinateSystem.set(\r\n            e1.x, e1.y, e1.z,\r\n            e2.x, e2.y, e2.z,\r\n            e3.x, e3.y, e3.z);\r\n    }\r\n\r\n    inFrustum(frustum) {\r\n        // frustum check simplified to bounding sphere intersection\r\n        return frustum.intersectsSphere(this.sphere);\r\n    }\r\n    distanceToPoint(point) {\r\n\r\n        let transformedPoint = point.clone();\r\n        transformedPoint.sub(this.center);\r\n        transformedPoint.applyMatrix3(this.matrixToOBBCoordinateSystem);\r\n\r\n        //// point to bounds \r\n        let dx = Math.max(0, Math.max(-this.halfWidth - transformedPoint.x, transformedPoint.x - this.halfWidth));\r\n        let dy = Math.max(0, Math.max(-this.halfHeight - transformedPoint.y, transformedPoint.y - this.halfHeight));\r\n        let dz = Math.max(0, Math.max(-this.halfDepth - transformedPoint.z, transformedPoint.z - this.halfDepth));\r\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\r\n    }\r\n    \r\n}\r\n\r\nexport { OBB };","import \"regenerator-runtime/runtime.js\";\r\nimport * as THREE from 'three';\r\nimport Stats from 'three/examples/jsm/libs/stats.module.js';\r\nimport { OGC3DTile } from \"./tileset/OGC3DTile\";\r\nimport { MapControls, OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\n\r\n\r\nconst scene = initScene();\r\nconst domContainer = initDomContainer(\"screen\");\r\nconst camera = initCamera();\r\nconst ogc3DTiles = initTileset(scene);\r\ninitLODMultiplierSlider(ogc3DTiles);\r\nconst controller = initController(camera, domContainer);\r\nconst skybox = initSkybox(controller, camera, scene);\r\n\r\nconst stats = initStats(domContainer);\r\nconst renderer = initRenderer(camera, domContainer);\r\n\r\nanimate();\r\n\r\nfunction initSkybox(controller, camera, scene) {\r\n    const geometry = new THREE.BoxGeometry(8000, 8000, 8000);\r\n    const textures = [\r\n        loadTexture(\"./skybox/back.png\"),\r\n        loadTexture(\"./skybox/front.png\"),\r\n        loadTexture(\"./skybox/top.png\"),\r\n        loadTexture(\"./skybox/bottom.png\"),\r\n        loadTexture(\"./skybox/right.png\"),\r\n        loadTexture(\"./skybox/left.png\"),\r\n    ];\r\n    function loadTexture(url) {\r\n        return new THREE.TextureLoader().load(url, (texture => {\r\n            texture.wrapS = THREE.ClampToEdgeWrapping;\r\n            texture.wrapT = THREE.ClampToEdgeWrapping;\r\n            texture.magFilter = THREE.LinearFilter;\r\n            texture.minFilter = THREE.LinearFilter;\r\n        }))\r\n\r\n    }\r\n    const materials = [];\r\n    textures.forEach(tex => {\r\n        materials.push(new THREE.MeshBasicMaterial({ map: tex, side: THREE.BackSide }));\r\n    })\r\n    const mesh = new THREE.Mesh(geometry, materials);\r\n    mesh.position.copy(camera.position);\r\n    controller.addEventListener(\"change\", () => {\r\n        mesh.position.copy(camera.position);\r\n    });\r\n    scene.add(mesh);\r\n    return mesh;\r\n}\r\nfunction initLODMultiplierSlider(tileset) {\r\n    var slider = document.getElementById(\"lodMultiplier\");\r\n    var output = document.getElementById(\"multiplierValue\");\r\n    output.innerHTML = slider.value;\r\n\r\n    slider.oninput = () => {\r\n        tileset.setGeometricErrorMultiplier(slider.value)\r\n        output.innerHTML = slider.value;\r\n    }\r\n}\r\nfunction initScene() {\r\n    const scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0xFF0000);\r\n    scene.add(new THREE.AmbientLight(0xFFFFFF, 1.0));\r\n\r\n    /*var dirLight = new THREE.DirectionalLight(0xffffff, 0.5);\r\n    dirLight.position.set(-400, 500, -100);\r\n    dirLight.target.position.set(0, 0, 0);\r\n\r\n    scene.add(dirLight);\r\n    scene.add(dirLight.target);*/\r\n    return scene;\r\n}\r\n\r\nfunction initDomContainer(divID) {\r\n\r\n    const domContainer = document.getElementById(divID);\r\n    domContainer.style = \"position: absolute; height:100%; width:100%; left: 0px; top:0px;\";\r\n    document.body.appendChild(domContainer);\r\n    return domContainer;\r\n}\r\n\r\n\r\nfunction initRenderer(camera, dom) {\r\n\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true, logarithmicDepthBuffer: true });\r\n    renderer.antialias = true;\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setSize(dom.offsetWidth, dom.offsetHeight);\r\n\r\n    renderer.outputEncoding = THREE.sRGBEncoding;\r\n    renderer.autoClear = false;\r\n\r\n    dom.appendChild(renderer.domElement);\r\n\r\n    onWindowResize();\r\n    window.addEventListener('resize', onWindowResize);\r\n    function onWindowResize() {\r\n\r\n        const aspect = window.innerWidth / window.innerHeight;\r\n        camera.aspect = aspect;\r\n        camera.updateProjectionMatrix();\r\n\r\n        renderer.setSize(dom.offsetWidth, dom.offsetHeight);\r\n    }\r\n\r\n    return renderer;\r\n}\r\n\r\nfunction initStats(dom) {\r\n    const stats = new Stats();\r\n    dom.appendChild(stats.dom);\r\n    return stats;\r\n}\r\n\r\n\r\nfunction initCamera() {\r\n    const camera = new THREE.PerspectiveCamera(30, window.offsetWidth / window.offsetHeight, 1, 10000);\r\n    camera.position.set(-60, 5, -30);\r\n    camera.lookAt(-100, 0, 0);\r\n\r\n    return camera;\r\n}\r\n\r\nfunction initTileset(scene) {\r\n\r\n    const ogc3DTile = new OGC3DTile({\r\n        url: \"https://storage.googleapis.com/ogc-3d-tiles/ayutthaya/tileset.json\",\r\n        //url: \"https://storage.googleapis.com/ogc-3d-tiles/castleX/tileset.json\",\r\n        //url: \"./yamato/tileset.json\",\r\n        //url: \"./castle/tileset.json\",\r\n        //url: \"https://storage.googleapis.com/ogc-3d-tiles/ayutthaya/tileset.json\",\r\n        //url: \"https://s3.us-east-2.wasabisys.com/construkted-assets/arkcnfuk9fw/tileset.json\",\r\n        //url: \"https://s3.us-east-2.wasabisys.com/construkted-assets/a73faxnydqk/tileset.json\",\r\n        //url: \"https://s3.us-east-2.wasabisys.com/construkted-assets/e63mubnpmg/tileset.json\",\r\n        //url: \"https://assets.cesium.com/697512/tileset.json?v=1\",\r\n        //url:\"https://a.3d.blc.shc.eu/WAB/base_layer/cesium_mesh_2020/tileset.json\",\r\n        geometricErrorMultiplier: 1,\r\n        loadOutsideView: true,\r\n        meshCallback: mesh => {\r\n            //// Insert code to be called on every newly decoded mesh e.g.:\r\n            mesh.material.wireframe = false;\r\n            mesh.material.side = THREE.FrontSide;\r\n        }\r\n    });\r\n\r\n    //// The OGC3DTile object is a threejs Object3D so you may do all the usual opperations like transformations e.g.:\r\n    //ogc3DTile.translateOnAxis(new THREE.Vector3(1,0,0), 100)\r\n    //ogc3DTile.scale.set(0.01,0.01,0.01);\r\n    //ogc3DTile.rotateOnAxis(new THREE.Vector3(1, 0, 0), -Math.PI * 0.5) // Z-UP to Y-UP\r\n    //// It's up to the user to call updates on the tileset. You might call them whenever the camera moves or at regular time intervals like here\r\n\r\n    var interval ;\r\n    document.addEventListener('keyup', (e) => {\r\n        if(!e.key || e.key !== \"p\") return;\r\n        if(!!interval){\r\n            clearInterval(interval);\r\n            interval = null;\r\n        }else{\r\n            startInterval();\r\n        }\r\n    });\r\n    function startInterval(){\r\n        interval = setInterval(function () {\r\n            ogc3DTile.update(camera);\r\n        }, 200);\r\n    }\r\n    startInterval();\r\n    \r\n\r\n    scene.add(ogc3DTile)\r\n    return ogc3DTile;\r\n}\r\n\r\nfunction initController(camera, dom) {\r\n    const controller = new OrbitControls(camera, dom);\r\n\r\n    controller.target.set(-20, -20, 35);\r\n    controller.minDistance = 1;\r\n    controller.maxDistance = 500;\r\n    controller.update();\r\n    return controller;\r\n}\r\n\r\n\r\nfunction animate() {\r\n    requestAnimationFrame(animate);\r\n\r\n    camera.updateMatrixWorld();\r\n    renderer.render(scene, camera);\r\n\r\n    stats.update();\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import * as THREE from 'three';\r\nimport { OBB } from \"../geometry/obb\";\r\nimport { B3DMDecoder } from \"../decoder/B3DMDecoder\";\r\nconst path = require('path');\r\n\r\nconst tilesToLoad = [];\r\nfunction scheduleLoadTile(tile) {\r\n    tilesToLoad.push(tile);\r\n}\r\n\r\nsetInterval(() => {\r\n    const tile = tilesToLoad.shift();\r\n    if (!!tile) tile.load();\r\n}, 0)\r\n\r\nconst tempSphere = new THREE.Sphere(new THREE.Vector3(0, 0, 0, 1));\r\n\r\n\r\nclass OGC3DTile extends THREE.Object3D {\r\n\r\n    /**\r\n     * \r\n     * @param {\r\n     *   json: optional,\r\n     *   url: optional,\r\n     *   rootPath: optional,\r\n     *   parentGeometricError: optional,\r\n     *   parentBoundingVolume: optional,\r\n     *   parentRefinement: optional,\r\n     *   geometricErrorMultiplier: Double,\r\n     *   loadOutsideView: Boolean\r\n     * } properties \r\n     */\r\n    constructor(properties) {\r\n        super();\r\n        // set properties general to the entire tileset\r\n        this.geometricErrorMultiplier = !!properties.geometricErrorMultiplier ? properties.geometricErrorMultiplier : 1.0;\r\n        this.meshCallback = properties.meshCallback;\r\n        this.loadOutsideView = properties.loadOutsideView;\r\n\r\n        // declare properties specific to the tile for clarity\r\n        this.childrenTiles = [];\r\n        this.meshContent;\r\n        this.tileContent;\r\n        this.refinement; // defaults to \"REPLACE\"\r\n        this.rootPath;\r\n        this.geometricError;\r\n        this.boundingVolume;\r\n        this.json; // the json corresponding to this tile\r\n        this.materialVisibility = false;\r\n        this.inFrustum = true;\r\n\r\n        this.hasMeshContent = false; // true when the provided json has a content field pointing to a B3DM file\r\n        this.hasUnloadedJSONContent = false; // true when the provided json has a content field pointing to a JSON file that is not yet loaded\r\n\r\n        const self = this;\r\n        if (!!properties.json) { // If this tile is created as a child of another tile, properties.json is not null\r\n            self.setup(properties);\r\n        } else if (properties.url) { // If only the url to the tileset.json is provided\r\n            self.controller = new AbortController();\r\n            fetch(properties.url, { signal: self.controller.signal }).then(result => {\r\n                if (!result.ok) {\r\n                    throw new Error(`couldn't load \"${properties.url}\". Request failed with status ${result.status} : ${result.statusText}`);\r\n                }\r\n                result.json().then(json => self.setup({ rootPath: path.dirname(properties.url), json: json }))\r\n            });\r\n        }\r\n    }\r\n\r\n    setup(properties) {\r\n        if (!!properties.json.root) {\r\n            this.json = properties.json.root;\r\n            if (!this.json.refinement) this.json.refinement = properties.json.refinement;\r\n            if (!this.json.geometricError) this.json.geometricError = properties.json.geometricError;\r\n            if (!this.json.transform) this.json.transform = properties.json.transform;\r\n            if (!this.json.boundingVolume) this.json.boundingVolume = properties.json.boundingVolume;\r\n        } else {\r\n            this.json = properties.json;\r\n        }\r\n        this.rootPath = !!properties.json.rootPath ? properties.json.rootPath : properties.rootPath;\r\n\r\n        // decode refinement\r\n        if (!!this.json.refinement) {\r\n            this.refinement = this.json.refinement;\r\n        } else {\r\n            this.refinement = properties.parentRefinement;\r\n        }\r\n        // decode geometric error\r\n        if (!!this.json.geometricError) {\r\n            this.geometricError = this.json.geometricError;\r\n        } else {\r\n            this.geometricError = properties.parentGeometricError;\r\n        }\r\n        // decode transform\r\n        if (!!this.json.transform) {\r\n            //this.matrix = new THREE.Matrix4();\r\n            this.matrix.elements = this.json.transform;\r\n            this.updateWorldMatrix(false, false);\r\n        }\r\n        // decode volume\r\n        if (!!this.json.boundingVolume) {\r\n            if (!!this.json.boundingVolume.box) {\r\n                this.boundingVolume = new OBB(this.json.boundingVolume.box);\r\n            } else if (!!this.json.boundingVolume.region) {\r\n                const region = this.json.boundingVolume.region;\r\n                this.boundingVolume = new THREE.Box3(new THREE.Vector3(region[0], region[2], region[4]), new THREE.Vector3(region[1], region[3], region[5]));\r\n            } else if (!!this.json.boundingVolume.sphere) {\r\n                const sphere = this.json.boundingVolume.sphere;\r\n                this.boundingVolume = new THREE.Sphere(new THREE.Vector3(sphere[0], sphere[2], -sphere[1]), sphere[3]);\r\n            } else {\r\n                this.boundingVolume = properties.parentBoundingVolume;\r\n            }\r\n        } else {\r\n            this.boundingVolume = properties.parentBoundingVolume;\r\n        }\r\n\r\n        if (!!this.json.content) { //if there is a content, json or otherwise, schedule it to be loaded \r\n            if (!!this.json.content.uri && this.json.content.uri.includes(\"json\")) {\r\n                this.hasUnloadedJSONContent = true;\r\n            } else if (!!this.json.content.url && this.json.content.url.includes(\"json\")) {\r\n                this.hasUnloadedJSONContent = true;\r\n            } else {\r\n                this.hasMeshContent = true;\r\n            }\r\n            scheduleLoadTile(this);\r\n        }\r\n    }\r\n    load() {\r\n        var self = this;\r\n        if (!!self.json.content) {\r\n            let url;\r\n            if (!!self.json.content.uri) {\r\n                if (path.isAbsolute(self.json.content.uri)) {\r\n                    url = self.json.content.uri;\r\n                } else {\r\n                    url = self.rootPath + path.sep + self.json.content.uri;\r\n                }\r\n            } else if (!!self.json.content.url) {\r\n                if (path.isAbsolute(self.json.content.url)) {\r\n                    url = self.json.content.url;\r\n                } else {\r\n                    url = self.rootPath + path.sep + self.json.content.url;\r\n                }\r\n            }\r\n\r\n            if (!!url) {\r\n                self.controller = new AbortController();\r\n                fetch(url, { signal: self.controller.signal }).then(result => {\r\n                    if (!result.ok) {\r\n                        throw new Error(`couldn't load \"${properties.url}\". Request failed with status ${result.status} : ${result.statusText}`);\r\n                    }\r\n                    if (url.includes(\"b3dm\")) {// if the content is B3DM\r\n                        result.arrayBuffer().then(buffer => B3DMDecoder.parseB3DM(buffer, self.meshCallback)).then(mesh => {\r\n                            mesh.traverse((o) => {\r\n                                if (o.isMesh) {\r\n                                    o.material.visible = false;\r\n                                }\r\n                            });\r\n                            self.add(mesh);\r\n                            self.meshContent = mesh;\r\n\r\n\r\n                        }).catch(error => { });\r\n                    } else if (url.includes(\"json\")) {// if the content is json\r\n                        result.json().then(json => {\r\n                            // when json content is downloaded, it is inserted into this tile's original JSON as a child\r\n                            // and the content object is deleted from the original JSON\r\n                            if (!self.json.children) self.json.children = [];\r\n                            json.rootPath = path.dirname(url);\r\n                            self.json.children.push(json);\r\n                            delete self.json.content;\r\n                            self.hasUnloadedJSONContent = false;\r\n                        }).catch(error => { });\r\n                    }\r\n                }).catch(error => {\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    disposeChildren() {\r\n        var self = this;\r\n\r\n        self.childrenTiles.forEach(tile => tile.traverse(function (element) {\r\n            if (!!element.controller) { // abort tile request\r\n                element.controller.abort();\r\n            }\r\n            if (element.material) {\r\n                // dispose materials\r\n                if (element.material.length) {\r\n                    for (let i = 0; i < element.material.length; ++i) {\r\n                        element.material[i].dispose();\r\n                    }\r\n                }\r\n                else {\r\n                    element.material.dispose()\r\n                }\r\n\r\n            }\r\n            if (element.geometry) {\r\n                // dispose geometry\r\n                element.geometry.dispose();\r\n\r\n            }\r\n        }));\r\n        for (let i = 0; i < this.childrenTiles.length; i++) {\r\n\r\n            const object = this.childrenTiles[i];\r\n\r\n            object.parent = null;\r\n\r\n            object.dispatchEvent({ type: 'removed' });\r\n\r\n        }\r\n        this.childrenTiles = [];\r\n        this.children = [];\r\n        if (!!this.meshContent) this.children.push(this.meshContent);\r\n    }\r\n\r\n\r\n    update(camera){\r\n        const frustum = new THREE.Frustum();\r\n        frustum.setFromProjectionMatrix(new THREE.Matrix4().multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse));\r\n        this._update(camera, frustum);\r\n    }\r\n    _update(camera, frustum) {\r\n        const self = this;\r\n\r\n        if (!!self.boundingVolume && !!self.geometricError) {\r\n            var metric = self.calculateUpdateMetric(camera, frustum);\r\n        }\r\n\r\n        updateTree(metric);\r\n        self.childrenTiles.forEach(child => child._update(camera, frustum));\r\n        updateNodeVisibility(metric);\r\n        trimTree(metric);\r\n\r\n\r\n        function updateTree(metric) {\r\n            // If this tile does not have mesh content but it has children\r\n            if(metric<0 && self.hasMeshContent) return;\r\n            if (!self.hasMeshContent || metric < self.geometricError) {\r\n                if (!!self.json && !!self.json.children && self.childrenTiles.length != self.json.children.length) {\r\n                    loadJsonChildren();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        function updateNodeVisibility(metric) {\r\n\r\n            //doesn't have a mesh content\r\n            if (!self.hasMeshContent) return;\r\n\r\n            // mesh content not yet loaded\r\n            if(!self.meshContent) {\r\n                return;\r\n            }\r\n\r\n            // outside frustum\r\n            if (metric < 0) {\r\n                self.inFrustum = false;\r\n                self.changeContentVisibility(!!self.loadOutsideView);\r\n                return;\r\n            }else{\r\n                self.inFrustum = true;\r\n            }\r\n\r\n            // has no children\r\n            if (self.childrenTiles.length == 0) {\r\n                self.changeContentVisibility(true);\r\n                return;\r\n            }\r\n\r\n            // has children\r\n            if (metric >= self.geometricError) { // Ideal LOD or before ideal lod\r\n\r\n                self.changeContentVisibility(true);\r\n            } else if (metric < self.geometricError) { // Ideal LOD is past this one\r\n                // if children are visible and have been displayed, can be hidden\r\n                var allChildrenReady = true;\r\n                self.childrenTiles.every(child => {\r\n                    \r\n                    if (!child.isReady()) {\r\n                        allChildrenReady = false;\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n                if (allChildrenReady) {\r\n                    self.changeContentVisibility(false);\r\n                }\r\n            }\r\n        }\r\n\r\n        function trimTree(metric) {\r\n            if (!self.hasMeshContent) return;\r\n            if (metric < 0) { // outside frustum\r\n                self.disposeChildren();\r\n                return;\r\n            }\r\n            if (metric >= self.geometricError) {\r\n                if (self.isReady()) {\r\n                    self.disposeChildren();\r\n                    return;\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n        function loadJsonChildren() {\r\n            self.json.children.forEach(childJSON => {\r\n                let childTile = new OGC3DTile({\r\n                    parentGeometricError: self.geometricError,\r\n                    parentBoundingVolume: self.boundingVolume,\r\n                    parentRefinement: self.refinement,\r\n                    json: childJSON,\r\n                    rootPath: self.rootPath,\r\n                    geometricErrorMultiplier: self.geometricErrorMultiplier,\r\n                    meshCallback: self.meshCallback,\r\n                    loadOutsideView: self.loadOutsideView\r\n                });\r\n                self.childrenTiles.push(childTile);\r\n                self.add(childTile);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Node is ready if it is outside frustum, if it was drawn at least once or if all it's children are ready\r\n     * @returns true if ready\r\n     */\r\n    isReady() {\r\n        // if outside frustum\r\n        if(!this.inFrustum) return true;\r\n\r\n        // if json is not done loading\r\n        if (this.hasUnloadedJSONContent) return false;\r\n\r\n        // if this tile has no mesh content or if it's marked as visible false, look at children\r\n        if ((!this.hasMeshContent || !this.meshContent || !this.materialVisibility) && this.childrenTiles.length>0) {\r\n            var allChildrenReady = true;\r\n            this.childrenTiles.every(child => {\r\n                if (!child.isReady()) {\r\n                    allChildrenReady = false;\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            return allChildrenReady;\r\n        }\r\n\r\n        // if this tile has no mesh content\r\n        if(!this.hasMeshContent){\r\n            return true;\r\n        }\r\n        // if mesh content not yet loaded\r\n        if(!this.meshContent) {\r\n            return false;\r\n        }\r\n\r\n        // if this tile has been marked to hide it's content\r\n        if (!this.materialVisibility) {\r\n            return false;\r\n        }\r\n\r\n        // if all meshes have been displayed once\r\n        if (this.meshesDisplayed == this.meshesToDisplay) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n        \r\n    }\r\n\r\n    \r\n\r\n    changeContentVisibility(visibility) {\r\n        const self = this;\r\n        if (self.materialVisibility == visibility) {\r\n            return;\r\n        }\r\n        self.materialVisibility = visibility\r\n        self.meshesToDisplay = 0;\r\n        self.meshesDisplayed = 0;\r\n        if (!!self.meshContent.traverse) {\r\n            self.meshContent.traverse(function (element) {\r\n                if (element.material) setMeshVisibility(element, visibility);\r\n            });\r\n        } else if (!!self.meshContent.scenes) {\r\n            self.meshContent.scenes.forEach(scene => scene.traverse(function (element) {\r\n                if (element.material) setMeshVisibility(element, visibility);\r\n            }));\r\n        }\r\n\r\n        function setMeshVisibility(mesh, visibility) {\r\n            mesh.material.visible = visibility;\r\n            if (!!visibility) {\r\n                self.meshesToDisplay++;\r\n                mesh.onAfterRender = () => {\r\n                    delete mesh.onAfterRender;\r\n                    self.meshesDisplayed++;\r\n                };\r\n            }\r\n\r\n        }\r\n    }\r\n    calculateUpdateMetric(camera, frustum) {\r\n        ////// return -1 if not in frustum\r\n        if (this.boundingVolume instanceof OBB) {\r\n            // box\r\n            tempSphere.copy(this.boundingVolume.sphere);\r\n            tempSphere.applyMatrix4(this.matrixWorld);\r\n            if (!frustum.intersectsSphere(tempSphere)) return -1;\r\n        } else if (this.boundingVolume instanceof THREE.Sphere) {\r\n            //sphere\r\n            tempSphere.copy(this.boundingVolume);\r\n            tempSphere.applyMatrix4(this.matrixWorld);\r\n            if (!frustum.intersectsSphere(tempSphere)) return -1;\r\n        } else if (this.boundingVolume instanceof THREE.Box3) {\r\n            // Region\r\n            // Region not supported\r\n            //throw Error(\"Region bounding volume not supported\");\r\n            return -1;\r\n        }\r\n\r\n        /////// return metric based on geometric error and distance\r\n        if (this.boundingVolume instanceof OBB || this.boundingVolume instanceof THREE.Sphere) {\r\n            // box\r\n            const distance = Math.max(0, camera.position.distanceTo(tempSphere.center) - tempSphere.radius);\r\n            if (distance == 0) {\r\n                return 0;\r\n            }\r\n            const scale = this.matrixWorld.getMaxScaleOnAxis ();\r\n            return ((distance / 100) / this.geometricErrorMultiplier)/scale;\r\n        } else if (this.boundingVolume instanceof THREE.Box3) {\r\n            // Region\r\n            // Region not supported\r\n            //throw Error(\"Region bounding volume not supported\");\r\n            return -1;\r\n        }\r\n\r\n    }\r\n\r\n    setGeometricErrorMultiplier(geometricErrorMultiplier) {\r\n        this.geometricErrorMultiplier = geometricErrorMultiplier;\r\n        this.childrenTiles.forEach(child => child.setGeometricErrorMultiplier(geometricErrorMultiplier));\r\n    }\r\n}\r\nexport { OGC3DTile };"],"sourceRoot":""}